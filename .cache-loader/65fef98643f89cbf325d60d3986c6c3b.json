{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/UploadRecipient/UploadRecipientSalesforce/UploadRecipientSalesforce.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/UploadRecipient/UploadRecipientSalesforce/UploadRecipientSalesforce.tsx","mtime":1675280254089},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHsKICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7CiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkKICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdDsKICAgIH07CiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7CmltcG9ydCB7IFNPYmplY3RUeXBlIH0gZnJvbSAnQHNyYy90eXBlcy9zYWxlc2ZvcmNlJzsKaW1wb3J0ICcuL1VwbG9hZFJlY2lwaWVudFNhbGVzZm9yY2Uuc2Nzcyc7CmltcG9ydCB7IEludGVncmF0aW9uVHlwZSwgUmVzb3VyY2VTdGF0dXMgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IHsgdmFsdWVzLCBkZWJvdW5jZSB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCBMb2FkZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL0xvYWRlci9Mb2FkZXInOwppbXBvcnQgU2VhcmNoSW5wdXQgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vU2VhcmNoSW5wdXQvU2VhcmNoSW5wdXQnOwppbXBvcnQgaGlzdG9yeSBmcm9tICdAc3JjL2xpYi9icm93c2VySGlzdG9yeSc7Ci8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGgKaW1wb3J0IE5vdEVuYWJsZWQgZnJvbSAnQHNyYy9jb21wb25lbnRzL1JpZ2h0U2lkZWJhci9jb21wb25lbnRzL1NhbGVzZm9yY2UvY29tcG9uZW50cy9Ob3RFbmFibGVkL05vdEVuYWJsZWQnOwp2YXIgVXBsb2FkUmVjaXBpZW50U2FsZXNmb3JjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhVcGxvYWRSZWNpcGllbnRTYWxlc2ZvcmNlLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gVXBsb2FkUmVjaXBpZW50U2FsZXNmb3JjZShwcm9wcykgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLnNlbGVjdFR5cGUgPSBmdW5jdGlvbiAodHlwZSkgewogICAgICAgICAgICB2YXIgc2FsZXNmb3JjZSA9IF90aGlzLnByb3BzLnNhbGVzZm9yY2U7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHNhbGVzZm9yY2VMaXN0OiB0eXBlICYmIHNhbGVzZm9yY2UgPyBzYWxlc2ZvcmNlW3R5cGVdIDogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgc2VsZWN0ZWRUeXBlOiB0eXBlLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7CiAgICAgICAgICAgIHZhciB0eXBlID0gdGFyZ2V0ICYmIHRhcmdldC5kYXRhc2V0ICYmIHRhcmdldC5kYXRhc2V0LnR5cGU7CiAgICAgICAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RUeXBlRGVib3VuY2VkKHR5cGUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuc2VsZWN0VHlwZURlYm91bmNlZCh1bmRlZmluZWQpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU2VhcmNoID0gZnVuY3Rpb24gKHF1ZXJ5LCBjb21wbGV0ZSkgewogICAgICAgICAgICB2YXIgc2FsZXNmb3JjZSA9IF90aGlzLnByb3BzLnNhbGVzZm9yY2U7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZFR5cGUgPSBfdGhpcy5zdGF0ZS5zZWxlY3RlZFR5cGU7CiAgICAgICAgICAgIGlmIChzYWxlc2ZvcmNlICYmIHNlbGVjdGVkVHlwZSAmJiBzYWxlc2ZvcmNlW3NlbGVjdGVkVHlwZV0gJiYgc2FsZXNmb3JjZVtzZWxlY3RlZFR5cGVdLmRhdGEpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICBzYWxlc2ZvcmNlTGlzdDogX19hc3NpZ24oX19hc3NpZ24oe30sIHNhbGVzZm9yY2Vbc2VsZWN0ZWRUeXBlXSksIHsgZGF0YTogc2FsZXNmb3JjZVtzZWxlY3RlZFR5cGVdLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwubmFtZS50b0xvd2VyQ2FzZSgpLm1hdGNoKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpOyB9KSB9KSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDbGlja091dHNpZGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoX3RoaXMuY29tcG9uZW50ICYmICFfdGhpcy5jb21wb25lbnQuY29udGFpbnMoZS50YXJnZXQpKSB7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DbGlja091dHNpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5jb21wb25lbnQgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJdGVtQ2xpY2sgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgc2VsZWN0ZWRUeXBlID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWRUeXBlOwogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgbGlzdENvbnRhY3RzID0gX2EubGlzdENvbnRhY3RzLCBvbkNsaWNrT3V0c2lkZSA9IF9hLm9uQ2xpY2tPdXRzaWRlLCBsaXN0TGVhZHMgPSBfYS5saXN0TGVhZHM7CiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKICAgICAgICAgICAgdmFyIGlkID0gdGFyZ2V0LmRhdGFzZXQgJiYgdGFyZ2V0LmRhdGFzZXQuaWQ7CiAgICAgICAgICAgIGlmIChpZCkgewogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkVHlwZSA9PT0gU09iamVjdFR5cGUuQ29udGFjdCkgewogICAgICAgICAgICAgICAgICAgIGxpc3RDb250YWN0cyhpZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsaXN0TGVhZHMoaWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgb25DbGlja091dHNpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlVXBncmFkZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgaGlzdG9yeS5wdXNoKCcvc2V0dGluZ3MvYmlsbGluZycpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2VsZWN0VHlwZURlYm91bmNlZCA9IGRlYm91bmNlKF90aGlzLnNlbGVjdFR5cGUsIDMwMCk7CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7fTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBVcGxvYWRSZWNpcGllbnRTYWxlc2ZvcmNlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBzYWxlc2ZvcmNlTGlzdFZpZXcgPSBfYS5zYWxlc2ZvcmNlTGlzdFZpZXcsIHNob3dVcGdyYWRlUHJvbXB0ID0gX2Euc2hvd1VwZ3JhZGVQcm9tcHQ7CiAgICAgICAgaWYgKCFzaG93VXBncmFkZVByb21wdCkgewogICAgICAgICAgICB2YWx1ZXMoU09iamVjdFR5cGUpLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHNhbGVzZm9yY2VMaXN0Vmlldyh0KTsgfSk7CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlKTsKICAgIH07CiAgICBVcGxvYWRSZWNpcGllbnRTYWxlc2ZvcmNlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSk7CiAgICAgICAgdGhpcy5zZWxlY3RUeXBlRGVib3VuY2VkLmNhbmNlbCgpOwogICAgfTsKICAgIFVwbG9hZFJlY2lwaWVudFNhbGVzZm9yY2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHNhbGVzZm9yY2UgPSBfYS5zYWxlc2ZvcmNlLCBzaG93VXBncmFkZVByb21wdCA9IF9hLnNob3dVcGdyYWRlUHJvbXB0LCBzYWxlc2ZvcmNlRW5hYmxlZCA9IF9hLnNhbGVzZm9yY2VFbmFibGVkOwogICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIHNhbGVzZm9yY2VMaXN0ID0gX2Iuc2FsZXNmb3JjZUxpc3QsIHNlbGVjdGVkVHlwZSA9IF9iLnNlbGVjdGVkVHlwZTsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidXBsb2FkLXJlY2lwaWVudC1zYWxlc2ZvcmNlIiwgcmVmOiB0aGlzLmhhbmRsZVJlZiwgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUgfSwKICAgICAgICAgICAgc2hvd1VwZ3JhZGVQcm9tcHQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzYWxlc2ZvcmNlLXVwZ3JhZGUtcHJvbXB0IiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDIiLCB7IGNsYXNzTmFtZTogInRpdGxlIiB9LCAiU2FsZXNmb3JjZSBJbnRlZ3JhdGlvbiIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDQiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LAogICAgICAgICAgICAgICAgICAgICJUbyBpbXBvcnQgU2VxdWVuY2UgcmVjaXBpZW50cyBkaXJlY3RseSBmcm9tIFNhbGVzZm9yY2UsIiwgIiAiLAogICAgICAgICAgICAgICAgICAgICJ1cGdyYWRlZCB0byBQb2x5bWFpbCBFbnRlcnByaXNlLiIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZVVwZ3JhZGUsIGNsYXNzTmFtZTogInVwZ3JhZGUiIH0sICJMZWFybiBNb3JlIikpLAogICAgICAgICAgICAhc2hvd1VwZ3JhZGVQcm9tcHQgJiYgIXNhbGVzZm9yY2VFbmFibGVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaW50ZWdyYXRpb24taW5zdGFsbCIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTm90RW5hYmxlZCwgeyBpbnRlZ3JhdGlvblR5cGU6IEludGVncmF0aW9uVHlwZS5TYWxlc2ZvcmNlIH0pKSwKICAgICAgICAgICAgIXNob3dVcGdyYWRlUHJvbXB0ICYmIHNhbGVzZm9yY2VFbmFibGVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic29iamVjdC1saXN0IiB9LCB2YWx1ZXMoU09iamVjdFR5cGUpLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidHlwZSIsICJkYXRhLXR5cGUiOiB0LCBrZXk6IHQsIG9uTW91c2VFbnRlcjogX3RoaXMuaGFuZGxlTW91c2VFbnRlciB9LCB0ICsgInMiKSk7IH0pKSwKICAgICAgICAgICAgc2FsZXNmb3JjZSAmJiBzZWxlY3RlZFR5cGUgJiYKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdsaXN0LXZpZXctbGlzdCcsIHNlbGVjdGVkVHlwZSksIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdmFsdWVzKFNPYmplY3RUeXBlKS5pbmRleE9mKHNlbGVjdGVkVHlwZSkgKiA0MCwKICAgICAgICAgICAgICAgICAgICB9IH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZWFyY2giIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VhcmNoSW5wdXQsIHsgb25TZWFyY2g6IHRoaXMuaGFuZGxlU2VhcmNoLCBwbGFjZWhvbGRlcjogIlNlYXJjaCBsaXN0cy4uLiIsIGRlZmF1bHRWYWx1ZTogIiIgfSkpLAogICAgICAgICAgICAgICAgICAgIHNhbGVzZm9yY2VMaXN0ICYmIHNhbGVzZm9yY2VMaXN0LmRhdGEgJiYKICAgICAgICAgICAgICAgICAgICAgICAgc2FsZXNmb3JjZUxpc3QuZGF0YS5tYXAoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImxpc3QtaXRlbSIsIGtleTogbC5pZCwgb25DbGljazogX3RoaXMuaGFuZGxlSXRlbUNsaWNrLCAiZGF0YS1pZCI6IGwuaWQgfSwgbC5uYW1lKSk7IH0pLAogICAgICAgICAgICAgICAgICAgICFzYWxlc2ZvcmNlTGlzdCB8fAogICAgICAgICAgICAgICAgICAgICAgICBzYWxlc2ZvcmNlTGlzdC5zdGF0dXMgPT09IFJlc291cmNlU3RhdHVzLlJlZnJlc2hpbmcgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibG9hZGluZyIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGVyLCBudWxsKSkpKSkpOwogICAgfTsKICAgIHJldHVybiBVcGxvYWRSZWNpcGllbnRTYWxlc2ZvcmNlOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgVXBsb2FkUmVjaXBpZW50U2FsZXNmb3JjZTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/UploadRecipient/UploadRecipientSalesforce/UploadRecipientSalesforce.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/UploadRecipient/UploadRecipientSalesforce/UploadRecipientSalesforce.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport { SFDCListView, SObjectType } from '@src/types/salesforce';\n\nimport './UploadRecipientSalesforce.scss';\nimport { IntegrationType, Resource, ResourceStatus } from '@src/types';\nimport { values, debounce } from 'lodash';\nimport Loader from '@src/components/Loader/Loader';\nimport SearchInput from '@src/components/Form/SearchInput/SearchInput';\nimport history from '@src/lib/browserHistory';\n// tslint:disable-next-line:max-line-length\nimport NotEnabled from '@src/components/RightSidebar/components/Salesforce/components/NotEnabled/NotEnabled';\n\nexport interface StateProps {\n  salesforce?: {\n    [list: string]: Resource<SFDCListView[]>;\n  };\n  showUpgradePrompt: boolean;\n  salesforceEnabled: boolean;\n}\n\nexport interface Props {\n  onClickOutside: () => void;\n}\n\nexport interface DispatchProps {\n  salesforceListView: (type: SObjectType) => void;\n  listContacts: (listView: string) => void;\n  listLeads: (listView: string) => void;\n}\n\ninterface State {\n  salesforceList?: Resource<SFDCListView[]>;\n  selectedType?: string;\n}\n\nclass UploadRecipientSalesforce extends React.PureComponent<\n  StateProps & DispatchProps & Props, State\n> {\n  selectTypeDebounced: any;\n  private component: HTMLDivElement;\n\n  constructor(props: StateProps & DispatchProps & Props) {\n    super(props);\n\n    this.selectTypeDebounced = debounce(this.selectType, 300);\n    this.state = {};\n  }\n\n  selectType = (type?: SObjectType) => {\n    const { salesforce } = this.props;\n\n    this.setState({\n      salesforceList: type && salesforce ? salesforce[type] : undefined,\n      selectedType: type,\n    });\n  }\n\n  componentDidMount() {\n    const { salesforceListView, showUpgradePrompt } = this.props;\n\n    if (!showUpgradePrompt) {\n      values(SObjectType).forEach(t => salesforceListView(t));\n    }\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n    this.selectTypeDebounced.cancel();\n  }\n\n  handleMouseEnter = (e: React.MouseEvent<HTMLDivElement>) => {\n    const target = e.target as HTMLElement;\n    const type = target && target.dataset && target.dataset.type;\n\n    if (type) {\n      this.selectTypeDebounced(type);\n    }\n  }\n\n  handleMouseLeave = (e: React.MouseEvent<HTMLDivElement>) => {\n    this.selectTypeDebounced(undefined);\n  }\n\n  handleSearch = (query: string, complete: boolean) => {\n    const { salesforce } = this.props;\n    const { selectedType } = this.state;\n\n    if (salesforce && selectedType && salesforce[selectedType] && salesforce[selectedType].data) {\n      this.setState({\n        salesforceList: {\n          ...salesforce[selectedType],\n          data: salesforce[selectedType].data!\n            .filter((l: SFDCListView) => l.name.toLowerCase().match(query.toLowerCase())),\n        },\n      });\n    }\n  }\n\n  handleClickOutside = (e: any) => {\n    if (this.component && !this.component.contains(e.target)) {\n      e.stopPropagation();\n      e.preventDefault();\n      this.props.onClickOutside();\n    }\n  }\n\n  handleRef = (ref: HTMLDivElement) => {\n    this.component = ref;\n  }\n\n  handleItemClick = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { selectedType } = this.state;\n    const { listContacts, onClickOutside, listLeads } = this.props;\n    const target = e.target as HTMLElement;\n    const id = target.dataset && target.dataset.id;\n\n    if (id) {\n      if (selectedType === SObjectType.Contact) {\n        listContacts(id);\n      } else {\n        listLeads(id);\n      }\n\n      onClickOutside();\n    }\n  }\n\n  handleUpgrade = (e: React.SyntheticEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    history.push('/settings/billing');\n  }\n\n  render() {\n    const { salesforce, showUpgradePrompt, salesforceEnabled } = this.props;\n    const { salesforceList, selectedType } = this.state;\n\n    return (\n      <div\n        className=\"upload-recipient-salesforce\"\n        ref={this.handleRef}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        {showUpgradePrompt && <div className=\"salesforce-upgrade-prompt\">\n          <h2 className=\"title\">Salesforce Integration</h2>\n          <h4 className=\"description\">To import Sequence recipients directly from Salesforce,{` `}\n            upgraded to Polymail Enterprise.</h4>\n          <button onClick={this.handleUpgrade} className=\"upgrade\">\n            Learn More\n          </button>\n        </div>}\n        {!showUpgradePrompt && !salesforceEnabled && <div className=\"integration-install\">\n          <NotEnabled integrationType={IntegrationType.Salesforce} />\n        </div>}\n        {!showUpgradePrompt && salesforceEnabled && <div className=\"sobject-list\">\n          {values(SObjectType).map(t => (\n            <div\n              className=\"type\"\n              data-type={t}\n              key={t}\n              onMouseEnter={this.handleMouseEnter}\n            >\n              {`${t}s`}\n            </div>\n          ))}\n        </div>}\n        {salesforce && selectedType &&\n          <div\n            className={classnames('list-view-list', selectedType)}\n            style={{\n              top: values(SObjectType).indexOf(selectedType as any) * 40,\n            }}\n          >\n            <div className=\"search\">\n              <SearchInput\n                onSearch={this.handleSearch}\n                placeholder=\"Search lists...\"\n                defaultValue=\"\"\n              />\n            </div>\n            {salesforceList && salesforceList.data &&\n              salesforceList.data.map(\n                (l: SFDCListView) => (\n                  <button\n                    className=\"list-item\"\n                    key={l.id}\n                    onClick={this.handleItemClick}\n                    data-id={l.id}\n                  >\n                    {l.name}\n                  </button>\n                ),\n              )}\n            {!salesforceList ||\n              salesforceList.status === ResourceStatus.Refreshing && (\n              <div className=\"loading\">\n                <Loader />\n              </div>\n            )}\n          </div>}\n      </div>\n    );\n  }\n}\n\nexport default UploadRecipientSalesforce;\n"]}]}