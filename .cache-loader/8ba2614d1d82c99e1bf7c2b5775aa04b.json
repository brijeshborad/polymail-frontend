{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/epics/integrations.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/epics/integrations.ts","mtime":1675280254056},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBJbnRlZ3JhdGlvblR5cGUsIEFjdGlvblN0YXR1cywgSW50ZWdyYXRpb25TdGF0dXMgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IHsgQ29uZmlybWF0aW9uRXJyb3IsIENvbmZpcm1hdGlvblBvc2l0b24sIHRvYXN0U2V0IH0gZnJvbSAnQHNyYy9kdWNrcy90b2FzdHMnOwppbXBvcnQgeyBJTlRFR1JBVElPTl9MSVNULCBpbnRlZ3JhdGlvbkxpc3QsIElOVEVHUkFUSU9OX1NBTEVTRk9SQ0VfTE9HSU4sIGludGVncmF0aW9uU2FsZXNmb3JjZUxvZ2luLCBJTlRFR1JBVElPTl9TTEFDS19MT0dJTiwgaW50ZWdyYXRpb25TbGFja0xvZ2luLCBJTlRFR1JBVElPTl9TTEFDS19MT0dPVVQsIGludGVncmF0aW9uQXNhbmFMb2dpbiwgaW50ZWdyYXRpb25ab29tTG9naW4sIElOVEVHUkFUSU9OX0FTQU5BX0xPR0lOLCBJTlRFR1JBVElPTl9BU0FOQV9MT0dPVVQsIElOVEVHUkFUSU9OX0FTQU5BX1VQREFURSwgSU5URUdSQVRJT05fWk9PTV9MT0dJTiwgSU5URUdSQVRJT05fWk9PTV9MT0dPVVQsIElOVEVHUkFUSU9OX0hVQlNQT1RfTE9HT1VULCBpbnRlZ3JhdGlvbkh1YnNwb3RMb2dpbiwgSU5URUdSQVRJT05fSFVCU1BPVF9MT0dJTiwgfSBmcm9tICdAc3JjL2R1Y2tzL2ludGVncmF0aW9ucyc7CmltcG9ydCB7IGlzRWxlY3Ryb24gfSBmcm9tICdAc3JjL2xpYi9lbGVjdHJvbic7CmltcG9ydCB7IHJlY29yZEV2ZW50LCBVc2VyRXZlbnRzIH0gZnJvbSAnQHNyYy9saWIvYW5hbHl0aWNzJzsKaW1wb3J0IHsgZ2V0VXJsIH0gZnJvbSAnQHNyYy9saWIvdXRpbHMnOwp2YXIgbGlzdEludGVncmF0aW9ucyA9IGZ1bmN0aW9uIChhY3Rpb24kLCBzdG9yZSwgZGVwcykgewogICAgcmV0dXJuIGFjdGlvbiQub2ZUeXBlKElOVEVHUkFUSU9OX0xJU1QpCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uc3RhdHVzID09PSBBY3Rpb25TdGF0dXMuU3RhcnQ7IH0pCiAgICAgICAgLmZsYXRNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVwcy5pbnRlZ3JhdGlvbnMubGlzdCgpOyB9KQogICAgICAgIC5tYXAoZnVuY3Rpb24gKGludGVncmF0aW9ucykgeyByZXR1cm4gaW50ZWdyYXRpb25MaXN0KG51bGwsIGludGVncmF0aW9ucyk7IH0pOwp9Owp2YXIgc2FsZXNmb3JjZUxvZ2luID0gZnVuY3Rpb24gKGFjdGlvbiQsIHN0b3JlLCBkZXBzKSB7CiAgICByZXR1cm4gYWN0aW9uJC5vZlR5cGUoSU5URUdSQVRJT05fU0FMRVNGT1JDRV9MT0dJTikKICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuIGFjdGlvbi5zdGF0dXMgPT09IEFjdGlvblN0YXR1cy5TdGFydDsgfSkKICAgICAgICAuZmxhdE1hcChmdW5jdGlvbiAoYWN0aW9uKSB7CiAgICAgICAgdmFyIHJlZGlyZWN0VXJsID0gZ2V0VXJsKCcvc2V0dGluZ3MvaW50ZWdyYXRpb25zL3NhbGVzZm9yY2U/aW50ZWdyYXRpb25SZWZyZXNoPXRydWUnKTsKICAgICAgICB2YXIgcmVhdXRob3JpemUgPSBzdG9yZS5nZXRTdGF0ZSgpLmludGVncmF0aW9ucwogICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChpbnQpIHsKICAgICAgICAgICAgcmV0dXJuIGludC50eXBlID09PSBJbnRlZ3JhdGlvblR5cGUuU2FsZXNmb3JjZSAmJgogICAgICAgICAgICAgICAgaW50LnN0YXR1cyAhPT0gSW50ZWdyYXRpb25TdGF0dXMuUmVhZHk7CiAgICAgICAgfSkubGVuZ3RoID4gMDsKICAgICAgICByZXR1cm4gZGVwcy5pbnRlZ3JhdGlvbnMKICAgICAgICAgICAgLmxvZ2luKGFjdGlvbi5tZXRhLCBJbnRlZ3JhdGlvblR5cGUuU2FsZXNmb3JjZSwgcmVkaXJlY3RVcmwsIGlzRWxlY3Ryb24sICEhcmVhdXRob3JpemUpCiAgICAgICAgICAgIC5kbyhmdW5jdGlvbiAodXJsKSB7IHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsgfSkKICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodXJsKSB7IHJldHVybiBpbnRlZ3JhdGlvblNhbGVzZm9yY2VMb2dpbihhY3Rpb24ubWV0YSwgdXJsKTsgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBPYnNlcnZhYmxlLm9mKHRvYXN0U2V0KGUpKTsgfSk7CiAgICB9KTsKfTsKdmFyIHNsYWNrTG9naW4gPSBmdW5jdGlvbiAoYWN0aW9uJCwgc3RvcmUsIGRlcHMpIHsKICAgIHJldHVybiBhY3Rpb24kLm9mVHlwZShJTlRFR1JBVElPTl9TTEFDS19MT0dJTikKICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuIGFjdGlvbi5zdGF0dXMgPT09IEFjdGlvblN0YXR1cy5TdGFydDsgfSkKICAgICAgICAuZG8oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVjb3JkRXZlbnQoVXNlckV2ZW50cy5TbGFja0ludGVncmF0aW9uSW5zdGFsbGVkKTsgfSkKICAgICAgICAuZmxhdE1hcChmdW5jdGlvbiAoYWN0aW9uKSB7CiAgICAgICAgdmFyIHJlZGlyZWN0VXJsID0gZ2V0VXJsKCcvc2V0dGluZ3MvaW50ZWdyYXRpb25zL3NsYWNrP2ludGVncmF0aW9uUmVmcmVzaD10cnVlJyk7CiAgICAgICAgdmFyIHJlYXV0aG9yaXplID0gc3RvcmUuZ2V0U3RhdGUoKS5pbnRlZ3JhdGlvbnMKICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaW50KSB7IHJldHVybiBpbnQudHlwZSA9PT0gSW50ZWdyYXRpb25UeXBlLlNsYWNrOyB9KS5sZW5ndGggPiAwOwogICAgICAgIHJldHVybiBkZXBzLmludGVncmF0aW9ucwogICAgICAgICAgICAubG9naW4oYWN0aW9uLm1ldGEsIEludGVncmF0aW9uVHlwZS5TbGFjaywgcmVkaXJlY3RVcmwsIGlzRWxlY3Ryb24sICEhcmVhdXRob3JpemUpCiAgICAgICAgICAgIC5kbyhmdW5jdGlvbiAodXJsKSB7IHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsgfSkKICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodXJsKSB7IHJldHVybiBpbnRlZ3JhdGlvblNsYWNrTG9naW4oYWN0aW9uLm1ldGEsIHVybCk7IH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gT2JzZXJ2YWJsZS5vZih0b2FzdFNldChlKSk7IH0pOwogICAgfSk7Cn07CnZhciBhc2FuYUxvZ2luID0gZnVuY3Rpb24gKGFjdGlvbiQsIHN0b3JlLCBkZXBzKSB7CiAgICByZXR1cm4gYWN0aW9uJC5vZlR5cGUoSU5URUdSQVRJT05fQVNBTkFfTE9HSU4pCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uc3RhdHVzID09PSBBY3Rpb25TdGF0dXMuU3RhcnQ7IH0pCiAgICAgICAgLmZsYXRNYXAoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICAgIHZhciByZWRpcmVjdFVybCA9IGdldFVybCgnL3NldHRpbmdzL2ludGVncmF0aW9ucy9hc2FuYT9pbnRlZ3JhdGlvblJlZnJlc2g9dHJ1ZScpOwogICAgICAgIHZhciByZWF1dGhvcml6ZSA9IHN0b3JlLmdldFN0YXRlKCkuaW50ZWdyYXRpb25zCiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGludCkgeyByZXR1cm4gaW50LnR5cGUgPT09IEludGVncmF0aW9uVHlwZS5Bc2FuYTsgfSkubGVuZ3RoID4gMDsKICAgICAgICByZXR1cm4gZGVwcy5pbnRlZ3JhdGlvbnMKICAgICAgICAgICAgLmxvZ2luKGFjdGlvbi5tZXRhLCBJbnRlZ3JhdGlvblR5cGUuQXNhbmEsIHJlZGlyZWN0VXJsLCBpc0VsZWN0cm9uLCAhIXJlYXV0aG9yaXplKQogICAgICAgICAgICAuZG8oZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7IH0pCiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gaW50ZWdyYXRpb25Bc2FuYUxvZ2luKGFjdGlvbi5tZXRhLCB1cmwpOyB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIE9ic2VydmFibGUub2YodG9hc3RTZXQoZSkpOyB9KTsKICAgIH0pOwp9Owp2YXIgc2xhY2tMb2dvdXQgPSBmdW5jdGlvbiAoYWN0aW9uJCwgc3RvcmUsIGRlcHMpIHsKICAgIHJldHVybiBhY3Rpb24kLm9mVHlwZShJTlRFR1JBVElPTl9TTEFDS19MT0dPVVQpCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uc3RhdHVzID09PSBBY3Rpb25TdGF0dXMuU3RhcnQ7IH0pCiAgICAgICAgLmZsYXRNYXAoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICAgIHJldHVybiBkZXBzLmludGVncmF0aW9ucwogICAgICAgICAgICAubG9nb3V0U2xhY2soKQogICAgICAgICAgICAubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGludGVncmF0aW9uTGlzdChudWxsKTsgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBPYnNlcnZhYmxlLm9mKHRvYXN0U2V0KGUpKTsgfSk7CiAgICB9KTsKfTsKdmFyIGFzYW5hTG9nb3V0ID0gZnVuY3Rpb24gKGFjdGlvbiQsIHN0b3JlLCBkZXBzKSB7CiAgICByZXR1cm4gYWN0aW9uJC5vZlR5cGUoSU5URUdSQVRJT05fQVNBTkFfTE9HT1VUKQogICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGFjdGlvbikgeyByZXR1cm4gYWN0aW9uLnN0YXR1cyA9PT0gQWN0aW9uU3RhdHVzLlN0YXJ0OyB9KQogICAgICAgIC5mbGF0TWFwKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICByZXR1cm4gZGVwcy5pbnRlZ3JhdGlvbnMKICAgICAgICAgICAgLmxvZ291dEFzYW5hKCkKICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbnRlZ3JhdGlvbkxpc3QobnVsbCk7IH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gT2JzZXJ2YWJsZS5vZih0b2FzdFNldChlKSk7IH0pOwogICAgfSk7Cn07CnZhciBhc2FuYVVwZGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24kLCBzdG9yZSwgZGVwcykgewogICAgcmV0dXJuIGFjdGlvbiQub2ZUeXBlKElOVEVHUkFUSU9OX0FTQU5BX1VQREFURSkKICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuIGFjdGlvbi5zdGF0dXMgPT09IEFjdGlvblN0YXR1cy5TdGFydDsgfSkKICAgICAgICAuZmxhdE1hcChmdW5jdGlvbiAoYWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIGRlcHMuaW50ZWdyYXRpb25zCiAgICAgICAgICAgIC51cGRhdGVBc2FuYShhY3Rpb24ubWV0YSkKICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbnRlZ3JhdGlvbkxpc3QobnVsbCk7IH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gT2JzZXJ2YWJsZS5vZih0b2FzdFNldChlKSk7IH0pOwogICAgfSk7Cn07CnZhciB6b29tTG9nb3V0ID0gZnVuY3Rpb24gKGFjdGlvbiQsIHN0b3JlLCBkZXBzKSB7CiAgICByZXR1cm4gYWN0aW9uJC5vZlR5cGUoSU5URUdSQVRJT05fWk9PTV9MT0dPVVQpCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uc3RhdHVzID09PSBBY3Rpb25TdGF0dXMuU3RhcnQ7IH0pCiAgICAgICAgLmZsYXRNYXAoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICAgIHJldHVybiBkZXBzLmludGVncmF0aW9ucwogICAgICAgICAgICAubG9nb3V0Wm9vbSgpCiAgICAgICAgICAgIC5mbGF0TWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9ic2VydmFibGUubWVyZ2UoT2JzZXJ2YWJsZS5vZihpbnRlZ3JhdGlvbkxpc3QobnVsbCkpLCBPYnNlcnZhYmxlLm9mKHRvYXN0U2V0KG5ldyBDb25maXJtYXRpb25FcnJvcignU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgWm9vbSBpbnRlZ3JhdGlvbicsIHRydWUsIENvbmZpcm1hdGlvblBvc2l0b24uVG9wQ2VudGVyKSkpKTsgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBPYnNlcnZhYmxlLm9mKHRvYXN0U2V0KGUpKTsgfSk7CiAgICB9KTsKfTsKdmFyIGh1YnNwb3RMb2dpbiA9IGZ1bmN0aW9uIChhY3Rpb24kLCBzdG9yZSwgZGVwcykgewogICAgcmV0dXJuIGFjdGlvbiQub2ZUeXBlKElOVEVHUkFUSU9OX0hVQlNQT1RfTE9HSU4pCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uc3RhdHVzID09PSBBY3Rpb25TdGF0dXMuU3RhcnQ7IH0pCiAgICAgICAgLmZsYXRNYXAoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICAgIHZhciByZWRpcmVjdFVybCA9IGdldFVybCgnL3NldHRpbmdzL2ludGVncmF0aW9ucy9odWJzcG90P2ludGVncmF0aW9uUmVmcmVzaD10cnVlJyk7CiAgICAgICAgdmFyIHJlYXV0aG9yaXplID0gc3RvcmUuZ2V0U3RhdGUoKS5pbnRlZ3JhdGlvbnMKICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaW50KSB7IHJldHVybiBpbnQudHlwZSA9PT0gSW50ZWdyYXRpb25UeXBlLkh1YnNwb3Q7IH0pLmxlbmd0aCA+IDA7CiAgICAgICAgcmV0dXJuIGRlcHMuaW50ZWdyYXRpb25zCiAgICAgICAgICAgIC5sb2dpbihhY3Rpb24ubWV0YSwgSW50ZWdyYXRpb25UeXBlLkh1YnNwb3QsIHJlZGlyZWN0VXJsLCBpc0VsZWN0cm9uLCAhIXJlYXV0aG9yaXplKQogICAgICAgICAgICAuZG8oZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7IH0pCiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gaW50ZWdyYXRpb25IdWJzcG90TG9naW4oYWN0aW9uLm1ldGEsIHVybCk7IH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gT2JzZXJ2YWJsZS5vZih0b2FzdFNldChlKSk7IH0pOwogICAgfSk7Cn07CnZhciBodWJzcG90TG9nb3V0ID0gZnVuY3Rpb24gKGFjdGlvbiQsIHN0b3JlLCBkZXBzKSB7CiAgICByZXR1cm4gYWN0aW9uJC5vZlR5cGUoSU5URUdSQVRJT05fSFVCU1BPVF9MT0dPVVQpCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uc3RhdHVzID09PSBBY3Rpb25TdGF0dXMuU3RhcnQ7IH0pCiAgICAgICAgLmZsYXRNYXAoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICAgIHJldHVybiBkZXBzLmludGVncmF0aW9ucwogICAgICAgICAgICAubG9nb3V0SHVic3BvdCgpCiAgICAgICAgICAgIC5mbGF0TWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9ic2VydmFibGUubWVyZ2UoT2JzZXJ2YWJsZS5vZihpbnRlZ3JhdGlvbkxpc3QobnVsbCkpLCBPYnNlcnZhYmxlLm9mKHRvYXN0U2V0KG5ldyBDb25maXJtYXRpb25FcnJvcignU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgSHViU3BvdCBpbnRlZ3JhdGlvbicsIHRydWUsIENvbmZpcm1hdGlvblBvc2l0b24uVG9wQ2VudGVyKSkpKTsgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBPYnNlcnZhYmxlLm9mKHRvYXN0U2V0KGUpKTsgfSk7CiAgICB9KTsKfTsKdmFyIHpvb21Mb2dpbiA9IGZ1bmN0aW9uIChhY3Rpb24kLCBzdG9yZSwgZGVwcykgewogICAgcmV0dXJuIGFjdGlvbiQub2ZUeXBlKElOVEVHUkFUSU9OX1pPT01fTE9HSU4pCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uc3RhdHVzID09PSBBY3Rpb25TdGF0dXMuU3RhcnQ7IH0pCiAgICAgICAgLmZsYXRNYXAoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICAgIHZhciByZWRpcmVjdFVybCA9IGdldFVybCgnL3NldHRpbmdzL2ludGVncmF0aW9ucy96b29tP2ludGVncmF0aW9uUmVmcmVzaD10cnVlJyk7CiAgICAgICAgdmFyIHJlYXV0aG9yaXplID0gc3RvcmUuZ2V0U3RhdGUoKS5pbnRlZ3JhdGlvbnMKICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaW50KSB7IHJldHVybiBpbnQudHlwZSA9PT0gSW50ZWdyYXRpb25UeXBlLlpvb207IH0pLmxlbmd0aCA+IDA7CiAgICAgICAgcmV0dXJuIGRlcHMuaW50ZWdyYXRpb25zCiAgICAgICAgICAgIC5sb2dpbihhY3Rpb24ubWV0YSwgSW50ZWdyYXRpb25UeXBlLlpvb20sIHJlZGlyZWN0VXJsLCBpc0VsZWN0cm9uLCAhIXJlYXV0aG9yaXplKQogICAgICAgICAgICAuZG8oZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7IH0pCiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gaW50ZWdyYXRpb25ab29tTG9naW4oYWN0aW9uLm1ldGEsIHVybCk7IH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gT2JzZXJ2YWJsZS5vZih0b2FzdFNldChlKSk7IH0pOwogICAgfSk7Cn07CmV4cG9ydCBkZWZhdWx0IFsKICAgIGxpc3RJbnRlZ3JhdGlvbnMsCiAgICBzYWxlc2ZvcmNlTG9naW4sCiAgICBzbGFja0xvZ2luLAogICAgc2xhY2tMb2dvdXQsCiAgICBhc2FuYUxvZ2luLAogICAgYXNhbmFMb2dvdXQsCiAgICBhc2FuYVVwZGF0ZSwKICAgIHpvb21Mb2dpbiwKICAgIHpvb21Mb2dvdXQsCiAgICBodWJzcG90TG9nb3V0LAogICAgaHVic3BvdExvZ2luLApdOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/epics/integrations.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/epics/integrations.ts"],"names":[],"mappings":"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","sourcesContent":["import { Observable } from 'rxjs';\nimport { Epic } from 'redux-observable';\n\nimport { Deps } from '@src/lib/epic';\nimport { Integration, IntegrationType, StoreState, Action, ActionStatus, IntegrationStatus } from '@src/types';\nimport { ConfirmationError, ConfirmationPositon, toastSet } from '@src/ducks/toasts';\n\nimport {\n  INTEGRATION_LIST, integrationList,\n  INTEGRATION_SALESFORCE_LOGIN,\n  integrationSalesforceLogin,\n  INTEGRATION_SLACK_LOGIN,\n  integrationSlackLogin,\n  INTEGRATION_SLACK_LOGOUT,\n  integrationAsanaLogin,\n  integrationZoomLogin,\n  INTEGRATION_ASANA_LOGIN,\n  INTEGRATION_ASANA_LOGOUT,\n  INTEGRATION_ASANA_UPDATE,\n  INTEGRATION_ZOOM_LOGIN,\n  INTEGRATION_ZOOM_LOGOUT,\n  INTEGRATION_HUBSPOT_LOGOUT,\n  integrationHubspotLogin,\n  INTEGRATION_HUBSPOT_LOGIN,\n\n} from '@src/ducks/integrations';\nimport { isElectron } from '@src/lib/electron';\nimport { recordEvent, UserEvents } from '@src/lib/analytics';\nimport { getUrl } from '@src/lib/utils';\n\nconst listIntegrations: Epic<Action<null, Integration[]>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_LIST)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap(() => deps.integrations.list())\n      .map(integrations => integrationList(null, integrations));\n\nconst salesforceLogin: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_SALESFORCE_LOGIN)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<string, string>) => {\n        const redirectUrl = getUrl('/settings/integrations/salesforce?integrationRefresh=true');\n\n        const reauthorize = store.getState().integrations\n          .filter(int =>\n            int.type === IntegrationType.Salesforce &&\n            int.status !== IntegrationStatus.Ready,\n          ).length > 0;\n\n        return deps.integrations\n          .login(action.meta, IntegrationType.Salesforce, redirectUrl, isElectron, !!reauthorize)\n          .do(url => window.location.href = url)\n          .map(url => integrationSalesforceLogin(action.meta, url))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst slackLogin: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_SLACK_LOGIN)\n      .filter(action => action.status === ActionStatus.Start)\n      .do(() => recordEvent(UserEvents.SlackIntegrationInstalled))\n      .flatMap((action: Action<string, string>) => {\n        const redirectUrl = getUrl('/settings/integrations/slack?integrationRefresh=true');\n\n        const reauthorize = store.getState().integrations\n          .filter(int => int.type === IntegrationType.Slack).length > 0;\n\n        return deps.integrations\n          .login(action.meta, IntegrationType.Slack, redirectUrl, isElectron, !!reauthorize)\n          .do(url => window.location.href = url)\n          .map(url => integrationSlackLogin(action.meta, url))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst asanaLogin: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_ASANA_LOGIN)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<string, string>) => {\n        const redirectUrl = getUrl('/settings/integrations/asana?integrationRefresh=true');\n\n        const reauthorize = store.getState().integrations\n          .filter(int => int.type === IntegrationType.Asana).length > 0;\n\n        return deps.integrations\n          .login(action.meta, IntegrationType.Asana, redirectUrl, isElectron, !!reauthorize)\n          .do(url => window.location.href = url)\n          .map(url => integrationAsanaLogin(action.meta, url))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst slackLogout: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_SLACK_LOGOUT)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<null, string>) => {\n        return deps.integrations\n          .logoutSlack()\n          .map(() => integrationList(null))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst asanaLogout: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_ASANA_LOGOUT)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<null, string>) => {\n        return deps.integrations\n          .logoutAsana()\n          .map(() => integrationList(null))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst asanaUpdate: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_ASANA_UPDATE)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<string, string>) => {\n        return deps.integrations\n          .updateAsana(action.meta)\n          .map(() => integrationList(null))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst zoomLogout: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_ZOOM_LOGOUT)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<null, string>) => {\n        return deps.integrations\n          .logoutZoom()\n          .flatMap(() => Observable.merge(\n            Observable.of(integrationList(null)),\n            Observable.of(toastSet(\n              new ConfirmationError(\n                'Successfully removed Zoom integration',\n                true,\n                ConfirmationPositon.TopCenter,\n                ),\n            )),\n          ))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst hubspotLogin: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_HUBSPOT_LOGIN)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<string, string>) => {\n        const redirectUrl = getUrl('/settings/integrations/hubspot?integrationRefresh=true');\n\n        const reauthorize = store.getState().integrations\n          .filter(int => int.type === IntegrationType.Hubspot).length > 0;\n\n        return deps.integrations\n          .login(action.meta, IntegrationType.Hubspot, redirectUrl, isElectron, !!reauthorize)\n          .do(url => window.location.href = url)\n          .map(url => integrationHubspotLogin(action.meta, url))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst hubspotLogout: Epic<Action<any, any>, StoreState, Deps> =\n  (action$, store, deps) =>\n    action$.ofType(INTEGRATION_HUBSPOT_LOGOUT)\n      .filter(action => action.status === ActionStatus.Start)\n      .flatMap((action: Action<null, string>) => {\n        return deps.integrations\n          .logoutHubspot()\n          .flatMap(() => Observable.merge(\n            Observable.of(integrationList(null)),\n            Observable.of(toastSet(\n              new ConfirmationError(\n                'Successfully removed HubSpot integration',\n                true,\n                ConfirmationPositon.TopCenter,\n              ),\n            )),\n          ))\n          .catch(e => Observable.of(toastSet(e)));\n      });\n\nconst zoomLogin: Epic<Action<any, any>, StoreState, Deps> =\n      (action$, store, deps) =>\n        action$.ofType(INTEGRATION_ZOOM_LOGIN)\n          .filter(action => action.status === ActionStatus.Start)\n          .flatMap((action: Action<string, string>) => {\n            const redirectUrl = getUrl('/settings/integrations/zoom?integrationRefresh=true');\n\n            const reauthorize = store.getState().integrations\n              .filter(int => int.type === IntegrationType.Zoom).length > 0;\n\n            return deps.integrations\n              .login(action.meta, IntegrationType.Zoom, redirectUrl, isElectron, !!reauthorize)\n              .do(url => window.location.href = url)\n              .map(url => integrationZoomLogin(action.meta, url))\n              .catch(e => Observable.of(toastSet(e)));\n          });\n\nexport default [\n  listIntegrations,\n  salesforceLogin,\n  slackLogin,\n  slackLogout,\n  asanaLogin,\n  asanaLogout,\n  asanaUpdate,\n  zoomLogin,\n  zoomLogout,\n  hubspotLogout,\n  hubspotLogin,\n];\n"]}]}