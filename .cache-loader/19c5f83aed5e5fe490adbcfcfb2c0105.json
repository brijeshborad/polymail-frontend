{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SendTestEmail/SendTestEmail.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SendTestEmail/SendTestEmail.tsx","mtime":1675280254091},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBDbG9zZSBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvQ2xvc2Uuc3ZnJzsKaW1wb3J0ICcuL1NlbmRUZXN0RW1haWwuc2Nzcyc7CmltcG9ydCBDaGVja2JveCBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9DaGVja2JveC9DaGVja2JveCc7CnZhciBTZW5kVGVzdEVtYWlsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFNlbmRUZXN0RW1haWwsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBTZW5kVGVzdEVtYWlsKHByb3BzKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlQ2hlY2tib3hUb2dnbGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBpbnNlcnRWYXJpYWJsZXMgPSBfdGhpcy5zdGF0ZS5pbnNlcnRWYXJpYWJsZXM7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGluc2VydFZhcmlhYmxlczogIWluc2VydFZhcmlhYmxlcywKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgZW1haWxzOiBfdGhpcy5pbnB1dC52YWx1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dFJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMuaW5wdXQgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTZW5kQ2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBvblNlbmQgPSBfdGhpcy5wcm9wcy5vblNlbmQ7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnN0YXRlLCBpbnNlcnRWYXJpYWJsZXMgPSBfYS5pbnNlcnRWYXJpYWJsZXMsIGVtYWlscyA9IF9hLmVtYWlsczsKICAgICAgICAgICAgb25TZW5kKGVtYWlscy5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS50cmltKCk7IH0pLCBpbnNlcnRWYXJpYWJsZXMpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIGVtYWlsczogcHJvcHMuZGVmYXVsdFZhbHVlLAogICAgICAgICAgICBpbnNlcnRWYXJpYWJsZXM6IGZhbHNlLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgU2VuZFRlc3RFbWFpbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIG9uQ2xvc2UgPSBfYS5vbkNsb3NlLCBkZWZhdWx0VmFsdWUgPSBfYS5kZWZhdWx0VmFsdWU7CiAgICAgICAgdmFyIGluc2VydFZhcmlhYmxlcyA9IHRoaXMuc3RhdGUuaW5zZXJ0VmFyaWFibGVzOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZW5kLXRlc3QtZW1haWwiIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImgxIiwgbnVsbCwgIlNlbmQgYSB0ZXN0IGVtYWlsIiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGVzdC1lbWFpbC1jb250YWluZXIiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImlucHV0LWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIHsgY2xhc3NOYW1lOiAiYm9sZCIgfSwgIlNlbmQgdG8iKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIHJlZjogdGhpcy5oYW5kbGVJbnB1dFJlZiwgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlRvIHNlbmQgdG8gbXVsdGlwbGUgZW1haWxzIHNlcGFyYXRlIHRoZW0gYnkgYSBjb21tYSIpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY2hlY2tib3gtY29udGFpbmVyIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIHsgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hlY2tib3hUb2dnbGUsIGNoZWNrZWQ6IGluc2VydFZhcmlhYmxlcyB9KSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNCIsIG51bGwsICJJbmNsdWRlIHNhbXBsZSByZWNpcGllbnQgdmFyaWFibGVzIikpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJzZW5kLWJ1dHRvbiIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2VuZENsaWNrIH0sICJTZW5kIikpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImNsb3NlLWJ1dHRvbiIsIG9uQ2xpY2s6IG9uQ2xvc2UgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xvc2UsIHsgY2xhc3NOYW1lOiAiaWNvbiIgfSkpKSk7CiAgICB9OwogICAgcmV0dXJuIFNlbmRUZXN0RW1haWw7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBTZW5kVGVzdEVtYWlsOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SendTestEmail/SendTestEmail.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SendTestEmail/SendTestEmail.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,KAAK,MAAM,iCAAiC,CAAC;AAEpD,OAAO,sBAAsB,CAAC;AAC9B,OAAO,QAAQ,MAAM,wCAAwC,CAAC;AAa9D;IAA4B,iCAAiC;IAG3D,uBAAY,KAAY;QAAxB,YACE,kBAAM,KAAK,CAAC,SAMb;QAED,0BAAoB,GAAG;YACb,IAAA,6CAAe,CAAgB;YAEvC,KAAI,CAAC,QAAQ,CAAC;gBACZ,eAAe,EAAE,CAAC,eAAe;aAClC,CAAC,CAAC;QACL,CAAC,CAAA;QAED,uBAAiB,GAAG;YAClB,KAAI,CAAC,QAAQ,CAAC;gBACZ,MAAM,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK;aACzB,CAAC,CAAC;QACL,CAAC,CAAA;QAED,oBAAc,GAAG,UAAC,GAAqB;YACrC,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QACnB,CAAC,CAAA;QAED,qBAAe,GAAG;YACR,IAAA,2BAAM,CAAgB;YACxB,IAAA,gBAAwC,EAAtC,oCAAe,EAAE,kBAAqB,CAAC;YAE/C,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,EAAE,eAAe,CAAC,CAAC;QAChE,CAAC,CAAA;QA7BC,KAAI,CAAC,KAAK,GAAG;YACX,MAAM,EAAE,KAAK,CAAC,YAAY;YAC1B,eAAe,EAAE,KAAK;SACvB,CAAC;;IACJ,CAAC;IA2BD,8BAAM,GAAN;QACQ,IAAA,eAAsC,EAApC,oBAAO,EAAE,8BAA2B,CAAC;QACrC,IAAA,4CAAe,CAAgB;QAEvC,OAAO,CACL,6BAAK,SAAS,EAAC,iBAAiB;YAC9B,oDAA0B;YAC1B,6BAAK,SAAS,EAAC,sBAAsB;gBACnC,6BAAK,SAAS,EAAC,iBAAiB;oBAC9B,4BAAI,SAAS,EAAC,MAAM,cAAa;oBACjC,+BACE,GAAG,EAAC,MAAM,EACV,GAAG,EAAE,IAAI,CAAC,cAAc,EACxB,YAAY,EAAE,YAAY,EAC1B,QAAQ,EAAE,IAAI,CAAC,iBAAiB,GAChC;oBACF,sFAA4D,CACxD;gBACN,6BAAK,SAAS,EAAC,oBAAoB;oBACjC,oBAAC,QAAQ,IACP,QAAQ,EAAE,IAAI,CAAC,oBAAoB,EACnC,OAAO,EAAE,eAAe,GACxB;oBACF,qEAA2C,CACvC;gBACN,gCAAQ,SAAS,EAAC,aAAa,EAAC,OAAO,EAAE,IAAI,CAAC,eAAe,WAEpD,CACL;YACN,gCAAQ,SAAS,EAAC,cAAc,EAAC,OAAO,EAAE,OAAO;gBAC/C,oBAAC,KAAK,IAAC,SAAS,EAAC,MAAM,GAAG,CACnB,CACL,CACP,CAAC;IACJ,CAAC;IACH,oBAAC;AAAD,CAAC,AAxED,CAA4B,KAAK,CAAC,aAAa,GAwE9C;AAED,eAAe,aAAa,CAAC","sourcesContent":["import React from 'react';\nimport Close from '@src/components/Icons/Close.svg';\n\nimport './SendTestEmail.scss';\nimport Checkbox from '@src/components/Form/Checkbox/Checkbox';\n\nexport interface Props {\n  onSend: (emails: string[], insertVariables: boolean) => void;\n  onClose: () => void;\n  defaultValue: string;\n}\n\ninterface State {\n  insertVariables: boolean;\n  emails: string;\n}\n\nclass SendTestEmail extends React.PureComponent<Props, State> {\n  private input: HTMLInputElement;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      emails: props.defaultValue,\n      insertVariables: false,\n    };\n  }\n\n  handleCheckboxToggle = () => {\n    const { insertVariables } = this.state;\n\n    this.setState({\n      insertVariables: !insertVariables,\n    });\n  }\n\n  handleInputChange = () => {\n    this.setState({\n      emails: this.input.value,\n    });\n  }\n\n  handleInputRef = (ref: HTMLInputElement) => {\n    this.input = ref;\n  }\n\n  handleSendClick = () => {\n    const { onSend } = this.props;\n    const { insertVariables, emails } = this.state;\n\n    onSend(emails.split(',').map(e => e.trim()), insertVariables);\n  }\n\n  render() {\n    const { onClose, defaultValue } = this.props;\n    const { insertVariables } = this.state;\n\n    return (\n      <div className=\"send-test-email\">\n        <h1>Send a test email</h1>\n        <div className=\"test-email-container\">\n          <div className=\"input-container\">\n            <h5 className=\"bold\">Send to</h5>\n            <input\n              dir=\"auto\"\n              ref={this.handleInputRef}\n              defaultValue={defaultValue}\n              onChange={this.handleInputChange}\n            />\n            <h5>To send to multiple emails separate them by a comma</h5>\n          </div>\n          <div className=\"checkbox-container\">\n            <Checkbox\n              onChange={this.handleCheckboxToggle}\n              checked={insertVariables}\n            />\n            <h4>Include sample recipient variables</h4>\n          </div>\n          <button className=\"send-button\" onClick={this.handleSendClick}>\n            Send\n          </button>\n        </div>\n        <button className=\"close-button\" onClick={onClose}>\n          <Close className=\"icon\" />\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default SendTestEmail;\n"]}]}