{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Confirm.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Confirm.tsx","mtime":1675280253986},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOwppbXBvcnQgJy4vQ29uZmlybS5zY3NzJzsKaW1wb3J0IFBvcG92ZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL1BvcG92ZXIvUG9wb3Zlcic7CmltcG9ydCB7IEtleUNvZGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IFRleHRJbnB1dCBmcm9tICcuLi9Gb3JtL1RleHRJbnB1dCc7CnZhciBDb25maXJtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKENvbmZpcm0sIF9zdXBlcik7CiAgICBmdW5jdGlvbiBDb25maXJtKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVBvcG92ZXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLnBvcG92ZXIgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBvbkNhbmNlbCA9IF90aGlzLnByb3BzLm9uQ2FuY2VsOwogICAgICAgICAgICBpZiAob25DYW5jZWwpIHsKICAgICAgICAgICAgICAgIG9uQ2FuY2VsKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBvbkNvbmZpcm0gPSBfdGhpcy5wcm9wcy5vbkNvbmZpcm07CiAgICAgICAgICAgIGlmIChvbkNvbmZpcm0pIHsKICAgICAgICAgICAgICAgIG9uQ29uZmlybSgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gS2V5Q29kZS5FbnRlcikgewogICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ29uZmlybSgpOwogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgQ29uZmlybS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGNvbXBvbmVudCA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpOwogICAgICAgIGlmICh0aGlzLnBvcG92ZXIpIHsKICAgICAgICAgICAgdGhpcy5wb3BvdmVyLnNob3coKTsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7CiAgICAgICAgICAgIGNvbXBvbmVudC5mb2N1cygpOwogICAgICAgIH0KICAgIH07CiAgICBDb25maXJtLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgdGl0bGUgPSBfYS50aXRsZSwgbWVzc2FnZSA9IF9hLm1lc3NhZ2UsIGNhbmNlbENvcHkgPSBfYS5jYW5jZWxDb3B5LCBjb25maXJtQ29weSA9IF9hLmNvbmZpcm1Db3B5LCBvbkNhbmNlbCA9IF9hLm9uQ2FuY2VsLCBleHRyYUNsYXNzTmFtZSA9IF9hLmV4dHJhQ2xhc3NOYW1lLCBpbnB1dCA9IF9hLmlucHV0OwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQb3BvdmVyLCB7IHJlZjogdGhpcy5oYW5kbGVQb3BvdmVyUmVmLCBjbGFzc05hbWU6ICJjb25maXJtLXBvcG92ZXIiICsgKGV4dHJhQ2xhc3NOYW1lID8gIiBjb25maXJtLXBvcG92ZXJfXyIgKyBleHRyYUNsYXNzTmFtZSA6ICcnKSwgb25IaWRlOiB0aGlzLmhhbmRsZUNhbmNlbCwgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sIG92ZXJsYXk6IHRydWUsIHBlcnNpc3RlbnQ6IHRydWUgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjb25maXJtIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgdGl0bGUpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJib2R5IiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibWVzc2FnZSIgfSwgbWVzc2FnZSksCiAgICAgICAgICAgICAgICAgICAgaW5wdXQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29uZmlybS1pbnB1dCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHsgZGVzY3JpcHRpb246ICIiLCBwbGFjZWhvbGRlcjogaW5wdXQucGxhY2Vob2xkZXIgfHwgJycsIHZhbHVlOiBpbnB1dC52YWx1ZSB8fCAnJywgdHlwZTogInRleHQiLCBvbkNoYW5nZTogaW5wdXQub25DaGFuZ2UgfSkpKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImFjdGlvbi1idXR0b25zIiB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImNhbmNlbC1idXR0b24iLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNhbmNlbCB9LCBjYW5jZWxDb3B5IHx8ICdDYW5jZWwnKSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJjb25maXJtLWJ1dHRvbiIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29uZmlybSB9LCBjb25maXJtQ29weSB8fCAnT0snKSkpKSkpOwogICAgfTsKICAgIHJldHVybiBDb25maXJtOwp9KFJlYWN0LkNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBDb25maXJtOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Confirm.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Confirm.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,QAAQ,MAAM,WAAW,CAAC;AAEjC,OAAO,gBAAgB,CAAC;AACxB,OAAO,OAAO,MAAM,iCAAiC,CAAC;AACtD,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AACrC,OAAO,SAAS,MAAM,mBAAmB,CAAC;AAoB1C;IAAsB,2BAA0B;IAAhD;QAAA,qEAiGC;QA9FC,sBAAgB,GAAG,UAAC,GAAY;YAC9B,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACrB,CAAC,CAAA;QAaD,kBAAY,GAAG;YACL,IAAA,+BAAQ,CAAgB;YAChC,IAAI,QAAQ,EAAE;gBACZ,QAAQ,EAAE,CAAC;aACZ;QACH,CAAC,CAAA;QAED,mBAAa,GAAG;YACN,IAAA,iCAAS,CAAgB;YACjC,IAAI,SAAS,EAAE;gBACb,SAAS,EAAE,CAAC;aACb;QACH,CAAC,CAAA;QAED,mBAAa,GAAG,UAAC,CAAmC;YAClD,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,KAAK,EAAE;gBAC/B,KAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;aACrB;QACH,CAAC,CAAA;;IA2DH,CAAC;IA1FC,mCAAiB,GAAjB;QACE,IAAM,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SACrB;QAED,IAAI,SAAS,YAAY,WAAW,EAAE;YACpC,SAAS,CAAC,KAAK,EAAE,CAAC;SACnB;IACH,CAAC;IAwBD,wBAAM,GAAN;QACQ,IAAA,eAQQ,EAPV,gBAAK,EACL,oBAAO,EACP,0BAAU,EACV,4BAAW,EACX,sBAAQ,EACR,kCAAc,EACd,gBACU,CAAC;QACf,OAAO,CACL,oBAAC,OAAO,IACN,GAAG,EAAE,IAAI,CAAC,gBAAgB,EAC1B,SAAS,EAAE,qBAAkB,cAAc,CAAC,CAAC,CAAC,uBAAqB,cAAgB,CAAC,CAAC,CAAC,EAAE,CAAE,EAC1F,MAAM,EAAE,IAAI,CAAC,YAAY,EACzB,SAAS,EAAE,IAAI,CAAC,aAAa,EAC7B,OAAO,QACP,UAAU;YAEV,6BAAK,SAAS,EAAC,SAAS;gBACtB,6BAAK,SAAS,EAAC,OAAO,IACnB,KAAK,CACF;gBACN,6BAAK,SAAS,EAAC,MAAM;oBACnB,6BAAK,SAAS,EAAC,SAAS,IACrB,OAAO,CACJ;oBACL,KAAK,IAAI,CACR,6BAAK,SAAS,EAAC,eAAe;wBAC5B,oBAAC,SAAS,IACR,WAAW,EAAC,EAAE,EACd,WAAW,EAAE,KAAK,CAAC,WAAW,IAAI,EAAE,EACpC,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,EAAE,EACxB,IAAI,EAAC,MAAM,EACX,QAAQ,EAAE,KAAK,CAAC,QAAQ,GACxB,CACE,CACP;oBACD,6BAAK,SAAS,EAAC,gBAAgB;wBAC5B,QAAQ,IAAI,gCACX,SAAS,EAAC,eAAe,EACzB,OAAO,EAAE,IAAI,CAAC,YAAY,IAEzB,UAAU,IAAI,QAAQ,CAChB;wBACT,gCACE,SAAS,EAAC,gBAAgB,EAC1B,OAAO,EAAE,IAAI,CAAC,aAAa,IAE1B,WAAW,IAAI,IAAI,CACb,CACL,CACF,CACF,CACE,CACX,CAAC;IACJ,CAAC;IACH,cAAC;AAAD,CAAC,AAjGD,CAAsB,KAAK,CAAC,SAAS,GAiGpC;AAED,eAAe,OAAO,CAAC","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Confirm.scss';\nimport Popover from '@src/components/Popover/Popover';\nimport { KeyCode } from '@src/types';\nimport TextInput from '../Form/TextInput';\n\ninterface InputProps {\n  value?: string;\n  placeholder?: string;\n  className?: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nexport interface Props {\n  title: string;\n  message: string;\n  cancelCopy?: string;\n  confirmCopy?: string;\n  onConfirm?: () => void;\n  onCancel?: () => void;\n  extraClassName?: string;\n  input?: InputProps;\n}\n\nclass Confirm extends React.Component<Props, {}> {\n  popover: Popover;\n\n  handlePopoverRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  componentDidMount() {\n    const component = ReactDOM.findDOMNode(this);\n    if (this.popover) {\n      this.popover.show();\n    }\n\n    if (component instanceof HTMLElement) {\n      component.focus();\n    }\n  }\n\n  handleCancel = () => {\n    const { onCancel } = this.props;\n    if (onCancel) {\n      onCancel();\n    }\n  }\n\n  handleConfirm = () => {\n    const { onConfirm } = this.props;\n    if (onConfirm) {\n      onConfirm();\n    }\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n    if (e.keyCode === KeyCode.Enter) {\n      this.handleConfirm();\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  render() {\n    const {\n        title,\n        message,\n        cancelCopy,\n        confirmCopy,\n        onCancel,\n        extraClassName,\n        input }\n      = this.props;\n    return (\n      <Popover\n        ref={this.handlePopoverRef}\n        className={`confirm-popover${extraClassName ? ` confirm-popover__${extraClassName}` : ''}`}\n        onHide={this.handleCancel}\n        onKeyDown={this.handleKeyDown}\n        overlay\n        persistent\n      >\n        <div className=\"confirm\">\n          <div className=\"title\">\n            {title}\n          </div>\n          <div className=\"body\">\n            <div className=\"message\">\n              {message}\n            </div>\n            {input && (\n              <div className=\"confirm-input\">\n                <TextInput\n                  description=\"\"\n                  placeholder={input.placeholder || ''}\n                  value={input.value || ''}\n                  type=\"text\"\n                  onChange={input.onChange}\n                />\n              </div>\n            )}\n            <div className=\"action-buttons\">\n              {onCancel && <button\n                className=\"cancel-button\"\n                onClick={this.handleCancel}\n              >\n                {cancelCopy || 'Cancel'}\n              </button>}\n              <button\n                className=\"confirm-button\"\n                onClick={this.handleConfirm}\n              >\n                {confirmCopy || 'OK'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </Popover>\n    );\n  }\n}\n\nexport default Confirm;\n"]}]}