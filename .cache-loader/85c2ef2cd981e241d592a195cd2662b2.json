{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/Item/ListMenu.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/Item/ListMenu.tsx","mtime":1675280254018},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvUG9wb3Zlci9Qb3BvdmVyJzsKaW1wb3J0ICcuL0xpc3RNZW51LnNjc3MnOwppbXBvcnQgeyBLZXlDb2RlIH0gZnJvbSAnQHNyYy90eXBlcyc7CmV4cG9ydCB2YXIgTGlzdEFjdGlvbjsKKGZ1bmN0aW9uIChMaXN0QWN0aW9uKSB7CiAgICBMaXN0QWN0aW9uWyJDcmVhdGUiXSA9ICJjcmVhdGUiOwogICAgTGlzdEFjdGlvblsiRGVsZXRlIl0gPSAiZGVsZXRlIjsKICAgIExpc3RBY3Rpb25bIlVwZGF0ZSJdID0gInVwZGF0ZSI7Cn0pKExpc3RBY3Rpb24gfHwgKExpc3RBY3Rpb24gPSB7fSkpOwp2YXIgTGlzdE1lbnUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoTGlzdE1lbnUsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBMaXN0TWVudSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3ZlciA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3Zlci50b2dnbGUoKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgYWN0aW9uOiB1bmRlZmluZWQsIG5ld05hbWU6IHVuZGVmaW5lZCB9KTsKICAgICAgICAgICAgX3RoaXMucHJvcHMub25IaWRlKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVOYW1lRWRpdCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIG5ld05hbWU6IGUuY3VycmVudFRhcmdldC52YWx1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dFNlbGVjdCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zZWxlY3QoKTsKICAgICAgICB9OwogICAgICAgIC8vIEhhbmRsZSBzaG93aW5nIGNvbmZpcm0gcHJvbXB0IHdoZW4gZGVsZXRpbmcgbGlzdAogICAgICAgIF90aGlzLmhhbmRsZU1lbnVTZWxlY3QgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgb25EZWxldGVMaXN0ID0gX3RoaXMucHJvcHMub25EZWxldGVMaXN0OwogICAgICAgICAgICB2YXIgbmFtZSA9IGUuY3VycmVudFRhcmdldCAmJiBlLmN1cnJlbnRUYXJnZXQubmFtZTsKICAgICAgICAgICAgdmFyIGhhbmRsZWQgPSBmYWxzZTsKICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlIExpc3RBY3Rpb24uRGVsZXRlOgogICAgICAgICAgICAgICAgICAgIGlmIChvbkRlbGV0ZUxpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBMaXN0QWN0aW9uLkNyZWF0ZToKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGFjdGlvbjogTGlzdEFjdGlvbi5DcmVhdGUgfSk7CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIExpc3RBY3Rpb24uVXBkYXRlOgogICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBMaXN0QWN0aW9uLlVwZGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbmV3TmFtZTogX3RoaXMucHJvcHMubmFtZSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIE92ZXJyaWRlIGhhbmRsZWQgZXZlbnRzCiAgICAgICAgICAgIGlmIChoYW5kbGVkKSB7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTYXZlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uVXBkYXRlTGlzdCA9IF9hLm9uVXBkYXRlTGlzdCwgb25DcmVhdGVMaXN0ID0gX2Eub25DcmVhdGVMaXN0OwogICAgICAgICAgICBpZiAoIV90aGlzLnN0YXRlLmFjdGlvbiB8fCAhX3RoaXMuc3RhdGUubmV3TmFtZSB8fCBlLmtleUNvZGUgIT09IEtleUNvZGUuRW50ZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMuc3RhdGUuYWN0aW9uKSB7CiAgICAgICAgICAgICAgICBjYXNlIExpc3RBY3Rpb24uQ3JlYXRlOgogICAgICAgICAgICAgICAgICAgIGlmIChvbkNyZWF0ZUxpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb25DcmVhdGVMaXN0KF90aGlzLnN0YXRlLm5ld05hbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgTGlzdEFjdGlvbi5VcGRhdGU6CiAgICAgICAgICAgICAgICAgICAgaWYgKG9uVXBkYXRlTGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUxpc3QoX3RoaXMuc3RhdGUubmV3TmFtZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gSGlkZSBwb3BvdmVyCiAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7fTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBMaXN0TWVudS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGZvcmNlQWN0aW9uID0gdGhpcy5wcm9wcy5mb3JjZUFjdGlvbjsKICAgICAgICBpZiAoZm9yY2VBY3Rpb24pIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvbjogZm9yY2VBY3Rpb24gfSk7CiAgICAgICAgfQogICAgfTsKICAgIExpc3RNZW51LnByb3RvdHlwZS5yZW5kZXJPcHRpb25zID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIG5hbWUgPSB0aGlzLnByb3BzLm5hbWU7CiAgICAgICAgdmFyIG9wdGlvbnMgPSBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFjdGlvbjogTGlzdEFjdGlvbi5DcmVhdGUsCiAgICAgICAgICAgICAgICB0aXRsZTogIk5ldyBMYWJlbCBpbiBcIiIgKyBuYW1lICsgIlwiIiwKICAgICAgICAgICAgICAgIHJlbW92ZTogZmFsc2UsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFjdGlvbjogTGlzdEFjdGlvbi5VcGRhdGUsCiAgICAgICAgICAgICAgICB0aXRsZTogJ1JlbmFtZSBMYWJlbCcsCiAgICAgICAgICAgICAgICByZW1vdmU6IGZhbHNlLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBhY3Rpb246IExpc3RBY3Rpb24uRGVsZXRlLAogICAgICAgICAgICAgICAgdGl0bGU6ICdEZWxldGUgTGFiZWwnLAogICAgICAgICAgICAgICAgcmVtb3ZlOiBmYWxzZSwKICAgICAgICAgICAgfSwKICAgICAgICBdOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJvcHRpb25zIiB9LCBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IG9uQ2xpY2s6IF90aGlzLmhhbmRsZU1lbnVTZWxlY3QsIGNsYXNzTmFtZTogY2xhc3NuYW1lcygnbWVudS1pdGVtJywgeyByZW1vdmU6IG9wdGlvbi5yZW1vdmUgfSksIGtleTogb3B0aW9uLnRpdGxlLCBuYW1lOiBvcHRpb24uYWN0aW9uIH0sIG9wdGlvbi50aXRsZSk7CiAgICAgICAgfSkpKTsKICAgIH07CiAgICBMaXN0TWVudS5wcm90b3R5cGUucmVuZGVySW5wdXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGFjdGlvblRpdGxlID0gdGhpcy5zdGF0ZS5hY3Rpb24gPT09IExpc3RBY3Rpb24uQ3JlYXRlCiAgICAgICAgICAgID8gJ0NyZWF0ZSBMYWJlbCcKICAgICAgICAgICAgOiAnUmVuYW1lIExhYmVsJzsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaW5wdXQtc2VjdGlvbiIgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZS1zZWN0aW9uIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjb3B5IiB9LCBhY3Rpb25UaXRsZSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNlcGFyYXRvciIgfSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIHR5cGU6ICJ0ZXh0IiwgcGxhY2Vob2xkZXI6ICJFbnRlciBuYW1lLi4uIiwgY2xhc3NOYW1lOiAibmFtZS1pbnB1dCIsIHZhbHVlOiB0aGlzLnN0YXRlLm5ld05hbWUgfHwgJycsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZU5hbWVFZGl0LCBvbktleVVwOiB0aGlzLmhhbmRsZVNhdmUsIG9uRm9jdXM6IHRoaXMuaGFuZGxlSW5wdXRTZWxlY3QsIGF1dG9Gb2N1czogdHJ1ZSB9KSkpOwogICAgfTsKICAgIExpc3RNZW51LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFBvcG92ZXIsIHsgY2xhc3NOYW1lOiAibGlzdC1tZW51LXBvcG92ZXIiLCByZWY6IHRoaXMuaGFuZGxlUmVmLCBvbkhpZGU6IHRoaXMuaGFuZGxlSGlkZSwgZmFkZXNPdXQ6IHRydWUsIGF1dG9Gb2N1c09mZjogdHJ1ZSB9LCAhIXRoaXMuc3RhdGUuYWN0aW9uCiAgICAgICAgICAgID8gdGhpcy5yZW5kZXJJbnB1dCgpCiAgICAgICAgICAgIDogdGhpcy5yZW5kZXJPcHRpb25zKCkpKTsKICAgIH07CiAgICByZXR1cm4gTGlzdE1lbnU7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBMaXN0TWVudTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/Item/ListMenu.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/Item/ListMenu.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\n\nimport Popover from '@src/components/Popover/Popover';\n\nimport './ListMenu.scss';\nimport { KeyCode } from '@src/types';\n\ninterface Props {\n  name: string;\n  onCreateList: (name: string) => void;\n  onUpdateList?: (name: string) => void;\n  onDeleteList?: () => void;\n  onHide: () => void;\n  forceAction?: ListAction;\n}\n\ninterface State {\n  action?: ListAction;\n  newName?: string;\n}\n\nexport enum ListAction {\n  Create = 'create',\n  Delete = 'delete',\n  Update = 'update',\n}\n\nclass ListMenu extends React.PureComponent<Props, State> {\n  private popover: Popover;\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const { forceAction } = this.props;\n    if (forceAction) {\n      this.setState({ action: forceAction });\n    }\n  }\n\n  handleRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  toggle = () => {\n    this.popover.toggle();\n  }\n\n  handleHide = () => {\n    this.setState({ action: undefined, newName: undefined });\n    this.props.onHide();\n  }\n\n  handleNameEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      newName: e.currentTarget.value,\n    });\n  }\n\n  handleInputSelect = (e: React.FocusEvent<HTMLInputElement>) => {\n    e.currentTarget.select();\n  }\n\n  // Handle showing confirm prompt when deleting list\n  handleMenuSelect = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { onDeleteList } = this.props;\n    const name = e.currentTarget && e.currentTarget.name;\n    let handled = false;\n    switch (name) {\n      case ListAction.Delete:\n        if (onDeleteList) {\n          onDeleteList();\n        }\n        this.popover.hide();\n        handled = true;\n        break;\n      case ListAction.Create:\n        this.setState({ action: ListAction.Create });\n        handled = true;\n        break;\n      case ListAction.Update:\n        this.setState({\n          action: ListAction.Update,\n          newName: this.props.name,\n        });\n        handled = true;\n        break;\n      default:\n        return;\n    }\n\n    // Override handled events\n    if (handled) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  handleSave = (e: React.KeyboardEvent<HTMLElement>) => {\n    const { onUpdateList, onCreateList } = this.props;\n    if (!this.state.action || !this.state.newName || e.keyCode !== KeyCode.Enter) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    switch (this.state.action) {\n      case ListAction.Create:\n        if (onCreateList) {\n          onCreateList(this.state.newName);\n        }\n        break;\n      case ListAction.Update:\n        if (onUpdateList) {\n          onUpdateList(this.state.newName);\n        }\n        break;\n      default:\n        return;\n    }\n\n    // Hide popover\n    this.popover.hide();\n  }\n\n  renderOptions() {\n    const { name } = this.props;\n    const options = [\n      {\n        action: ListAction.Create,\n        title: `New Label in \"${name}\"`,\n        remove: false,\n      },\n      {\n        action: ListAction.Update,\n        title: 'Rename Label',\n        remove: false,\n      },\n      {\n        action: ListAction.Delete,\n        title: 'Delete Label',\n        remove: false,\n      },\n    ];\n\n    return (\n      <div className=\"options\">\n        {\n          options.map(option =>\n          <button\n            onClick={this.handleMenuSelect}\n            className={classnames('menu-item', { remove: option.remove })}\n            key={option.title}\n            name={option.action}\n          >\n            {option.title}\n          </button>)\n        }\n      </div>\n    );\n  }\n\n  renderInput() {\n    const actionTitle = this.state.action === ListAction.Create\n      ? 'Create Label'\n      : 'Rename Label';\n    return (\n      <div className=\"input-section\">\n        <div className=\"title-section\">\n          <div className=\"copy\">\n            {actionTitle}\n          </div>\n          <div className=\"separator\" />\n        </div>\n        <input\n          dir=\"auto\"\n          type=\"text\"\n          placeholder=\"Enter name...\"\n          className=\"name-input\"\n          value={this.state.newName || ''}\n          onChange={this.handleNameEdit}\n          onKeyUp={this.handleSave}\n          onFocus={this.handleInputSelect}\n          autoFocus\n        />\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Popover\n        className=\"list-menu-popover\"\n        ref={this.handleRef}\n        onHide={this.handleHide}\n        fadesOut\n        autoFocusOff\n      >\n      {\n        !!this.state.action\n          ? this.renderInput()\n          : this.renderOptions()\n      }\n      </Popover>\n    );\n  }\n}\n\nexport default ListMenu;\n"]}]}