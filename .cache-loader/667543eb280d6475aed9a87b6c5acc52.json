{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/MultiDayView/MultiDayView.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/MultiDayView/MultiDayView.tsx","mtime":1675280253997},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IERheVZpZXcgZnJvbSAnLi9EYXlWaWV3JzsKaW1wb3J0IEV2ZW50IGZyb20gJy4vRXZlbnQnOwppbXBvcnQgeyBmaXJzdCwgZm9yRWFjaCwgaXNFcXVhbCB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCAnLi9NdWx0aURheVZpZXcuc2Nzcyc7CmltcG9ydCB7IGFwcGx5VGltZUJsb2NrRGVmYXVsdHMsIGNvbnZlcnRQb3NpdGlvblRvVGltZUJsb2NrIH0gZnJvbSAnQHNyYy9saWIvZXZlbnQnOwppbXBvcnQgeyBub3cgfSBmcm9tICdAc3JjL2xpYi9kYXRldGltZSc7CnZhciBIT1VSUyA9IFsKICAgICcxMmFtJywKICAgICcxYW0nLAogICAgJzJhbScsCiAgICAnM2FtJywKICAgICc0YW0nLAogICAgJzVhbScsCiAgICAnNmFtJywKICAgICc3YW0nLAogICAgJzhhbScsCiAgICAnOWFtJywKICAgICcxMGFtJywKICAgICcxMWFtJywKICAgICcxMnBtJywKICAgICcxcG0nLAogICAgJzJwbScsCiAgICAnM3BtJywKICAgICc0cG0nLAogICAgJzVwbScsCiAgICAnNnBtJywKICAgICc3cG0nLAogICAgJzhwbScsCiAgICAnOXBtJywKICAgICcxMHBtJywKICAgICcxMXBtJywKXTsKdmFyIEhBTEZfSE9VUl9JTlRFUlZBTF9IRUlHSFQgPSAzNjsKdmFyIE11bHRpRGF5VmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhNdWx0aURheVZpZXcsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBNdWx0aURheVZpZXcocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIC8vIEhhbmRsZSBjdXJyZW50IHRpbWUKICAgICAgICBfdGhpcy51cGRhdGVDdXJyZW50VGltZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGV2ZW50cyA9IF9hLmV2ZW50cywgZGF0ZVJhbmdlID0gX2EuZGF0ZVJhbmdlOwogICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSBjdXJyZW50IHRpbWUgcG9zaXRpb24KICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lQmxvY2sgPSBhcHBseVRpbWVCbG9ja0RlZmF1bHRzKHsKICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogbm93KCksCiAgICAgICAgICAgICAgICBlbmRUaW1lOiBub3coKSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZVBvc2l0aW9uID0gX3RoaXMuZ2V0RXZlbnRQb3NpdGlvbkZyb21UaW1lQmxvY2soY3VycmVudFRpbWVCbG9jaywgZGF0ZVJhbmdlLCBldmVudHMpOwogICAgICAgICAgICAvLyBIYW5kbGUgc2V0dGluZyBzdGF0ZSBhbmQgdGhlbiB1cGRhdGUgY3VycmVudCB0aW1lIHBvc2l0aW9uIGFmdGVyIDUgbWlucwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBjdXJyZW50VGltZVBvc2l0aW9uOiBjdXJyZW50VGltZVBvc2l0aW9uLAogICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyBTZXQgdGltZW91dCB0byBjYWxsIGFnYWluIGluIDUgbWludXRlCiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TGluZVRpbWVyID0gZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudXBkYXRlQ3VycmVudFRpbWUoKTsgfSwgMzAwMDApOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUN1cnJlbnRUaW1lUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5jdXJyZW50VGltZUxpbmUgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5nZXRFdmVudFBvc2l0aW9uRnJvbVRpbWVCbG9jayA9IGZ1bmN0aW9uICh0aW1lYmxvY2ssIGRhdGVSYW5nZSwgZXZlbnRzKSB7CiAgICAgICAgICAgIGlmICghdGltZWJsb2NrKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBzdGFydEhvdXIgPSBfYS5zdGFydEhvdXIsIGNvbHVtbldpZHRoID0gX2EuY29sdW1uV2lkdGg7CiAgICAgICAgICAgIHZhciBzdGFydFRpbWVDbG9uZSA9IHRpbWVibG9jayAmJiB0aW1lYmxvY2suc3RhcnRUaW1lLmNsb25lKCk7CiAgICAgICAgICAgIHZhciBldmVudFRvcCA9IHN0YXJ0VGltZUNsb25lICYmCiAgICAgICAgICAgICAgICBzdGFydFRpbWVDbG9uZQogICAgICAgICAgICAgICAgICAgIC5jbG9uZSgpCiAgICAgICAgICAgICAgICAgICAgLnN1YnRyYWN0KHN0YXJ0SG91ciwgJ2hvdXJzJykKICAgICAgICAgICAgICAgICAgICAuaG91cnMoKSAqCiAgICAgICAgICAgICAgICAgICAgKEhBTEZfSE9VUl9JTlRFUlZBTF9IRUlHSFQgKiAyKSArCiAgICAgICAgICAgICAgICAgICAgKHN0YXJ0VGltZUNsb25lLm1pbnV0ZXMoKSA/IChzdGFydFRpbWVDbG9uZS5taW51dGVzKCkgLyAxNSkKICAgICAgICAgICAgICAgICAgICAgICAgKiAoSEFMRl9IT1VSX0lOVEVSVkFMX0hFSUdIVCAvIDIpIDogMCk7CiAgICAgICAgICAgIHZhciB0aW1lTGVmdFBhZGRpbmcgPSA2OwogICAgICAgICAgICB2YXIgZXZlbnRMZWZ0ID0gc3RhcnRUaW1lQ2xvbmUgJiYKICAgICAgICAgICAgICAgIGRhdGVSYW5nZSAmJgogICAgICAgICAgICAgICAgZGF0ZVJhbmdlLmxlbmd0aCAmJgogICAgICAgICAgICAgICAgKHN0YXJ0VGltZUNsb25lCiAgICAgICAgICAgICAgICAgICAgLmNsb25lKCkKICAgICAgICAgICAgICAgICAgICAuc3RhcnRPZignZGF5JykKICAgICAgICAgICAgICAgICAgICAuZGlmZihmaXJzdChkYXRlUmFuZ2UpLmNsb25lKCkuc3RhcnRPZignZGF5JyksICdkYXlzJykpICoKICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aCArIHRpbWVMZWZ0UGFkZGluZzsKICAgICAgICAgICAgdmFyIGRpZmZNaW51dGVzID0gdGltZWJsb2NrLmVuZFRpbWUuY2xvbmUoKS5kaWZmKHRpbWVibG9jay5zdGFydFRpbWUuY2xvbmUoKSwgJ21pbnV0ZXMnKTsKICAgICAgICAgICAgdmFyIGV2ZW50SGVpZ2h0ID0gZGlmZk1pbnV0ZXMgLyAzMCAqIEhBTEZfSE9VUl9JTlRFUlZBTF9IRUlHSFQ7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0b3A6IGV2ZW50VG9wLAogICAgICAgICAgICAgICAgbGVmdDogZXZlbnRMZWZ0LAogICAgICAgICAgICAgICAgaGVpZ2h0OiBldmVudEhlaWdodCwKICAgICAgICAgICAgfTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmdldEV2ZW50UG9zaXRpb25Gcm9tRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGV2ZW50cykgewogICAgICAgICAgICB2YXIgc3RhcnRIb3VyID0gX3RoaXMucHJvcHMuc3RhcnRIb3VyOwogICAgICAgICAgICB2YXIgc3RhcnQgPSBtb21lbnQoZXZlbnQuc3RhcnRUaW1lKS5kYXlPZlllYXIoMSk7CiAgICAgICAgICAgIHZhciBlbmQgPSBtb21lbnQoZXZlbnQuZW5kVGltZSkuZGF5T2ZZZWFyKDEpOwogICAgICAgICAgICB2YXIgdG9wID0gc3RhcnQKICAgICAgICAgICAgICAgIC5jbG9uZSgpCiAgICAgICAgICAgICAgICAuc3VidHJhY3Qoc3RhcnRIb3VyLCAnaG91cnMnKQogICAgICAgICAgICAgICAgLmhvdXJzKCkgKgogICAgICAgICAgICAgICAgKEhBTEZfSE9VUl9JTlRFUlZBTF9IRUlHSFQgKiAyKSArCiAgICAgICAgICAgICAgICAoc3RhcnQubWludXRlcygpID8gc3RhcnQubWludXRlcygpIC8gMTUgKiAoSEFMRl9IT1VSX0lOVEVSVkFMX0hFSUdIVCAvIDIpIDogMCk7CiAgICAgICAgICAgIHZhciBkaWZmTWludXRlcyA9IGVuZC5jbG9uZSgpLmRpZmYoc3RhcnQuY2xvbmUoKSwgJ21pbnV0ZXMnKTsKICAgICAgICAgICAgdmFyIGhlaWdodCA9IGRpZmZNaW51dGVzIC8gMzAgKiBIQUxGX0hPVVJfSU5URVJWQUxfSEVJR0hUOwogICAgICAgICAgICByZXR1cm4geyB0b3A6IHRvcCwgaGVpZ2h0OiBoZWlnaHQgfTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHNlbGVjdGVkVGltZUJsb2NrID0gX2Euc2VsZWN0ZWRUaW1lQmxvY2ssIG9uVXBkYXRlVGltZUJsb2NrID0gX2Eub25VcGRhdGVUaW1lQmxvY2s7CiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKICAgICAgICAgICAgdmFyIGhvdXIgPSB0YXJnZXQuZGF0YXNldCAmJiB0YXJnZXQuZGF0YXNldC5ob3VyOwogICAgICAgICAgICB2YXIgZGF0ZSA9IHRhcmdldC5kYXRhc2V0ICYmIHRhcmdldC5kYXRhc2V0LmRhdGU7CiAgICAgICAgICAgIGlmIChob3VyICYmIGRhdGUgJiYgb25VcGRhdGVUaW1lQmxvY2spIHsKICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IG1vbWVudChkYXRlICsgIiAiICsgaG91cik7CiAgICAgICAgICAgICAgICB2YXIgdGltZWJsb2NrID0gYXBwbHlUaW1lQmxvY2tEZWZhdWx0cyh7CiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydCwKICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBzdGFydC5jbG9uZSgpLmFkZCgxLCAnaG91cnMnKSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGltZUJsb2NrKSB7CiAgICAgICAgICAgICAgICAgICAgdGltZWJsb2NrLmV2ZW50ID0gc2VsZWN0ZWRUaW1lQmxvY2suZXZlbnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvblVwZGF0ZVRpbWVCbG9jayh0aW1lYmxvY2spOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5nZW5lcmF0ZUhvdXJJbnRlcnZhbHMgPSBmdW5jdGlvbiAoc3RhcnRIb3VyLCBlbmRIb3VyKSB7CiAgICAgICAgICAgIHZhciBob3VySW50ZXJ2YWxzID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydEhvdXI7IGkgPCBlbmRIb3VyOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgIGhvdXJJbnRlcnZhbHMucHVzaChpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gaG91ckludGVydmFsczsKICAgICAgICB9OwogICAgICAgIF90aGlzLmdlbmVyYXRlRXZlbnRQb3NpdGlvbnMgPSBmdW5jdGlvbiAoZXZlbnRzKSB7CiAgICAgICAgICAgIHZhciBldmVudFBvc2l0aW9ucyA9IHt9OwogICAgICAgICAgICBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24gKHZhbHMsIGRhdGUpIHsKICAgICAgICAgICAgICAgIGV2ZW50UG9zaXRpb25zW2RhdGVdID0ge307CiAgICAgICAgICAgICAgICB2YWxzLmZvckVhY2goZnVuY3Rpb24gKHYsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbnRQb3NpdGlvbnNbZGF0ZV1bdi5pZF0gPSBfdGhpcy5nZXRFdmVudFBvc2l0aW9uRnJvbUV2ZW50KHYsIHZhbHMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZXZlbnRQb3NpdGlvbnM7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVFdmVudFVwZGF0ZSA9IGZ1bmN0aW9uIChwb3NpdGlvbikgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgc2VsZWN0ZWRUaW1lQmxvY2sgPSBfYS5zZWxlY3RlZFRpbWVCbG9jaywgc3RhcnRIb3VyID0gX2Euc3RhcnRIb3VyLCBjb2x1bW5XaWR0aCA9IF9hLmNvbHVtbldpZHRoLCBkYXRlUmFuZ2UgPSBfYS5kYXRlUmFuZ2UsIG9uVXBkYXRlVGltZUJsb2NrID0gX2Eub25VcGRhdGVUaW1lQmxvY2s7CiAgICAgICAgICAgIHZhciBuZXdUaW1lYmxvY2sgPSBjb252ZXJ0UG9zaXRpb25Ub1RpbWVCbG9jayhwb3NpdGlvbiwgc3RhcnRIb3VyLCBjb2x1bW5XaWR0aCwgSEFMRl9IT1VSX0lOVEVSVkFMX0hFSUdIVCwgZGF0ZVJhbmdlKSB8fCBzZWxlY3RlZFRpbWVCbG9jazsKICAgICAgICAgICAgdmFyIHRpbWVibG9jayA9IG5ld1RpbWVibG9jayAmJiBhcHBseVRpbWVCbG9ja0RlZmF1bHRzKG5ld1RpbWVibG9jaykgfHwgc2VsZWN0ZWRUaW1lQmxvY2s7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZFRpbWVCbG9jaykgewogICAgICAgICAgICAgICAgdGltZWJsb2NrLmV2ZW50ID0gc2VsZWN0ZWRUaW1lQmxvY2suZXZlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRpbWVibG9jayAmJiBvblVwZGF0ZVRpbWVCbG9jaykgewogICAgICAgICAgICAgICAgb25VcGRhdGVUaW1lQmxvY2sodGltZWJsb2NrKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIGluaXRpYWxYOiAwLAogICAgICAgICAgICBpbml0aWFsWTogMCwKICAgICAgICAgICAgZXZlbnRQb3NpdGlvbnM6IHt9LAogICAgICAgICAgICBob3VySW50ZXJ2YWxzOiBbXSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIE11bHRpRGF5Vmlldy5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBldmVudHMgPSBfYS5ldmVudHMsIHN0YXJ0SG91ciA9IF9hLnN0YXJ0SG91ciwgZW5kSG91ciA9IF9hLmVuZEhvdXIsIHNlbGVjdGVkVGltZUJsb2NrID0gX2Euc2VsZWN0ZWRUaW1lQmxvY2ssIGRhdGVSYW5nZSA9IF9hLmRhdGVSYW5nZTsKICAgICAgICB2YXIgZXZlbnRQb3NpdGlvbiA9IHRoaXMuZ2V0RXZlbnRQb3NpdGlvbkZyb21UaW1lQmxvY2soc2VsZWN0ZWRUaW1lQmxvY2ssIGRhdGVSYW5nZSwgZXZlbnRzKTsKICAgICAgICB2YXIgY3VycmVudFRpbWVibG9jayA9IGFwcGx5VGltZUJsb2NrRGVmYXVsdHMoewogICAgICAgICAgICBzdGFydFRpbWU6IG5vdygpLAogICAgICAgICAgICBlbmRUaW1lOiBub3coKSwKICAgICAgICB9KTsKICAgICAgICB2YXIgY3VycmVudFRpbWVQb3NpdGlvbiA9IHRoaXMuZ2V0RXZlbnRQb3NpdGlvbkZyb21UaW1lQmxvY2soY3VycmVudFRpbWVibG9jaywgZGF0ZVJhbmdlLCBldmVudHMpOwogICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFRpbWUoKTsKICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgZXZlbnRQb3NpdGlvbnM6IHRoaXMuZ2VuZXJhdGVFdmVudFBvc2l0aW9ucyhldmVudHMpLAogICAgICAgICAgICBob3VySW50ZXJ2YWxzOiB0aGlzLmdlbmVyYXRlSG91ckludGVydmFscyhzdGFydEhvdXIsIGVuZEhvdXIpLAogICAgICAgICAgICBzZWxlY3RlZEV2ZW50UG9zaXRpb246IGV2ZW50UG9zaXRpb24sCiAgICAgICAgICAgIGN1cnJlbnRUaW1lUG9zaXRpb246IGN1cnJlbnRUaW1lUG9zaXRpb24sCiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2E7CiAgICAgICAgICAgIGlmICgoX2EgPSBfdGhpcy5jdXJyZW50VGltZUxpbmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zY3JvbGxJbnRvVmlldykgewogICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudFRpbWVMaW5lLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICdjZW50ZXInIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwogICAgTXVsdGlEYXlWaWV3LnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAob2xkUHJvcHMpIHsKICAgICAgICAvLyBJZiBwcm9wcyBjaGFuZ2UgcmVjYWxjdWxhdGUgZXZlbnQgcG9zaXRpb25zCiAgICAgICAgaWYgKCFpc0VxdWFsKG9sZFByb3BzLCB0aGlzLnByb3BzKSkgewogICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBkYXRlUmFuZ2UgPSBfYS5kYXRlUmFuZ2UsIGV2ZW50cyA9IF9hLmV2ZW50czsKICAgICAgICAgICAgdmFyIGV2ZW50UG9zaXRpb25zID0gdGhpcy5nZW5lcmF0ZUV2ZW50UG9zaXRpb25zKGV2ZW50cyk7CiAgICAgICAgICAgIHZhciBldmVudFBvc2l0aW9uID0gdGhpcy5nZXRFdmVudFBvc2l0aW9uRnJvbVRpbWVCbG9jayh0aGlzLnByb3BzLnNlbGVjdGVkVGltZUJsb2NrLCBkYXRlUmFuZ2UsIGV2ZW50cyk7CiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZUJsb2NrID0gYXBwbHlUaW1lQmxvY2tEZWZhdWx0cyh7CiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG5vdygpLAogICAgICAgICAgICAgICAgZW5kVGltZTogbm93KCksCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgY3VycmVudFRpbWVQb3NpdGlvbiA9IHRoaXMuZ2V0RXZlbnRQb3NpdGlvbkZyb21UaW1lQmxvY2soY3VycmVudFRpbWVCbG9jaywgZGF0ZVJhbmdlLCBldmVudHMpOwogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGhvdXJJbnRlcnZhbHM6IHRoaXMuZ2VuZXJhdGVIb3VySW50ZXJ2YWxzKHRoaXMucHJvcHMuc3RhcnRIb3VyLCB0aGlzLnByb3BzLmVuZEhvdXIpLAogICAgICAgICAgICAgICAgc2VsZWN0ZWRFdmVudFBvc2l0aW9uOiBldmVudFBvc2l0aW9uLAogICAgICAgICAgICAgICAgZXZlbnRQb3NpdGlvbnM6IGV2ZW50UG9zaXRpb25zLAogICAgICAgICAgICAgICAgY3VycmVudFRpbWVQb3NpdGlvbjogY3VycmVudFRpbWVQb3NpdGlvbiwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIE11bHRpRGF5Vmlldy5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gVHVybiBvZmYgdGltZXIgdG8gdXBkYXRlIGN1cnJlbnQgdGltZQogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmN1cnJlbnRMaW5lVGltZXIpOwogICAgfTsKICAgIE11bHRpRGF5Vmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHN0YXJ0SG91ciA9IF9hLnN0YXJ0SG91ciwgZW5kSG91ciA9IF9hLmVuZEhvdXIsIHNlbGVjdGVkVGltZUJsb2NrID0gX2Euc2VsZWN0ZWRUaW1lQmxvY2ssIGNvbHVtbldpZHRoID0gX2EuY29sdW1uV2lkdGgsIGRhdGVSYW5nZSA9IF9hLmRhdGVSYW5nZSwgZXZlbnRzID0gX2EuZXZlbnRzLCByZWFkT25seSA9IF9hLnJlYWRPbmx5OwogICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIHNlbGVjdGVkRXZlbnRQb3NpdGlvbiA9IF9iLnNlbGVjdGVkRXZlbnRQb3NpdGlvbiwgZXZlbnRQb3NpdGlvbnMgPSBfYi5ldmVudFBvc2l0aW9ucywgaG91ckludGVydmFscyA9IF9iLmhvdXJJbnRlcnZhbHMsIGN1cnJlbnRUaW1lUG9zaXRpb24gPSBfYi5jdXJyZW50VGltZVBvc2l0aW9uOwogICAgICAgIHZhciBzaG93RXZlbnQgPSBzZWxlY3RlZFRpbWVCbG9jayAmJgogICAgICAgICAgICBzZWxlY3RlZEV2ZW50UG9zaXRpb24gJiYKICAgICAgICAgICAgZGF0ZVJhbmdlLmxlbmd0aCAmJgogICAgICAgICAgICBzZWxlY3RlZFRpbWVCbG9jay5zdGFydFRpbWUuaXNTYW1lT3JBZnRlcihkYXRlUmFuZ2VbMF0uY2xvbmUoKS5zdGFydE9mKCdkYXknKSkgJiYKICAgICAgICAgICAgc2VsZWN0ZWRUaW1lQmxvY2suZW5kVGltZS5pc1NhbWVPckJlZm9yZShkYXRlUmFuZ2VbZGF0ZVJhbmdlLmxlbmd0aCAtIDFdLmNsb25lKCkuZW5kT2YoJ2RheScpKTsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibXVsdGktZGF5LXZpZXciLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibGFiZWxzIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJoZWFkaW5nIiB9KSwKICAgICAgICAgICAgICAgIGhvdXJJbnRlcnZhbHMubWFwKGZ1bmN0aW9uIChoaGkpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImludGVydmFsLWxhYmVsIiwga2V5OiBoaGkgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJsYWJlbCIgfSwgSE9VUlNbaGhpICUgSE9VUlMubGVuZ3RoXSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsgY2xhc3NOYW1lOiAic2VwYXJhdG9yIiB9KSkpOyB9KSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGF5cyIgfSwgZGF0ZVJhbmdlLm1hcChmdW5jdGlvbiAoZHIpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KERheVZpZXcsIHsgZGF0ZTogZHIsIHN0YXJ0SG91cjogc3RhcnRIb3VyLCBlbmRIb3VyOiBlbmRIb3VyLCBrZXk6IGRyLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCBldmVudHM6IGV2ZW50c1tkci5mb3JtYXQoJ01NLURELVlZWVknKV0gfHwgW10sIGV2ZW50VG9wOiBzZWxlY3RlZEV2ZW50UG9zaXRpb24gPyBzZWxlY3RlZEV2ZW50UG9zaXRpb24udG9wIDogMCwgZXZlbnRIZWlnaHQ6IHNlbGVjdGVkRXZlbnRQb3NpdGlvbiA/IHNlbGVjdGVkRXZlbnRQb3NpdGlvbi5oZWlnaHQgOiAwLCB0aW1lYmxvY2s6IHNlbGVjdGVkVGltZUJsb2NrLCBldmVudFBvc2l0aW9uczogZXZlbnRQb3NpdGlvbnNbZHIuZm9ybWF0KCdNTS1ERC1ZWVlZJyldLCBjb2x1bW5XaWR0aDogY29sdW1uV2lkdGgsIGhhbGZIb3VySW50ZXJ2YWxIZWlnaHQ6IEhBTEZfSE9VUl9JTlRFUlZBTF9IRUlHSFQsIHJlYWRPbmx5OiByZWFkT25seSB9KSk7IH0pKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjdXJyZW50LXRpbWUtbGluZSIsIHJlZjogdGhpcy5oYW5kbGVDdXJyZW50VGltZVJlZiwgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICB0b3A6ICgoY3VycmVudFRpbWVQb3NpdGlvbiA9PT0gbnVsbCB8fCBjdXJyZW50VGltZVBvc2l0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50VGltZVBvc2l0aW9uLnRvcCkgfHwgMCkgKyA1LAogICAgICAgICAgICAgICAgfSB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aW1lLWNvcHkiIH0sIG5vdygpLmZvcm1hdCgnaDptbSBBJykpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJsaW5lIiB9KSksCiAgICAgICAgICAgIHNob3dFdmVudCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChFdmVudCwgeyB0aW1lQmxvY2s6IHNlbGVjdGVkVGltZUJsb2NrLCBpbml0aWFsVG9wOiBzZWxlY3RlZEV2ZW50UG9zaXRpb24udG9wLCBpbml0aWFsTGVmdDogc2VsZWN0ZWRFdmVudFBvc2l0aW9uLmxlZnQsIGluaXRpYWxIZWlnaHQ6IHNlbGVjdGVkRXZlbnRQb3NpdGlvbi5oZWlnaHQsIG9uVXBkYXRlOiB0aGlzLmhhbmRsZUV2ZW50VXBkYXRlLCBjb2x1bW5XaWR0aDogY29sdW1uV2lkdGgsIHJvd0hlaWdodDogSEFMRl9IT1VSX0lOVEVSVkFMX0hFSUdIVCwgc3RhcnRIb3VyOiBzdGFydEhvdXIsIGRhdGVSYW5nZTogZGF0ZVJhbmdlLCBwcm9wb3NlZDogcmVhZE9ubHkgfSkpKSk7CiAgICB9OwogICAgcmV0dXJuIE11bHRpRGF5VmlldzsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IE11bHRpRGF5VmlldzsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/MultiDayView/MultiDayView.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/MultiDayView/MultiDayView.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment, { Moment } from 'moment';\n\nimport DayView, { EventPosition } from './DayView';\nimport Event from './Event';\nimport { first, forEach, isEqual } from 'lodash';\nimport { TimeBlock, CalendarEvent } from '@src/types';\n\nimport './MultiDayView.scss';\nimport { applyTimeBlockDefaults, convertPositionToTimeBlock } from '@src/lib/event';\nimport { now } from '@src/lib/datetime';\n\ninterface Props {\n  startDate: Moment;\n  endDate: Moment;\n  startHour: number;\n  endHour: number;\n  selectedTimeBlock?: TimeBlock;\n  onUpdateTimeBlock?: (timeblock: TimeBlock) => void;\n  hiddenCalendars: string[];\n  columnWidth: number;\n  dateRange: Moment[];\n  events: { [date: string]: CalendarEvent[] };\n\n  singleDay?: boolean;\n  readOnly?: boolean;\n}\n\ninterface State {\n  selectedTimeBlock?: TimeBlock;\n  initialX: number;\n  initialY: number;\n  selectedEventPosition?: SelectedEventPosition;\n  eventPositions: {\n    [date: string]: { [event: string]: EventPosition };\n  };\n  hourIntervals: number[];\n\n  // NOTE(SHIN): Set this component to forwardRef in own file when @types updated in future\n  currentTimePosition?: SelectedEventPosition;\n}\n\ninterface SelectedEventPosition {\n  top: number;\n  left: number;\n  height: number;\n}\n\nconst HOURS = [\n  '12am',\n  '1am',\n  '2am',\n  '3am',\n  '4am',\n  '5am',\n  '6am',\n  '7am',\n  '8am',\n  '9am',\n  '10am',\n  '11am',\n  '12pm',\n  '1pm',\n  '2pm',\n  '3pm',\n  '4pm',\n  '5pm',\n  '6pm',\n  '7pm',\n  '8pm',\n  '9pm',\n  '10pm',\n  '11pm',\n];\nconst HALF_HOUR_INTERVAL_HEIGHT = 36;\n\nclass MultiDayView extends React.PureComponent<Props, State> {\n  currentTimeLine: HTMLDivElement;\n  currentLineTimer: NodeJS.Timer;\n\n  constructor(props: Props) {\n    super();\n\n    this.state = {\n      initialX: 0,\n      initialY: 0,\n      eventPositions: {},\n      hourIntervals: [],\n    };\n  }\n\n  // Handle current time\n  updateCurrentTime = () => {\n    const { events, dateRange } = this.props;\n\n    // Recalculate current time position\n    const currentTimeBlock = applyTimeBlockDefaults({\n      startTime: now(),\n      endTime: now(),\n    });\n    const currentTimePosition = this.getEventPositionFromTimeBlock(\n      currentTimeBlock,\n      dateRange,\n      events,\n    );\n\n    // Handle setting state and then update current time position after 5 mins\n    this.setState(\n      {\n        currentTimePosition,\n      },\n      () => {\n\n        // Set timeout to call again in 5 minute\n        this.currentLineTimer = global.setTimeout(\n          () => this.updateCurrentTime(),\n          30000,\n        );\n      },\n    );\n  }\n\n  componentDidMount() {\n    const { events, startHour, endHour, selectedTimeBlock, dateRange } = this.props;\n    const eventPosition = this.getEventPositionFromTimeBlock(\n      selectedTimeBlock,\n      dateRange,\n      events,\n    );\n\n    const currentTimeblock = applyTimeBlockDefaults({\n      startTime: now(),\n      endTime: now(),\n    });\n    const currentTimePosition = this.getEventPositionFromTimeBlock(\n      currentTimeblock,\n      dateRange,\n      events,\n    );\n\n    this.updateCurrentTime();\n\n    this.setState(\n      {\n        eventPositions: this.generateEventPositions(events),\n        hourIntervals: this.generateHourIntervals(startHour, endHour),\n        selectedEventPosition: eventPosition,\n        currentTimePosition,\n      },\n      () => {\n        if (this.currentTimeLine?.scrollIntoView) {\n          this.currentTimeLine.scrollIntoView({ block: 'center' });\n        }\n      });\n  }\n\n  componentDidUpdate(oldProps: Props) {\n    // If props change recalculate event positions\n    if (!isEqual(oldProps, this.props)) {\n      const { dateRange, events } = this.props;\n      const eventPositions = this.generateEventPositions(events);\n      const eventPosition = this.getEventPositionFromTimeBlock(\n        this.props.selectedTimeBlock,\n        dateRange,\n        events,\n      );\n\n      const currentTimeBlock = applyTimeBlockDefaults({\n        startTime: now(),\n        endTime: now(),\n      });\n      const currentTimePosition = this.getEventPositionFromTimeBlock(\n        currentTimeBlock,\n        dateRange,\n        events,\n      );\n\n      this.setState({\n        hourIntervals: this.generateHourIntervals(this.props.startHour, this.props.endHour),\n        selectedEventPosition: eventPosition,\n        eventPositions,\n        currentTimePosition,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    // Turn off timer to update current time\n    clearTimeout(this.currentLineTimer);\n  }\n\n  handleCurrentTimeRef = (ref: HTMLDivElement) => {\n    this.currentTimeLine = ref;\n  }\n\n  getEventPositionFromTimeBlock = (\n    timeblock: TimeBlock | undefined,\n    dateRange: Moment[],\n    events: { [date: string]: CalendarEvent[] },\n  ) => {\n    if (!timeblock) {\n      return undefined;\n    }\n\n    const { startHour, columnWidth } = this.props;\n    const startTimeClone = timeblock && timeblock.startTime.clone();\n    const eventTop =\n      startTimeClone &&\n      startTimeClone\n        .clone()\n        .subtract(startHour, 'hours')\n        .hours() *\n        (HALF_HOUR_INTERVAL_HEIGHT * 2) +\n        (startTimeClone.minutes() ? (startTimeClone.minutes() / 15)\n        * (HALF_HOUR_INTERVAL_HEIGHT / 2) : 0);\n\n    const timeLeftPadding = 6;\n\n    const eventLeft =\n      startTimeClone &&\n      dateRange &&\n      dateRange.length &&\n      (startTimeClone\n        .clone()\n        .startOf('day')\n        .diff(first(dateRange)!.clone().startOf('day'), 'days')) *\n        columnWidth + timeLeftPadding;\n    const diffMinutes = timeblock.endTime.clone().diff(timeblock.startTime.clone(), 'minutes');\n    const eventHeight = diffMinutes / 30 * HALF_HOUR_INTERVAL_HEIGHT;\n\n    return {\n      top: eventTop,\n      left: eventLeft,\n      height: eventHeight,\n    };\n  }\n\n  getEventPositionFromEvent = (event: CalendarEvent, events: CalendarEvent[]) => {\n    const { startHour } = this.props;\n    const start = moment(event.startTime).dayOfYear(1);\n    const end = moment(event.endTime).dayOfYear(1);\n    const top =\n      start\n        .clone()\n        .subtract(startHour, 'hours')\n        .hours() *\n        (HALF_HOUR_INTERVAL_HEIGHT * 2) +\n      (start.minutes() ? start.minutes() / 15 * (HALF_HOUR_INTERVAL_HEIGHT / 2) : 0);\n    const diffMinutes = end.clone().diff(start.clone(), 'minutes');\n    const height = diffMinutes / 30 * HALF_HOUR_INTERVAL_HEIGHT;\n\n    return { top, height };\n  }\n\n  handleClick = (e: React.SyntheticEvent<HTMLElement>) => {\n    const { selectedTimeBlock, onUpdateTimeBlock } = this.props;\n    const target = e.target as HTMLElement;\n    const hour = target.dataset && target.dataset.hour;\n    const date = target.dataset && target.dataset.date;\n\n    if (hour && date && onUpdateTimeBlock) {\n      const start = moment(`${date} ${hour}`);\n      const timeblock = applyTimeBlockDefaults({\n        startTime: start,\n        endTime: start.clone().add(1, 'hours'),\n      });\n      if (selectedTimeBlock) {\n        timeblock.event = selectedTimeBlock.event;\n      }\n      onUpdateTimeBlock(timeblock);\n    }\n  }\n\n  generateHourIntervals = (startHour: number, endHour: number) => {\n    const hourIntervals = [];\n    for (let i = startHour; i < endHour; i += 1) {\n      hourIntervals.push(i);\n    }\n\n    return hourIntervals;\n  }\n\n  generateEventPositions = (events: { [date: string]: CalendarEvent[] }) => {\n    const eventPositions = {};\n\n    forEach(events, (vals: CalendarEvent[], date: string) => {\n      eventPositions[date] = {};\n\n      vals.forEach((v, index) => {\n        eventPositions[date][v.id] = this.getEventPositionFromEvent(v, vals);\n      });\n    });\n\n    return eventPositions;\n  }\n\n  handleEventUpdate = (position: { top: number; left: number; height: number }) => {\n    const {\n      selectedTimeBlock, startHour,\n      columnWidth, dateRange,\n      onUpdateTimeBlock,\n     } = this.props;\n    const newTimeblock = convertPositionToTimeBlock(\n      position, startHour, columnWidth, HALF_HOUR_INTERVAL_HEIGHT, dateRange,\n    ) || selectedTimeBlock;\n    const timeblock = newTimeblock && applyTimeBlockDefaults(newTimeblock) || selectedTimeBlock;\n\n    if (selectedTimeBlock) {\n      timeblock!.event = selectedTimeBlock.event;\n    }\n\n    if (timeblock && onUpdateTimeBlock) {\n      onUpdateTimeBlock(timeblock);\n    }\n  }\n\n  render() {\n    const {\n      startHour, endHour, selectedTimeBlock,\n      columnWidth, dateRange, events,\n      readOnly,\n    } = this.props;\n    const {\n      selectedEventPosition, eventPositions,\n      hourIntervals, currentTimePosition,\n    } = this.state;\n    const showEvent =\n      selectedTimeBlock &&\n      selectedEventPosition &&\n      dateRange.length &&\n      selectedTimeBlock.startTime.isSameOrAfter(dateRange[0].clone().startOf('day')) &&\n      selectedTimeBlock.endTime.isSameOrBefore(\n        dateRange[dateRange.length - 1].clone().endOf('day'),\n      );\n\n    return (\n      <div className=\"multi-day-view\" onClick={this.handleClick}>\n        <div className=\"labels\">\n          <div className=\"heading\" />\n          {hourIntervals.map(hhi => (\n            <div className=\"interval-label\" key={hhi}>\n              <span className=\"label\">{HOURS[hhi % HOURS.length]}</span>\n              <span className=\"separator\" />\n            </div>\n          ))}\n        </div>\n        <div className=\"days\">\n          {dateRange.map(dr => (\n            <DayView\n              date={dr}\n              startHour={startHour}\n              endHour={endHour}\n              key={dr.format('YYYY-MM-DD')}\n              events={events[dr.format('MM-DD-YYYY')] || []}\n              eventTop={selectedEventPosition ? selectedEventPosition.top : 0}\n              eventHeight={selectedEventPosition ? selectedEventPosition.height : 0}\n              timeblock={selectedTimeBlock}\n              eventPositions={eventPositions[dr.format('MM-DD-YYYY')]}\n              columnWidth={columnWidth}\n              halfHourIntervalHeight={HALF_HOUR_INTERVAL_HEIGHT}\n              readOnly={readOnly}\n            />\n          ))}\n        </div>\n        <div\n          className=\"current-time-line\"\n          ref={this.handleCurrentTimeRef}\n          style={{\n            top: (currentTimePosition?.top || 0) + 5,\n          }}\n        >\n          <div className=\"time-copy\">\n            {now().format('h:mm A')}\n          </div>\n          <div\n            className=\"line\"\n          />\n        </div>\n        {showEvent && (\n          <Event\n            timeBlock={selectedTimeBlock!}\n            initialTop={selectedEventPosition!.top}\n            initialLeft={selectedEventPosition!.left}\n            initialHeight={selectedEventPosition!.height}\n            onUpdate={this.handleEventUpdate}\n            columnWidth={columnWidth}\n            rowHeight={HALF_HOUR_INTERVAL_HEIGHT}\n            startHour={startHour}\n            dateRange={dateRange}\n            proposed={readOnly}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MultiDayView;\n"]}]}