{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/index.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/index.tsx","mtime":1675280254088},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFN0YWdlTGlzdCBmcm9tICcuL1N0YWdlTGlzdCc7CmltcG9ydCB7IHNlcXVlbmNlU3RhZ2VDcmVhdGUsIHNlcXVlbmNlU3RhZ2VEZWxldGUsIHNlcXVlbmNlU3RhZ2VVcGRhdGUsIHNlcXVlbmNlU3RhZ2VEdXBsaWNhdGUsIH0gZnJvbSAnQHNyYy9kdWNrcy9zZXF1ZW5jZVN0YWdlcyc7CmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXInOwp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gKHN0YXRlLCBvd25Qcm9wcykgewogICAgdmFyIHNlbGVjdGVkU2VxdWVuY2UgPSBvd25Qcm9wcy5tYXRjaCAmJiBvd25Qcm9wcy5tYXRjaC5wYXJhbXMuc2VxdWVuY2VJZDsKICAgIHZhciBzZXF1ZW5jZSA9IHN0YXRlLnNlcXVlbmNlcyAmJiBzZWxlY3RlZFNlcXVlbmNlICYmIHN0YXRlLnNlcXVlbmNlc1tzZWxlY3RlZFNlcXVlbmNlXQogICAgICAgICYmIHN0YXRlLnNlcXVlbmNlc1tzZWxlY3RlZFNlcXVlbmNlXS5kYXRhOwogICAgdmFyIHN0YWdlcyA9IHNlbGVjdGVkU2VxdWVuY2UgJiYgc3RhdGUuc2VxdWVuY2VTdGFnZXNbc2VsZWN0ZWRTZXF1ZW5jZV07CiAgICB2YXIgYXJyYXlTdGFnZXMgPSBzdGFnZXMgJiYgdmFsdWVzKHN0YWdlcykKICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdGFnZSkgeyByZXR1cm4gISFzdGFnZS5kYXRhOyB9KQogICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmRhdGEub3JkZXIgLSBiLmRhdGEub3JkZXI7IH0pIHx8IFtdOwogICAgdmFyIG9uYm9hcmRpbmcgPSBzdGF0ZS5vbmJvYXJkaW5nOwogICAgcmV0dXJuIHsKICAgICAgICBzZWxlY3RlZFNlcXVlbmNlOiBzZXF1ZW5jZSwKICAgICAgICBzdGFnZXM6IGFycmF5U3RhZ2VzLAogICAgICAgIHNob3dGaXJzdFN0YWdlR2VtOiBvbmJvYXJkaW5nLmFkZFNlcXVlbmNlUmVjaXBpZW50cyAmJgogICAgICAgICAgICAhb25ib2FyZGluZy5lZGl0U2VxdWVuY2VTdGFnZSB8fCB1bmRlZmluZWQsCiAgICAgICAgc2hvd05ld1N0YWdlR2VtOiBvbmJvYXJkaW5nLmFkZFNlcXVlbmNlUmVjaXBpZW50cyAmJiBvbmJvYXJkaW5nLmVkaXRTZXF1ZW5jZVN0YWdlICYmCiAgICAgICAgICAgICFvbmJvYXJkaW5nLmNyZWF0ZUFkZGl0aW9uYWxTdGFnZSB8fCB1bmRlZmluZWQsCiAgICB9Owp9Owp2YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gKGRpc3BhdGNoKSB7CiAgICByZXR1cm4gKHsKICAgICAgICBjcmVhdGVTdGFnZTogZnVuY3Rpb24gKG1ldGEpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlU3RhZ2VDcmVhdGUobWV0YSkpOyB9LAogICAgICAgIGRlbGV0ZVN0YWdlOiBmdW5jdGlvbiAoc3RhZ2UpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlU3RhZ2VEZWxldGUoc3RhZ2UpKTsgfSwKICAgICAgICB1cGRhdGVTdGFnZTogZnVuY3Rpb24gKHN0YWdlKSB7IHJldHVybiBkaXNwYXRjaChzZXF1ZW5jZVN0YWdlVXBkYXRlKHN0YWdlKSk7IH0sCiAgICAgICAgZHVwbGljYXRlU3RhZ2U6IGZ1bmN0aW9uIChzdGFnZSkgeyByZXR1cm4gZGlzcGF0Y2goc2VxdWVuY2VTdGFnZUR1cGxpY2F0ZShzdGFnZSkpOyB9LAogICAgfSk7Cn07CmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoU3RhZ2VMaXN0KSk7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/index.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/index.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAY,MAAM,aAAa,CAAC;AAEhD,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,SAAwC,MAAM,aAAa,CAAC;AACnE,OAAO,EACL,mBAAmB,EACnB,mBAAmB,EACnB,mBAAmB,EACnB,sBAAsB,GACvB,MAAM,2BAA2B,CAAC;AACnC,OAAO,EAAuB,UAAU,EAAE,MAAM,cAAc,CAAC;AAE/D,IAAM,eAAe,GAAG,UAAC,KAAiB,EAAE,QAAkC;IAC5E,IAAM,gBAAgB,GAAG,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC;IAC5E,IAAM,QAAQ,GAAG,KAAK,CAAC,SAAS,IAAI,gBAAgB,IAAI,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC;WACpF,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC;IAC5C,IAAM,MAAM,GAAG,gBAAgB,IAAI,KAAK,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;IAC1E,IAAM,WAAW,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC;SACzC,MAAM,CAAC,UAAA,KAAK,IAAI,OAAA,CAAC,CAAC,KAAK,CAAC,IAAI,EAAZ,CAAY,CAAC;SAC7B,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,CAAC,IAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAK,CAAC,KAAK,EAA7B,CAA6B,CAAC,IAAI,EAAE,CAAC;IACvD,IAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;IACpC,OAAO;QACL,gBAAgB,EAAE,QAAQ;QAC1B,MAAM,EAAE,WAAW;QACnB,iBAAiB,EAAE,UAAU,CAAC,qBAAqB;YACjD,CAAC,UAAU,CAAC,iBAAiB,IAAI,SAAS;QAC5C,eAAe,EAAE,UAAU,CAAC,qBAAqB,IAAI,UAAU,CAAC,iBAAiB;YAC/E,CAAC,UAAU,CAAC,qBAAqB,IAAI,SAAS;KACjD,CAAC;AACJ,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAA8B;IACxD,OAAO,CAAC;QACN,WAAW,EAAE,UAAA,IAAI,IAAI,OAAA,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,EAAnC,CAAmC;QACxD,WAAW,EAAE,UAAA,KAAK,IAAI,OAAA,QAAQ,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,EAApC,CAAoC;QAC1D,WAAW,EAAE,UAAA,KAAK,IAAI,OAAA,QAAQ,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,EAApC,CAAoC;QAC1D,cAAc,EAAE,UAAA,KAAK,IAAI,OAAA,QAAQ,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,EAAvC,CAAuC;KACjE,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC,OAAO,CAC/B,eAAe,EAAE,kBAAkB,CACpC,CAAC,SAAS,CAA6B,CAAC,CAAC","sourcesContent":["import { connect, Dispatch } from 'react-redux';\nimport { StoreState } from '@src/types';\nimport { values } from 'lodash';\nimport StageList, { StateProps, DispatchProps } from './StageList';\nimport {\n  sequenceStageCreate,\n  sequenceStageDelete,\n  sequenceStageUpdate,\n  sequenceStageDuplicate,\n} from '@src/ducks/sequenceStages';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nconst mapStateToProps = (state: StoreState, ownProps: RouteComponentProps<any>): StateProps => {\n  const selectedSequence = ownProps.match && ownProps.match.params.sequenceId;\n  const sequence = state.sequences && selectedSequence && state.sequences[selectedSequence]\n    && state.sequences[selectedSequence].data;\n  const stages = selectedSequence && state.sequenceStages[selectedSequence];\n  const arrayStages = stages && values(stages)\n    .filter(stage => !!stage.data)\n    .sort((a, b) => a.data!.order - b.data!.order) || [];\n  const onboarding = state.onboarding;\n  return {\n    selectedSequence: sequence,\n    stages: arrayStages,\n    showFirstStageGem: onboarding.addSequenceRecipients &&\n      !onboarding.editSequenceStage || undefined,\n    showNewStageGem: onboarding.addSequenceRecipients && onboarding.editSequenceStage &&\n      !onboarding.createAdditionalStage || undefined,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<StoreState>): DispatchProps => {\n  return ({\n    createStage: meta => dispatch(sequenceStageCreate(meta)),\n    deleteStage: stage => dispatch(sequenceStageDelete(stage)),\n    updateStage: stage => dispatch(sequenceStageUpdate(stage)),\n    duplicateStage: stage => dispatch(sequenceStageDuplicate(stage)),\n  });\n};\n\nexport default withRouter(connect<StateProps, DispatchProps>(\n  mapStateToProps, mapDispatchToProps,\n)(StageList) as React.ComponentType<any>);\n"]}]}