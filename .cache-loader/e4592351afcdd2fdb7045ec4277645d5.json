{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SequenceStageMessage/index.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SequenceStageMessage/index.tsx","mtime":1675280254092},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFNlcXVlbmNlU3RhZ2VNZXNzYWdlIGZyb20gJy4vU2VxdWVuY2VTdGFnZU1lc3NhZ2UnOwppbXBvcnQgeyBzZXF1ZW5jZVN0YWdlSW5zdGFuY2VBdHRhY2htZW50QWRkLCBzZXF1ZW5jZVN0YWdlSW5zdGFuY2VBdHRhY2htZW50UmVtb3ZlLCBzZWxlY3RTdGFnZUluc3RhbmNlQXR0YWNobWVudHNGb3JSZXNvdXJjZSwgfSBmcm9tICdAc3JjL2R1Y2tzL3NlcXVlbmNlU3RhZ2VJbnN0YW5jZXMnOwppbXBvcnQgeyBzZWxlY3RBdHRhY2htZW50TWV0YXNGb3JSZXNvdXJjZSB9IGZyb20gJ0BzcmMvZHVja3MvZHJhZnRzJzsKaW1wb3J0IHsgY29tbWFuZENvbnRyb2xTaG93IH0gZnJvbSAnQHNyYy9kdWNrcy9jb21tYW5kQ29udHJvbCc7CmltcG9ydCB7IHNlbGVjdENhbGVuZGFyU2NoZWR1bGluZ1VybCB9IGZyb20gJ0BzcmMvZHVja3Mvc2NoZWR1bGluZyc7CmltcG9ydCB7IGhvdGtleVVwZGF0ZSB9IGZyb20gJ0BzcmMvZHVja3MvaG90a2V5cyc7CnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiAoc3RhdGUsIG93blByb3BzKSB7CiAgICB2YXIgaW5zdGFuY2VzQXJyYXkgPSBvd25Qcm9wcy5pbnN0YW5jZXMgJiYgdmFsdWVzKG93blByb3BzLmluc3RhbmNlcyk7CiAgICB2YXIgaW5zdGFuY2UgPSBpbnN0YW5jZXNBcnJheSAmJiBpbnN0YW5jZXNBcnJheVswXSAmJiBpbnN0YW5jZXNBcnJheVswXS5kYXRhOwogICAgcmV0dXJuIHsKICAgICAgICBhdHRhY2htZW50czogaW5zdGFuY2UgJiYgc2VsZWN0U3RhZ2VJbnN0YW5jZUF0dGFjaG1lbnRzRm9yUmVzb3VyY2Uoc3RhdGUsIGluc3RhbmNlLmlkKSB8fCBbXSwKICAgICAgICBhdHRhY2htZW50TWV0YXM6IGluc3RhbmNlICYmIHNlbGVjdEF0dGFjaG1lbnRNZXRhc0ZvclJlc291cmNlKHN0YXRlLCBpbnN0YW5jZS5pZCkgfHwgW10sCiAgICAgICAgY2xvdWRBdHRhY2htZW50czogc3RhdGUucHJlZmVyZW5jZXMuY2xvdWRBdHRhY2htZW50cyAmJiBzdGF0ZS5mZWF0dXJlcy5jbG91ZEF0dGFjaG1lbnRzCiAgICAgICAgICAgIHx8IGZhbHNlLAogICAgICAgIGNvbW1hbmRDb250cm9sVHlwZTogc3RhdGUuY29tbWFuZENvbnRyb2xUeXBlLAogICAgICAgIHNjaGVkdWxpbmdVcmw6IHNlbGVjdENhbGVuZGFyU2NoZWR1bGluZ1VybChzdGF0ZSksCiAgICAgICAgbm9CcmFuZGluZzogc3RhdGUuZmVhdHVyZXMubm9CcmFuZGluZywKICAgICAgICB1c2VMaW5rUHJldmlldzogIXN0YXRlLnByZWZlcmVuY2VzLmRpc2FibGVMaW5rUHJldmlld3MsCiAgICB9Owp9Owp2YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gKGRpc3BhdGNoKSB7CiAgICByZXR1cm4gKHsKICAgICAgICBhZGRBdHRhY2htZW50OiBmdW5jdGlvbiAobWV0YSkgeyByZXR1cm4gZGlzcGF0Y2goc2VxdWVuY2VTdGFnZUluc3RhbmNlQXR0YWNobWVudEFkZChtZXRhKSk7IH0sCiAgICAgICAgcmVtb3ZlQXR0YWNobWVudDogZnVuY3Rpb24gKG1ldGEpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlU3RhZ2VJbnN0YW5jZUF0dGFjaG1lbnRSZW1vdmUobWV0YSkpOyB9LAogICAgICAgIHNob3dDb21tYW5kQ29udHJvbDogZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIGRpc3BhdGNoKGNvbW1hbmRDb250cm9sU2hvdyh0eXBlKSk7IH0sCiAgICAgICAgaG90a2V5VXBkYXRlOiBmdW5jdGlvbiAobWV0YSkgeyByZXR1cm4gZGlzcGF0Y2goaG90a2V5VXBkYXRlKG1ldGEpKTsgfSwKICAgIH0pOwp9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShTZXF1ZW5jZVN0YWdlTWVzc2FnZSk7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SequenceStageMessage/index.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceStageDetail/SequenceStageMessage/index.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAY,MAAM,aAAa,CAAC;AAChD,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,oBAA0D,MAAM,wBAAwB,CAAC;AAChG,OAAO,EACL,kCAAkC,EAClC,qCAAqC,EACrC,yCAAyC,GAC1C,MAAM,mCAAmC,CAAC;AAC3C,OAAO,EAAE,gCAAgC,EAAE,MAAM,mBAAmB,CAAC;AACrE,OAAO,EAAE,kBAAkB,EAAE,MAAM,2BAA2B,CAAC;AAC/D,OAAO,EAAE,2BAA2B,EAAE,MAAM,uBAAuB,CAAC;AACpE,OAAO,EAAE,YAAY,EAAE,MAAM,oBAAoB,CAAC;AAElD,IAAM,eAAe,GAAG,UAAC,KAAiB,EAAE,QAAe;IACzD,IAAM,cAAc,GAAG,QAAQ,CAAC,SAAS,IAAI,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IACxE,IAAM,QAAQ,GAAG,cAAc,IAAI,cAAc,CAAC,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAC/E,OAAO;QACL,WAAW,EAAE,QAAQ,IAAI,yCAAyC,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,IAAI,EAAE;QAC5F,eAAe,EAAE,QAAQ,IAAI,gCAAgC,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,IAAI,EAAE;QACvF,gBAAgB,EAAE,KAAK,CAAC,WAAW,CAAC,gBAAgB,IAAI,KAAK,CAAC,QAAQ,CAAC,gBAAgB;eAClF,KAAK;QACV,kBAAkB,EAAE,KAAK,CAAC,kBAAkB;QAC5C,aAAa,EAAE,2BAA2B,CAAC,KAAK,CAAC;QACjD,UAAU,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU;QACrC,cAAc,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,mBAAmB;KACvD,CAAC;AACJ,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAA8B;IACxD,OAAO,CAAC;QACN,aAAa,EAAE,UAAA,IAAI,IAAI,OAAA,QAAQ,CAAC,kCAAkC,CAAC,IAAI,CAAC,CAAC,EAAlD,CAAkD;QACzE,gBAAgB,EAAE,UAAA,IAAI,IAAI,OAAA,QAAQ,CAAC,qCAAqC,CAAC,IAAI,CAAC,CAAC,EAArD,CAAqD;QAC/E,kBAAkB,EAAE,UAAA,IAAI,IAAI,OAAA,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,EAAlC,CAAkC;QAC9D,YAAY,EAAE,UAAA,IAAI,IAAI,OAAA,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAA5B,CAA4B;KACnD,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,eAAe,OAAO,CACpB,eAAe,EAAE,kBAAkB,CACpC,CAAC,oBAAoB,CAAC,CAAC","sourcesContent":["import { connect, Dispatch } from 'react-redux';\nimport { values } from 'lodash';\nimport { StoreState } from '@src/types';\nimport SequenceStageMessage, { DispatchProps, Props, StateProps } from './SequenceStageMessage';\nimport {\n  sequenceStageInstanceAttachmentAdd,\n  sequenceStageInstanceAttachmentRemove,\n  selectStageInstanceAttachmentsForResource,\n} from '@src/ducks/sequenceStageInstances';\nimport { selectAttachmentMetasForResource } from '@src/ducks/drafts';\nimport { commandControlShow } from '@src/ducks/commandControl';\nimport { selectCalendarSchedulingUrl } from '@src/ducks/scheduling';\nimport { hotkeyUpdate } from '@src/ducks/hotkeys';\n\nconst mapStateToProps = (state: StoreState, ownProps: Props): StateProps => {\n  const instancesArray = ownProps.instances && values(ownProps.instances);\n  const instance = instancesArray && instancesArray[0] && instancesArray[0].data;\n  return {\n    attachments: instance && selectStageInstanceAttachmentsForResource(state, instance.id) || [],\n    attachmentMetas: instance && selectAttachmentMetasForResource(state, instance.id) || [],\n    cloudAttachments: state.preferences.cloudAttachments && state.features.cloudAttachments\n      || false,\n    commandControlType: state.commandControlType,\n    schedulingUrl: selectCalendarSchedulingUrl(state),\n    noBranding: state.features.noBranding,\n    useLinkPreview: !state.preferences.disableLinkPreviews,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<StoreState>): DispatchProps => {\n  return ({\n    addAttachment: meta => dispatch(sequenceStageInstanceAttachmentAdd(meta)),\n    removeAttachment: meta => dispatch(sequenceStageInstanceAttachmentRemove(meta)),\n    showCommandControl: type => dispatch(commandControlShow(type)),\n    hotkeyUpdate: meta => dispatch(hotkeyUpdate(meta)),\n  });\n};\n\nexport default connect<StateProps, DispatchProps, Props>(\n  mapStateToProps, mapDispatchToProps,\n)(SequenceStageMessage);\n"]}]}