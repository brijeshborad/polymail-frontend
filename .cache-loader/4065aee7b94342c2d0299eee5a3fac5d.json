{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancelPlan/CancelPlan.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancelPlan/CancelPlan.tsx","mtime":1675280254096},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSAncmVhY3Qtcm91dGVyJzsKaW1wb3J0IE5hdmlnYXRpb25IZWFkZXIgZnJvbSAnQHNyYy9yb3V0ZXMvU2V0dGluZ3MvY29tcG9uZW50cy9OYXZpZ2F0aW9uSGVhZGVyJzsKaW1wb3J0IGJyb3dzZXJIaXN0b3J5IGZyb20gJ0BzcmMvbGliL2Jyb3dzZXJIaXN0b3J5JzsKaW1wb3J0IExvYWRpbmdFcnJvclN0YXRlIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL3JvdXRlcy9CaWxsaW5nL2NvbXBvbmVudHMvTG9hZGluZ0Vycm9yU3RhdGUnOwppbXBvcnQgJy4vQ2FuY2VsUGxhbi5zY3NzJzsKaW1wb3J0IExvYWRlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvTG9hZGVyL0xvYWRlcic7CmltcG9ydCBDb25maXJtIGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYXNlL0NvbmZpcm0nOwp2YXIgRkVBVFVSRVMgPSBbCiAgICAnRW1haWwgVHJhY2tpbmcnLAogICAgJ1NlcXVlbmNlcycsCiAgICAnUHVibGljIENhbGVuZGFyIFBhZ2UnLAogICAgJ01lc3NhZ2UgVGVtcGxhdGVzJywKICAgICdGb2xsb3cgVXAgUmVtaW5kZXJzJywKICAgICdTZW5kIExhdGVyJywKICAgICdBY3Rpdml0eSBGZWVkJywKICAgICdhbmQgbW9yZS4uLicsCl07CnZhciBDYW5jZWxQbGFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKENhbmNlbFBsYW4sIF9zdXBlcik7CiAgICBmdW5jdGlvbiBDYW5jZWxQbGFuKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlQ2FuY2VsQ29uZmlybWF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5wcm9wcy5jYW5jZWxTdWJzY3JpcHRpb24oKTsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93Q29uZmlybTogZmFsc2UgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVIaWRlQ2FuY2VsQ29uZmlybWF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dDb25maXJtOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNob3dDYW5jZWxDb25maXJtYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd0NvbmZpcm06IHRydWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zZXR0aW5ncy9iaWxsaW5nJyk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVCYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBicm93c2VySGlzdG9yeS5nb0JhY2soKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBhbm51YWxUb2dnbGU6IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybTogZmFsc2UsCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBDYW5jZWxQbGFuLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgbG9hZGluZyA9IF9hLmxvYWRpbmcsIGxvYWRpbmdFcnJvciA9IF9hLmxvYWRpbmdFcnJvciwgaXNBZG1pbiA9IF9hLmlzQWRtaW4sIG5vU3Vic2NyaXB0aW9uID0gX2Eubm9TdWJzY3JpcHRpb24sIHVwZGF0aW5nID0gX2EudXBkYXRpbmc7CiAgICAgICAgaWYgKGxvYWRpbmcgfHwgbG9hZGluZ0Vycm9yIHx8ICFpc0FkbWluKSB7CiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nRXJyb3JTdGF0ZSwgeyBsb2FkaW5nOiBsb2FkaW5nLCBsb2FkaW5nRXJyb3I6IGxvYWRpbmdFcnJvciwgcmVxdWlyZUFkbWluOiAhaXNBZG1pbiB9KSk7CiAgICAgICAgfQogICAgICAgIGlmIChub1N1YnNjcmlwdGlvbikgewogICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgeyB0bzogIi9zZXR0aW5ncy9iaWxsaW5nL2NhbmNlbC9mZWVkYmFjayIgfSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXR0aW5ncy1wYW5lbCBwcmVmZXJlbmNlcy10ZWFtIiB9LAogICAgICAgICAgICB0aGlzLnN0YXRlLnNob3dDb25maXJtICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uZmlybSwgeyB0aXRsZTogIkNhbmNlbCBTdWJzY3JpcHRpb24iLCBtZXNzYWdlOiAiQXJlIHlvdSBzdXJlIHlvdSB3b3VsZCBsaWtlIHRvIGNhbmNlbCB5b3VyIHN1YnNjcmlwdGlvbj8gIiwgY2FuY2VsQ29weTogIkNhbmNlbCIsIG9uQ29uZmlybTogdGhpcy5oYW5kbGVDYW5jZWxDb25maXJtYXRpb24sIG9uQ2FuY2VsOiB0aGlzLmhhbmRsZUhpZGVDYW5jZWxDb25maXJtYXRpb24gfSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkhlYWRlciwgeyB0aXRsZTogIlBsYW5zICYgQmlsbGluZyIsIG9uQmFjazogdGhpcy5oYW5kbGVCYWNrIH0pLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNhbmNlbC1wbGFuIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWw/IiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCAiSWYgeW91IGNhbmNlbCB5b3VyIHN1YnNjcmlwdGlvbiwgdGhlc2UgZmVhdHVyZXMgd2lsbCBzdG9wIHdvcmtpbmc6IiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImZlYXR1cmUtbGlzdCIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJ1bCIsIG51bGwsIEZFQVRVUkVTLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgeyBrZXk6IGZlYXR1cmUgfSwgZmVhdHVyZSkpOyB9KSkpLAogICAgICAgICAgICAgICAgdXBkYXRpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjYW5jZWwtb3B0aW9ucyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRlciwgbnVsbCkpLAogICAgICAgICAgICAgICAgIXVwZGF0aW5nICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY2FuY2VsLW9wdGlvbnMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZUNhbmNlbCwgY2xhc3NOYW1lOiAia2VlcC1idXR0b24iIH0sICJEb24ndCBDYW5jZWwiKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd0NhbmNlbENvbmZpcm1hdGlvbiwgY2xhc3NOYW1lOiAiY2FuY2VsLXN1YnNjcmlwdGlvbi1idXR0b24iIH0sICJDYW5jZWwgU3Vic2NyaXB0aW9uIikpKSkpOwogICAgfTsKICAgIHJldHVybiBDYW5jZWxQbGFuOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQ2FuY2VsUGxhbjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancelPlan/CancelPlan.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancelPlan/CancelPlan.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\n\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport browserHistory from '@src/lib/browserHistory';\nimport LoadingErrorState from '@src/routes/Settings/routes/Billing/components/LoadingErrorState';\n\nimport './CancelPlan.scss';\nimport Loader from '@src/components/Loader/Loader';\nimport Confirm from '@src/components/Base/Confirm';\n\nexport interface Props {\n  loading: boolean;\n  loadingError: boolean;\n  noSubscription: boolean;\n  isAdmin: boolean;\n  updating: boolean;\n}\n\nexport interface DispatchProps {\n  cancelSubscription(): void;\n}\n\nexport interface State {\n  showConfirm: boolean;\n  annualToggle: boolean;\n}\n\nconst FEATURES = [\n  'Email Tracking',\n  'Sequences',\n  'Public Calendar Page',\n  'Message Templates',\n  'Follow Up Reminders',\n  'Send Later',\n  'Activity Feed',\n  'and more...',\n];\n\nclass CancelPlan extends React.PureComponent<Props & DispatchProps, State> {\n  constructor() {\n    super();\n    this.state = {\n      annualToggle: false,\n      showConfirm: false,\n    };\n  }\n\n  handleCancelConfirmation = () => {\n    this.props.cancelSubscription();\n    this.setState({ showConfirm: false });\n  }\n\n  handleHideCancelConfirmation = () => {\n    this.setState({ showConfirm: false });\n  }\n\n  handleShowCancelConfirmation = () => {\n    this.setState({ showConfirm: true });\n  }\n\n  handleCancel = () => {\n    browserHistory.push('/settings/billing');\n  }\n\n  handleBack = () => {\n    browserHistory.goBack();\n  }\n\n  render() {\n    const { loading, loadingError, isAdmin, noSubscription, updating } = this.props;\n\n    if (loading || loadingError || !isAdmin) {\n      return (\n        <LoadingErrorState loading={loading} loadingError={loadingError} requireAdmin={!isAdmin} />\n      );\n    }\n\n    if (noSubscription) {\n      return <Redirect to=\"/settings/billing/cancel/feedback\" />;\n    }\n\n    return (\n      <div className=\"settings-panel preferences-team\">\n        {this.state.showConfirm && <Confirm\n          title=\"Cancel Subscription\"\n          message=\"Are you sure you would like to cancel your subscription? \"\n          cancelCopy=\"Cancel\"\n          onConfirm={this.handleCancelConfirmation}\n          onCancel={this.handleHideCancelConfirmation}\n        />}\n        <NavigationHeader\n          title=\"Plans & Billing\"\n          onBack={this.handleBack}\n        />\n        <div className=\"cancel-plan\">\n          <div className=\"title\">\n            Are you sure you want to cancel?\n          </div>\n          <div className=\"description\">\n            If you cancel your subscription, these features will stop working:\n          </div>\n          <div className=\"feature-list\">\n            <ul>\n              {FEATURES.map(feature => (\n                <li key={feature}>{feature}</li>\n              ))}\n            </ul>\n          </div>\n          {updating && <div className=\"cancel-options\">\n              <Loader />\n          </div>}\n          {!updating && <div className=\"cancel-options\">\n            <button\n              onClick={this.handleCancel}\n              className=\"keep-button\"\n            >\n              Don't Cancel\n            </button>\n            <button\n              onClick={this.handleShowCancelConfirmation}\n              className=\"cancel-subscription-button\"\n            >\n              Cancel Subscription\n            </button>\n          </div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CancelPlan;\n"]}]}