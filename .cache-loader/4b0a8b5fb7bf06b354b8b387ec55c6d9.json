{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/Dropdown.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/Dropdown.tsx","mtime":1675280254006},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgRGlzY2xvc3VyZSBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvRGlzY2xvc3VyZS5zdmcnOwppbXBvcnQgUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvUG9wb3Zlci9Qb3BvdmVyJzsKaW1wb3J0IERyb3Bkb3duSXRlbSBmcm9tICcuL0Ryb3Bkb3duSXRlbSc7CmltcG9ydCAnLi9Ecm9wZG93bi5zY3NzJzsKaW1wb3J0IHsgS2V5Q29kZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgeyBzb3J0U3RyaW5nTWF0Y2hlcywgZnV6enlGb3JtYXR0ZWRTdHJpbmcgfSBmcm9tICdAc3JjL2xpYi9tYXRjaGVyJzsKaW1wb3J0IHsgdHlwZWFoZWFkUmVnZXggfSBmcm9tICdAc3JjL2xpYi90eXBlYWhlYWQnOwp2YXIgRHJvcGRvd24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoRHJvcGRvd24sIF9zdXBlcik7CiAgICBmdW5jdGlvbiBEcm9wZG93bihwcm9wcykgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGFpbmVyUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5jb250YWluZXJSZWYgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dFJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMuaW5wdXRSZWYgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVPcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcmVhZE9ubHkgPSBfdGhpcy5wcm9wcy5yZWFkT25seTsKICAgICAgICAgICAgaWYgKF90aGlzLnBvcG92ZXIgJiYgIXJlYWRPbmx5KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyLnNob3coKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0ID0gZnVuY3Rpb24gKHZhbHVlLCBfKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBpZCA9IF9hLmlkLCB2YWx1ZXMgPSBfYS52YWx1ZXM7CiAgICAgICAgICAgIGlmIChfdGhpcy5wb3BvdmVyKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgbWF0Y2hlZEluZGV4ID0gdmFsdWVzLmluZGV4T2YodmFsdWUpOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBzZWxlY3RlZDogbWF0Y2hlZEluZGV4LAogICAgICAgICAgICAgICAgdHlwZWFoZWFkVmFsdWU6IHVuZGVmaW5lZCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0KHZhbHVlLCBtYXRjaGVkSW5kZXgsIGlkKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUlucHV0Q2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHR5cGVhaGVhZCA9IF9hLnR5cGVhaGVhZCwgb25JbnB1dENoYW5nZSA9IF9hLm9uSW5wdXRDaGFuZ2U7CiAgICAgICAgICAgIGlmICghdHlwZWFoZWFkKSB7CiAgICAgICAgICAgICAgICBpZiAob25JbnB1dENoYW5nZSkgewogICAgICAgICAgICAgICAgICAgIG9uSW5wdXRDaGFuZ2UoZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHZhbHVlcyA9IF90aGlzLnByb3BzLnZhbHVlczsKICAgICAgICAgICAgdmFyIHRleHRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICAgICAgICB2YXIgcmVnZXggPSB0eXBlYWhlYWRSZWdleCh0ZXh0VmFsdWUpOwogICAgICAgICAgICAvLyBTZXQgdHlwZWFoZWFkIG1hdGNoZXMKICAgICAgICAgICAgdmFyIHR5cGVhaGVhZE1hdGNoZXMgPSBzb3J0U3RyaW5nTWF0Y2hlcyh2YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Lm1hdGNoKHJlZ2V4KTsgfSksIHRleHRWYWx1ZSk7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHR5cGVhaGVhZEluZGV4OiAwLAogICAgICAgICAgICAgICAgdHlwZWFoZWFkVmFsdWU6IHRleHRWYWx1ZSwKICAgICAgICAgICAgICAgIHR5cGVhaGVhZE9wdGlvbnM6IHRleHRWYWx1ZSAmJiB0eXBlYWhlYWRNYXRjaGVzIHx8IF90aGlzLnByb3BzLnZhbHVlcywKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVPcHRpb25zU2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHR5cGVhaGVhZCA9IF9hLnR5cGVhaGVhZCwgdmFsdWVzID0gX2EudmFsdWVzOwogICAgICAgICAgICAvLyBIYW5kbGUgZm9jdXNpbmcgaWYgdHlwZWFibGUKICAgICAgICAgICAgX3RoaXMuaW5wdXRSZWYuZm9jdXMoKTsKICAgICAgICAgICAgaWYgKHR5cGVhaGVhZCkgewogICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IF90aGlzLmlucHV0UmVmLnZhbHVlLmxlbmd0aDsKICAgICAgICAgICAgICAgIF90aGlzLmlucHV0UmVmLnNldFNlbGVjdGlvblJhbmdlKDAsIGxlbmd0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgdHlwZWFoZWFkSW5kZXg6IC0xLAogICAgICAgICAgICAgICAgcG9wb3ZlclNob3duOiB0cnVlLAogICAgICAgICAgICAgICAgdHlwZWFoZWFkVmFsdWU6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgIHR5cGVhaGVhZE9wdGlvbnM6IHZhbHVlcywKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVPcHRpb25zSGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgcG9wb3ZlclNob3duOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGVhaGVhZFZhbHVlOiB1bmRlZmluZWQsCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRW50ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnN0YXRlLCB0eXBlYWhlYWRJbmRleCA9IF9hLnR5cGVhaGVhZEluZGV4LCBwb3BvdmVyU2hvd24gPSBfYS5wb3BvdmVyU2hvd24sIHR5cGVhaGVhZE9wdGlvbnMgPSBfYS50eXBlYWhlYWRPcHRpb25zOwogICAgICAgICAgICB2YXIgdmFsdWVzID0gX3RoaXMucHJvcHMudmFsdWVzOwogICAgICAgICAgICBpZiAocG9wb3ZlclNob3duICYmIHR5cGVhaGVhZEluZGV4IDwgdmFsdWVzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5oaWRlKCk7CiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgbWF0Y2gKICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHR5cGVhaGVhZE9wdGlvbnNbdHlwZWFoZWFkSW5kZXhdOwogICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0KHR5cGVhaGVhZE9wdGlvbnNbdHlwZWFoZWFkSW5kZXhdLCB0eXBlYWhlYWRJbmRleCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBSZXNldCBzdGF0ZSBhbmQgdW5ibHVyCiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZWFoZWFkVmFsdWU6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICB0eXBlYWhlYWRJbmRleDogMCwKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaW5wdXRSZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaW5wdXRSZWYuYmx1cigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuc3RhdGUsIHR5cGVhaGVhZEluZGV4ID0gX2EudHlwZWFoZWFkSW5kZXgsIHR5cGVhaGVhZE9wdGlvbnMgPSBfYS50eXBlYWhlYWRPcHRpb25zLCBwb3BvdmVyU2hvd24gPSBfYS5wb3BvdmVyU2hvd247CiAgICAgICAgICAgIHZhciBoYW5kbGVkID0gZmFsc2U7CiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7CiAgICAgICAgICAgICAgICBjYXNlIEtleUNvZGUuVXA6CiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzSW5kZXggPSB0eXBlYWhlYWRJbmRleCAtIDE7CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzSW5kZXggPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHR5cGVhaGVhZEluZGV4OiBwcmV2aW91c0luZGV4IH0pOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkRvd246CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRJbmRleCA9IHR5cGVhaGVhZEluZGV4ICsgMTsKICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEluZGV4ID49IHR5cGVhaGVhZE9wdGlvbnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHR5cGVhaGVhZEluZGV4OiBuZXh0SW5kZXggfSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEtleUNvZGUuRW50ZXI6CiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcG92ZXJTaG93bikgewogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlRW50ZXIoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEtleUNvZGUuVGFiOgogICAgICAgICAgICAgICAgICAgIGlmIChwb3BvdmVyU2hvd24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkVzYzoKICAgICAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChoYW5kbGVkKSB7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHByb3BzLnN0YXJ0SW5kZXggIT09IHVuZGVmaW5lZCA/IHByb3BzLnN0YXJ0SW5kZXggOiAtMTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgc2VsZWN0ZWQ6IHN0YXJ0SW5kZXgsCiAgICAgICAgICAgIHR5cGVhaGVhZE9wdGlvbnM6IHByb3BzLnZhbHVlcywKICAgICAgICAgICAgdHlwZWFoZWFkSW5kZXg6IDAsCiAgICAgICAgICAgIHBvcG92ZXJTaG93bjogZmFsc2UsCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICAvLyBIYW5kbGVzIHJlc2V0dGluZyBzdGF0ZSBpZiByZXNldCBjb3VudGVyIGlzIGluY3JlbWVudGVkCiAgICBEcm9wZG93bi5wcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7CiAgICAgICAgLy8gUmVzZXQgdG8gc3RhcnQgaW5kZXggaWYgcmVzZXQgY291bnRlciBoYXMgYmVlbiBzZXQKICAgICAgICB2YXIgcmVzZXRDb3VudGVyQ2hhbmdlZCA9IChuZXh0UHJvcHMucmVzZXRDb3VudGVyIHx8IDApID4gKHRoaXMucHJvcHMucmVzZXRDb3VudGVyIHx8IDApOwogICAgICAgIHZhciBzdGFydEluZGV4Q2hhbmdlZCA9IG5leHRQcm9wcy5zdGFydEluZGV4ICE9PSB0aGlzLnByb3BzLnN0YXJ0SW5kZXg7CiAgICAgICAgaWYgKHJlc2V0Q291bnRlckNoYW5nZWQgfHwgc3RhcnRJbmRleENoYW5nZWQpIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBzZWxlY3RlZDogbmV4dFByb3BzLnN0YXJ0SW5kZXggIT09IHVuZGVmaW5lZCA/IG5leHRQcm9wcy5zdGFydEluZGV4IDogLTEsCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICBEcm9wZG93bi5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcywgcHJldlN0YXRlKSB7CiAgICAgICAgLy8gSGVscHMgbWFpbnRhaW4gc2VsZWN0aW9uCiAgICAgICAgdmFyIHR5cGVhaGVhZEluZGV4ID0gdGhpcy5zdGF0ZS50eXBlYWhlYWRJbmRleDsKICAgICAgICBpZiAodHlwZWFoZWFkSW5kZXggJiYgdHlwZWFoZWFkSW5kZXggIT09IHByZXZTdGF0ZS50eXBlYWhlYWRJbmRleCAmJiB0aGlzLnBvcG92ZXIpIHsKICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lclJlZi5xdWVyeVNlbGVjdG9yKCIjZm9ybS1kcm9wZG93bi1vcHRpb24tIiArIHR5cGVhaGVhZEluZGV4KTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHZhciBjZWxsQm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgIHZhciBjZWxsVG9wID0gY2VsbEJveC5oZWlnaHQgKiAodHlwZWFoZWFkSW5kZXgpOwogICAgICAgICAgICAgICAgdmFyIGNlbGxCb3R0b20gPSBjZWxsQm94LmhlaWdodCArIChjZWxsQm94LmhlaWdodCAqIHR5cGVhaGVhZEluZGV4KTsKICAgICAgICAgICAgICAgIHZhciBsaXN0Qm94ID0gdGhpcy5jb250YWluZXJSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgICAgICB2YXIgbGlzdFRvcCA9IHRoaXMuY29udGFpbmVyUmVmLnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgIHZhciBsaXN0Qm90dG9tID0gbGlzdEJveC5oZWlnaHQgKyB0aGlzLmNvbnRhaW5lclJlZi5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICBpZiAoY2VsbFRvcCA8IGxpc3RUb3ApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lclJlZi5zY3JvbGxUb3AgPSBjZWxsVG9wOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjZWxsQm90dG9tID4gbGlzdEJvdHRvbSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmVmLnNjcm9sbFRvcCA9IGNlbGxCb3R0b20gLSBsaXN0Qm94LmhlaWdodDsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgRHJvcGRvd24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGRlc2NyaXB0aW9uID0gX2EuZGVzY3JpcHRpb24sIHBsYWNlaG9sZGVyID0gX2EucGxhY2Vob2xkZXIsIGlkID0gX2EuaWQsIHZhbHVlID0gX2EudmFsdWUsIHJlYWRPbmx5ID0gX2EucmVhZE9ubHksIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgaGlkZURpc2Nsb3N1cmUgPSBfYS5oaWRlRGlzY2xvc3VyZSwgdmFsdWVzID0gX2EudmFsdWVzLCB0eXBlYWhlYWQgPSBfYS50eXBlYWhlYWQ7CiAgICAgICAgdmFyIF9iID0gdGhpcy5zdGF0ZSwgdHlwZWFoZWFkVmFsdWUgPSBfYi50eXBlYWhlYWRWYWx1ZSwgdHlwZWFoZWFkT3B0aW9ucyA9IF9iLnR5cGVhaGVhZE9wdGlvbnMsIHR5cGVhaGVhZEluZGV4ID0gX2IudHlwZWFoZWFkSW5kZXg7CiAgICAgICAgdmFyIGJhY2t1cFZhbHVlID0gdmFsdWUgPT09IHVuZGVmaW5lZAogICAgICAgICAgICA/IHRoaXMucHJvcHMudmFsdWVzW3RoaXMuc3RhdGUuc2VsZWN0ZWRdIHx8ICcnCiAgICAgICAgICAgIDogdmFsdWU7CiAgICAgICAgdmFyIHNob3duVmFsdWUgPSB0eXBlYWhlYWRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gdHlwZWFoZWFkVmFsdWUgOiBiYWNrdXBWYWx1ZTsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdkcm9wZG93bicsIGNsYXNzTmFtZSksIGlkOiBpZCB9LAogICAgICAgICAgICBkZXNjcmlwdGlvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCBkZXNjcmlwdGlvbiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgb25DbGljazogdGhpcy5oYW5kbGVPcGVuLCBjbGFzc05hbWU6ICJzZWxlY3QiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIGNsYXNzTmFtZTogImlucHV0IiwgcmVmOiB0aGlzLmhhbmRsZUlucHV0UmVmLCBrZXk6ICIiICsgdGhpcy5zdGF0ZS5zZWxlY3RlZCwgdmFsdWU6IHNob3duVmFsdWUsIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UsIHJlYWRPbmx5OiByZWFkT25seSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHJlYWRPbmx5LCBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93biwgc2l6ZTogdHlwZWFoZWFkICYmIE1hdGgubWF4LmFwcGx5KE1hdGgsICh2YWx1ZXMubWFwKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwubGVuZ3RoOyB9KSkpIHx8IHVuZGVmaW5lZCB9KSwKICAgICAgICAgICAgICAgICFoaWRlRGlzY2xvc3VyZSAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlzY2xvc3VyZSwgeyBjbGFzc05hbWU6ICJkaXNjbG9zdXJlIiB9KSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wb3ZlciwgeyBjbGFzc05hbWU6ICJmb3JtLWRyb3Bkb3duLXBvcG92ZXIiLCByZWY6IHRoaXMuaGFuZGxlUmVmLCBvblNob3c6IHRoaXMuaGFuZGxlT3B0aW9uc1Nob3csIG9uSGlkZTogdGhpcy5oYW5kbGVPcHRpb25zSGlkZSwgYXV0b0ZvY3VzT2ZmOiB0cnVlIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm9wdGlvbnMtY29udGFpbmVyIiwgcmVmOiB0aGlzLmhhbmRsZUNvbnRhaW5lclJlZiB9LCB0eXBlYWhlYWRPcHRpb25zLm1hcChmdW5jdGlvbiAodmFsLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25JdGVtLCB7IGNsYXNzTmFtZTogaSA9PT0gdHlwZWFoZWFkSW5kZXggPyAnc2VsZWN0ZWQnIDogdW5kZWZpbmVkLCBrZXk6IHZhbCwgaW5kZXg6IGksIHZhbHVlOiB2YWwsIGpzeFZhbHVlOiAhIXR5cGVhaGVhZFZhbHVlICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdXp6eUZvcm1hdHRlZFN0cmluZyh0eXBlYWhlYWRWYWx1ZSwgdmFsLCBpKSB8fCB1bmRlZmluZWQsIG9uQ2xpY2s6IF90aGlzLmhhbmRsZVNlbGVjdCB9KTsKICAgICAgICAgICAgICAgIH0pKSkpKTsKICAgIH07CiAgICByZXR1cm4gRHJvcGRvd247Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBEcm9wZG93bjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/Dropdown.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/Dropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport Disclosure from '@src/components/Icons/Disclosure.svg';\nimport Popover from '@src/components/Popover/Popover';\nimport DropdownItem from './DropdownItem';\n\nimport './Dropdown.scss';\nimport { KeyCode } from '@src/types';\nimport { sortStringMatches, fuzzyFormattedString } from '@src/lib/matcher';\nimport { typeaheadRegex } from '@src/lib/typeahead';\n\nexport interface Props {\n  className?: string;\n  description?: string;\n  placeholder?: string;\n  values: string[];\n  onSelect: (value: string, index: number, id?: string) => void;\n  id?: string;\n  value?: string;\n\n  // Value to start Form Dropdown with\n  startIndex?: number;\n  resetCounter?: number;\n  readOnly?: boolean;\n  onInputChange?: (e: React.FormEvent<HTMLInputElement>) => void;\n  typeahead?: boolean;\n  hideDisclosure?: boolean;\n}\n\ninterface State {\n  selected: number;\n  typeaheadOptions: string[];\n  typeaheadValue?: string;\n  typeaheadIndex: number;\n  popoverShown: boolean;\n}\n\nclass Dropdown extends React.PureComponent<Props, State> {\n  popover: Popover;\n  inputRef: HTMLInputElement;\n  containerRef: HTMLDivElement;\n\n  constructor(props: Props) {\n    super();\n\n    const startIndex = props.startIndex !== undefined ? props.startIndex : -1;\n    this.state = {\n      selected: startIndex,\n      typeaheadOptions: props.values,\n      typeaheadIndex: 0,\n      popoverShown: false,\n    };\n  }\n\n  // Handles resetting state if reset counter is incremented\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    // Reset to start index if reset counter has been set\n    const resetCounterChanged = (nextProps.resetCounter || 0) > (this.props.resetCounter || 0);\n    const startIndexChanged = nextProps.startIndex !== this.props.startIndex;\n    if (resetCounterChanged || startIndexChanged) {\n      this.setState({\n        selected: nextProps.startIndex !== undefined ? nextProps.startIndex : -1,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    // Helps maintain selection\n    const { typeaheadIndex } = this.state;\n    if (typeaheadIndex && typeaheadIndex !== prevState.typeaheadIndex && this.popover) {\n      const element = this.containerRef.querySelector(`#form-dropdown-option-${typeaheadIndex}`);\n      if (element) {\n        const cellBox = element.getBoundingClientRect();\n        const cellTop = cellBox.height * (typeaheadIndex);\n        const cellBottom = cellBox.height + (cellBox.height * typeaheadIndex);\n\n        const listBox = this.containerRef.getBoundingClientRect();\n        const listTop = this.containerRef.scrollTop;\n        const listBottom = listBox.height + this.containerRef.scrollTop;\n\n        if (cellTop < listTop) {\n          this.containerRef.scrollTop = cellTop;\n          return;\n        }\n\n        if (cellBottom > listBottom) {\n          this.containerRef.scrollTop = cellBottom - listBox.height;\n          return;\n        }\n      }\n    }\n  }\n\n  handleRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  handleContainerRef = (ref: HTMLDivElement) => {\n    this.containerRef = ref;\n  }\n\n  handleInputRef = (ref: HTMLInputElement) => {\n    this.inputRef = ref;\n  }\n\n  handleOpen = () => {\n    const { readOnly } = this.props;\n\n    if (this.popover && !readOnly) {\n      this.popover.show();\n    }\n  }\n\n  handleSelect = (value: string, _: number) => {\n    const { id, values } = this.props;\n    if (this.popover) {\n      this.popover.hide();\n    }\n\n    const matchedIndex = values.indexOf(value);\n    this.setState({\n      selected: matchedIndex,\n      typeaheadValue: undefined,\n    });\n    this.props.onSelect(value, matchedIndex, id);\n  }\n\n  handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { typeahead, onInputChange } = this.props;\n    if (!typeahead) {\n      if (onInputChange) {\n        onInputChange(e);\n      }\n      return;\n    }\n\n    const { values } = this.props;\n    const textValue = e.target.value;\n    const regex = typeaheadRegex(textValue);\n\n    // Set typeahead matches\n    const typeaheadMatches = sortStringMatches(values.filter(v => v.match(regex)), textValue);\n    this.setState({\n      typeaheadIndex: 0,\n      typeaheadValue: textValue,\n      typeaheadOptions: textValue && typeaheadMatches || this.props.values,\n    });\n  }\n\n  handleOptionsShow = () => {\n    const { typeahead, values } = this.props;\n\n    // Handle focusing if typeable\n    this.inputRef.focus();\n    if (typeahead) {\n      const length = this.inputRef.value.length;\n      this.inputRef.setSelectionRange(0, length);\n    }\n\n    this.setState({\n      typeaheadIndex: -1,\n      popoverShown: true,\n      typeaheadValue: undefined,\n      typeaheadOptions: values,\n    });\n  }\n\n  handleOptionsHide = () => {\n    this.setState({\n      popoverShown: false,\n      typeaheadValue: undefined,\n    });\n  }\n\n  handleEnter = () => {\n    const { typeaheadIndex, popoverShown, typeaheadOptions } = this.state;\n    const { values } = this.props;\n\n    if (popoverShown && typeaheadIndex < values.length) {\n      this.popover.hide();\n\n      // Select match\n      const match = typeaheadOptions[typeaheadIndex];\n      if (match) {\n        this.handleSelect(typeaheadOptions[typeaheadIndex], typeaheadIndex);\n      }\n\n      // Reset state and unblur\n      this.setState(\n        {\n          typeaheadValue: undefined,\n          typeaheadIndex: 0,\n        },\n        () => {\n          if (this.inputRef) {\n            this.inputRef.blur();\n          }\n        },\n      );\n    }\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n    const { typeaheadIndex, typeaheadOptions, popoverShown } = this.state;\n\n    let handled = false;\n    switch (e.keyCode) {\n      case KeyCode.Up:\n        const previousIndex = typeaheadIndex - 1;\n        handled = true;\n        if (previousIndex < 0) {\n          break;\n        }\n        this.setState({ typeaheadIndex: previousIndex });\n        break;\n      case KeyCode.Down:\n        handled = true;\n        const nextIndex = typeaheadIndex + 1;\n        if (nextIndex >= typeaheadOptions.length) {\n          break;\n        }\n\n        this.setState({ typeaheadIndex: nextIndex });\n        break;\n      case KeyCode.Enter:\n        if (popoverShown) {\n          handled = true;\n          this.handleEnter();\n        }\n        break;\n      case KeyCode.Tab:\n        if (popoverShown) {\n          this.popover.hide();\n        }\n        break;\n      case KeyCode.Esc:\n        handled = true;\n        this.popover.hide();\n        break;\n      default: break;\n    }\n\n    if (handled) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    const {\n      description,\n      placeholder,\n      id,\n      value,\n      readOnly,\n      className,\n      hideDisclosure,\n      values,\n      typeahead,\n    } = this.props;\n\n    const {\n      typeaheadValue,\n      typeaheadOptions,\n      typeaheadIndex,\n    } = this.state;\n\n    const backupValue = value === undefined\n      ? this.props.values[this.state.selected] || ''\n      : value;\n    const shownValue = typeaheadValue !== undefined ? typeaheadValue : backupValue;\n\n    return (\n      <div\n        className={classnames('dropdown', className)}\n        id={id}\n      >\n        {description && <div className=\"description\">{description}</div>}\n        <div\n          onClick={this.handleOpen}\n          className=\"select\"\n        >\n          <input\n            dir=\"auto\"\n            className=\"input\"\n            ref={this.handleInputRef}\n            key={`${this.state.selected}`}\n            value={shownValue}\n            placeholder={placeholder}\n            onChange={this.handleInputChange}\n            readOnly={readOnly === undefined ? true : readOnly}\n            onKeyDown={this.handleKeyDown}\n            size={typeahead && Math.max(...(values.map(el => el.length))) || undefined}\n          />\n          {!hideDisclosure &&\n            <Disclosure className=\"disclosure\" />\n          }\n        </div>\n        <Popover\n          className=\"form-dropdown-popover\"\n          ref={this.handleRef}\n          onShow={this.handleOptionsShow}\n          onHide={this.handleOptionsHide}\n          autoFocusOff\n        >\n          <div\n            className=\"options-container\"\n            ref={this.handleContainerRef}\n          >\n            {typeaheadOptions.map((val, i) =>\n              <DropdownItem\n                className={i === typeaheadIndex ? 'selected' : undefined}\n                key={val}\n                index={i}\n                value={val}\n                jsxValue={!!typeaheadValue &&\n                  fuzzyFormattedString(typeaheadValue, val, i) || undefined\n                }\n                onClick={this.handleSelect}\n              />,\n            )}\n          </div>\n        </Popover>\n      </div>\n    );\n  }\n}\n\nexport default Dropdown;\n"]}]}