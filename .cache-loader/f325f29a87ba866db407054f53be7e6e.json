{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/ChoosePlan/ChoosePlan.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/ChoosePlan/ChoosePlan.tsx","mtime":1675280254078},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyBCSUxMSU5HX1BMQU5TLCBCaWxsaW5nQ3ljbGUsIEJpbGxpbmdUaWVyLCB9IGZyb20gJ0BzcmMvdHlwZXMvYmlsbGluZyc7CmltcG9ydCB7IFJlc291cmNlU3RhdHVzIH0gZnJvbSAnQHNyYy90eXBlcyc7CmltcG9ydCB7IGRlYm91bmNlLCBmb3JtYXRDdXJyZW5jeUNlbnRzIH0gZnJvbSAnQHNyYy9saWIvdXRpbHMnOwppbXBvcnQgeyBBbXBsaXR1ZGVFdmVudHMsIGxvZ0FtcGxpdHVkZUV2ZW50IH0gZnJvbSAnQHNyYy9saWIvYW1wbGl0dWRlLWFuYWx5dGljcyc7CmltcG9ydCAnLi9DaG9vc2VQbGFuLnNjc3MnOwppbXBvcnQgRHJvcGRvd24gZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vRHJvcGRvd24nOwppbXBvcnQgUGF5bWVudEZvcm0gZnJvbSAnQHNyYy9yb3V0ZXMvU2V0dGluZ3Mvcm91dGVzL0JpbGxpbmcvY29tcG9uZW50cy9QYXltZW50Rm9ybSc7CmltcG9ydCBCaWxsaW5nRGF0YVByb3ZpZGVyIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL3JvdXRlcy9CaWxsaW5nL2NvbXBvbmVudHMvQmlsbGluZ0RhdGFQcm92aWRlcic7CmltcG9ydCBCaWxsaW5nUGxhbkhlYWRlciBmcm9tICdAc3JjL3JvdXRlcy9TZXR0aW5ncy9yb3V0ZXMvQmlsbGluZy9jb21wb25lbnRzL0JpbGxpbmdQbGFuSGVhZGVyJzsKaW1wb3J0IGJyb3dzZXJIaXN0b3J5IGZyb20gJ0BzcmMvbGliL2Jyb3dzZXJIaXN0b3J5JzsKaW1wb3J0IExvYWRlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvTG9hZGVyL0xvYWRlcic7CnZhciBDaG9vc2VQbGFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKENob29zZVBsYW4sIF9zdXBlcik7CiAgICBmdW5jdGlvbiBDaG9vc2VQbGFuKHByb3BzKSB7CiAgICAgICAgdmFyIF9hOwogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzOwogICAgICAgIC8vIHRpZXIgY2hhbmdlIGlzIGEgZHJvcGRvd24KICAgICAgICBfdGhpcy5oYW5kbGVUaWVyQ2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIHZhciB0aWVyID0gX3RoaXMuZ2V0QXZhaWxhYmxlUGxhbnMoKQogICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGxhbikgeyB2YXIgX2E7IHJldHVybiAoX2EgPSBwbGFuLmFjY291bnRDaG9vc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50aXRsZS5pbmNsdWRlcyh2YWx1ZSk7IH0pWzBdLnRpZXI7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdGllcjogdGllciwgdGllclRleHQ6IHZhbHVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQmlsbGluZ0NoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgYmlsbGluZ0N5Y2xlOiBfdGhpcy5zdGF0ZS5iaWxsaW5nQ3ljbGUgPT09IEJpbGxpbmdDeWNsZS5Nb250aGx5ID8gQmlsbGluZ0N5Y2xlLkFubnVhbCA6IEJpbGxpbmdDeWNsZS5Nb250aGx5LAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUJpbGxpbmdDeWNsZUNoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuYmlsbGluZ0N5Y2xlID09PSBCaWxsaW5nQ3ljbGUuTW9udGhseSkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBiaWxsaW5nQ3ljbGU6IEJpbGxpbmdDeWNsZS5Bbm51YWwgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGJpbGxpbmdDeWNsZTogQmlsbGluZ0N5Y2xlLk1vbnRobHkgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvdXBvbkNoYW5nZSA9IGZ1bmN0aW9uIChjb3Vwb24pIHsKICAgICAgICAgICAgaWYgKGNvdXBvbiAmJiB0eXBlb2YgY291cG9uID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0VXBncmFkZUNvdXBvbih7CiAgICAgICAgICAgICAgICAgICAgY291cG9uOiBjb3Vwb24sCiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0N5Y2xlOiBfdGhpcy5zdGF0ZS5iaWxsaW5nQ3ljbGUsCiAgICAgICAgICAgICAgICAgICAgdGllcjogX3RoaXMuc3RhdGUudGllciwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMucHJvcHMudW5zZXRVcGdyYWRlQ291cG9uKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvdXBvblJlbW92ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucHJvcHMudW5zZXRVcGdyYWRlQ291cG9uKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVQcm9tb0ZldGNoID0gZGVib3VuY2UoZnVuY3Rpb24gKGNvdXBvbikgeyByZXR1cm4gX3RoaXMuaGFuZGxlQ291cG9uQ2hhbmdlKGNvdXBvbik7IH0sIDE1MDApOwogICAgICAgIF90aGlzLmhhbmRsZUNvdXBvbklucHV0Q2hhbmdlID0gZnVuY3Rpb24gKGlucHV0KSB7CiAgICAgICAgICAgIGlmIChpbnB1dCAmJiB0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICB2YXIgaW5wdXRIVE1MID0gaW5wdXQudGFyZ2V0OwogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb3Vwb25JbnB1dDogaW5wdXRIVE1MLnZhbHVlIH0pOwogICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlUHJvbW9GZXRjaChpbnB1dEhUTUwudmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb3Vwb25JbnB1dDogaW5wdXQgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVQcm9tb0ZldGNoKGlucHV0KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ291cG9uSW5wdXRTaG93Q2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd0NvdXBvbkZpZWxkOiB0cnVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU3VibWl0ID0gZnVuY3Rpb24gKHRva2VuKSB7CiAgICAgICAgICAgIHZhciBjeWNsZSA9IF90aGlzLnN0YXRlLmJpbGxpbmdDeWNsZTsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBsb2FkaW5nUGF5bWVudDogdHJ1ZSB9KTsKICAgICAgICAgICAgbG9nQW1wbGl0dWRlRXZlbnQoQW1wbGl0dWRlRXZlbnRzLlN1YnNjcmliZSk7CiAgICAgICAgICAgIGxvZ0FtcGxpdHVkZUV2ZW50KEFtcGxpdHVkZUV2ZW50cy5QbGFuU2VsZWN0ZWQsIHsKICAgICAgICAgICAgICAgIGRldGFpbHM6IHsKICAgICAgICAgICAgICAgICAgICBwbGFuOiBfdGhpcy5zdGF0ZS50aWVyLAogICAgICAgICAgICAgICAgICAgIGNhcmQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgY3ljbGU6IGN5Y2xlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF90aGlzLnByb3BzLmNyZWF0ZUJpbGxpbmcoewogICAgICAgICAgICAgICAgYmlsbGluZ0N5Y2xlOiBjeWNsZSwKICAgICAgICAgICAgICAgIHRpZXI6IF90aGlzLnN0YXRlLnRpZXIsCiAgICAgICAgICAgICAgICBjb3Vwb246IF90aGlzLnByb3BzLnVwZ3JhZGVDb3Vwb24gIT09ICcnICYmCiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMudXBncmFkZUNvdXBvbi50b1VwcGVyQ2FzZSgpIHx8IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICAgICAgICAgIG5hdmlnYXRlVG86ICcvbG9naW4vdXNlclByb2ZpbGUnLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvbnRpbnVlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2E7CiAgICAgICAgICAgIC8vIG5vIHBsYW4gd2lsbCBiZSBzZWxlY3RlZCB3aGVuZXZlciB0aGlzIG1ldGhvZCBpcyBjYWxsZWQKICAgICAgICAgICAgLy8gZWl0aGVyIGJlY2F1c2UgdGhlIHVzZXIgaXMgbm90IGluIHRoZSBleHBlcmltZW50CiAgICAgICAgICAgIC8vIG9yIGJlY2F1c2UgdGhlIHVzZXIgZGlkIG5vdCBzZWxlY3QgYSBwbGFuIGFuZCBjbGlja2VkIGNvbnRpbnVlCiAgICAgICAgICAgIGxvZ0FtcGxpdHVkZUV2ZW50KEFtcGxpdHVkZUV2ZW50cy5VbmxlYXNoRXhwZXJpbWVudCwgewogICAgICAgICAgICAgICAgZGV0YWlsczogKF9hID0ge30sCiAgICAgICAgICAgICAgICAgICAgX2FbJzAxIFNlbGVjdCBQbGFuJ10gPSBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBfYSksCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvbG9naW4vdXNlclByb2ZpbGUnKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmdldEF2YWlsYWJsZVBsYW5zID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gQklMTElOR19QTEFOUwogICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGxhbikgeyByZXR1cm4gIXBsYW4uZGVwcmVjYXRlZAogICAgICAgICAgICAgICAgJiYgcGxhbi50aWVyICE9PSBCaWxsaW5nVGllci5FbnRlcnByaXNlOyB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmdldFBsYW5zRmVhdHVyZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBsYW5zID0gX3RoaXMuZ2V0QXZhaWxhYmxlUGxhbnMoKTsKICAgICAgICAgICAgcmV0dXJuIHBsYW5zLmZpbmQoZnVuY3Rpb24gKHBsYW4pIHsgcmV0dXJuIHBsYW4udGllciA9PT0gX3RoaXMuc3RhdGUudGllcjsgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5nZXRQbGFuQ29zdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBsYW4gPSBfdGhpcy5nZXRQbGFuc0ZlYXR1cmUoKTsKICAgICAgICAgICAgdmFyIGNvc3QgPSB7CiAgICAgICAgICAgICAgICB0ZXh0OiAnJywKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAocGxhbikgewogICAgICAgICAgICAgICAgY29zdC50ZXh0ID0gX3RoaXMuc3RhdGUuYmlsbGluZ0N5Y2xlID09PSBCaWxsaW5nQ3ljbGUuTW9udGhseQogICAgICAgICAgICAgICAgICAgID8gZm9ybWF0Q3VycmVuY3lDZW50cyhwbGFuLm1vbnRobHlDb3N0KQogICAgICAgICAgICAgICAgICAgIDogZm9ybWF0Q3VycmVuY3lDZW50cyhwbGFuLmFubnVhbENvc3QpOwogICAgICAgICAgICAgICAgY29zdC52YWx1ZSA9IF90aGlzLnN0YXRlLmJpbGxpbmdDeWNsZSA9PT0gQmlsbGluZ0N5Y2xlLk1vbnRobHkKICAgICAgICAgICAgICAgICAgICA/IHBsYW4ubW9udGhseUNvc3QKICAgICAgICAgICAgICAgICAgICA6IHBsYW4uYW5udWFsQ29zdDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gY29zdDsKICAgICAgICB9OwogICAgICAgIF90aGlzLmdldFBsYW5Db3N0RGlzY291bnRlZElmQW55ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgY29zdCA9IF90aGlzLmdldFBsYW5Db3N0KCkudmFsdWU7CiAgICAgICAgICAgIHZhciBkaXNjb3VudCA9IF90aGlzLnByb3BzLnVwZ3JhZGVDb3Vwb25QZXJjZW50OwogICAgICAgICAgICB2YXIgb2xkQ29zdCA9ICcnOwogICAgICAgICAgICBpZiAoZGlzY291bnQpIHsKICAgICAgICAgICAgICAgIG9sZENvc3QgPSBmb3JtYXRDdXJyZW5jeUNlbnRzKGNvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGRpc2NvdW50IGlzIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwIGFuZCBjb3VsZCBiZSB1bmRlZmluZWQKICAgICAgICAgICAgdmFyIG5ld0Nvc3QgPSBmb3JtYXRDdXJyZW5jeUNlbnRzKGNvc3QgLSAoY29zdCAqIChkaXNjb3VudCB8fCAwKSAvIDEwMCkpOwogICAgICAgICAgICAvLyByZXR1cm4gYSBzdHJpbmcgd2l0aCB0aGUgb2xkIGNvc3QgY3Jvc3NlZCBvdXQKICAgICAgICAgICAgLy8gYW5kIHRoZSBuZXcgY29zdCBuZXh0IHRvIGl0CiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsCiAgICAgICAgICAgICAgICBvbGRDb3N0ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogIm9sZC1jb3N0IiB9LAogICAgICAgICAgICAgICAgICAgIG9sZENvc3QsCiAgICAgICAgICAgICAgICAgICAgIiAiKSwKICAgICAgICAgICAgICAgIG5ld0Nvc3QpKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmdldFBsYW5zTGFiZWxzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0QXZhaWxhYmxlUGxhbnMoKQogICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocGxhbikgeyByZXR1cm4gcGxhbi5hY2NvdW50Q2hvb3NlICYmIHBsYW4uYWNjb3VudENob29zZS50aXRsZSB8fCAnJzsgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgdGllcjogQmlsbGluZ1RpZXIuVGVhbSwKICAgICAgICAgICAgYmlsbGluZ0N5Y2xlOiBCaWxsaW5nQ3ljbGUuQW5udWFsLAogICAgICAgICAgICBzaG93Q291cG9uRmllbGQ6IGZhbHNlLAogICAgICAgICAgICBjb3Vwb25JbnB1dDogJycsCiAgICAgICAgICAgIHRpZXJUZXh0OiAoKF9hID0gQklMTElOR19QTEFOUy5maWx0ZXIoZnVuY3Rpb24gKHBsYW4pIHsgcmV0dXJuIHBsYW4udGllciA9PT0gQmlsbGluZ1RpZXIuVGVhbTsgfSlbMF0uYWNjb3VudENob29zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRpdGxlKSB8fCAnJywKICAgICAgICAgICAgbG9hZGluZ1BheW1lbnQ6IGZhbHNlLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgQ2hvb3NlUGxhbi5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSwgX2I7CiAgICAgICAgdmFyIG1lID0gKHRoaXMucHJvcHMgfHwge30pLm1lOwogICAgICAgIGlmIChtZQogICAgICAgICAgICAmJiBtZS5leHBlcmltZW50cwogICAgICAgICAgICAmJiAhKChfYSA9IG1lLmV4cGVyaW1lbnRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJldmlld19wbGFuc19vbl9zaWdudXApCiAgICAgICAgICAgICYmICgoX2IgPSBtZS5leHBlcmltZW50cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnN0YXR1cykgIT09IFJlc291cmNlU3RhdHVzLkxvYWRpbmcpIHsKICAgICAgICAgICAgLy8gcmVkaXJlY3QgdGhpcyB1c2VyIHRvIHRoZSBvbGQgc2lnbnVwIGZsb3cKICAgICAgICAgICAgLy8gY29uc2lkZXIgaWYgdGhlIHVzZXIgY29tZXMgZnJvbSB0aGUgY2hvb3NlUGFzc3dvcmQKICAgICAgICAgICAgLy8gb3IgZGlyZWN0bHkgZnJvbSB0aGUgY29ubmVjdFByb3ZpZGVyIHJlZGlyZWN0aW9uCiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29udGludWUoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucHJvcHMuZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmdQYXltZW50OiBmYWxzZSB9KTsKICAgICAgICB9CiAgICB9OwogICAgQ2hvb3NlUGxhbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDsKICAgICAgICB2YXIgX2UgPSB0aGlzLnByb3BzLCB1cGdyYWRlQ291cG9uID0gX2UudXBncmFkZUNvdXBvbiwgdXBncmFkZUNvdXBvblBlcmNlbnQgPSBfZS51cGdyYWRlQ291cG9uUGVyY2VudCwgaXNMb2FkaW5nQ291cG9uID0gX2UuaXNMb2FkaW5nQ291cG9uLCBiaWxsaW5nTG9hZGluZyA9IF9lLmJpbGxpbmdMb2FkaW5nLCBtZSA9IF9lLm1lLCBlcnJvciA9IF9lLmVycm9yLCBhY2NvdW50cyA9IF9lLmFjY291bnRzOwogICAgICAgIHZhciBfZiA9IHRoaXMuc3RhdGUsIHRpZXIgPSBfZi50aWVyLCB0aWVyVGV4dCA9IF9mLnRpZXJUZXh0LCBiaWxsaW5nQ3ljbGUgPSBfZi5iaWxsaW5nQ3ljbGUsIHNob3dDb3Vwb25GaWVsZCA9IF9mLnNob3dDb3Vwb25GaWVsZCwgbG9hZGluZ1BheW1lbnQgPSBfZi5sb2FkaW5nUGF5bWVudDsKICAgICAgICBpZiAoIW1lCiAgICAgICAgICAgIHx8ICEobWUgPT09IG51bGwgfHwgbWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lLmV4cGVyaW1lbnRzKQogICAgICAgICAgICB8fCAoKF9hID0gbWUuZXhwZXJpbWVudHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGF0dXMpID09PSBSZXNvdXJjZVN0YXR1cy5Mb2FkaW5nCiAgICAgICAgICAgIHx8ICFhY2NvdW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGVyLCBudWxsKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJpbGxpbmdEYXRhUHJvdmlkZXIsIG51bGwsCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY2hvb3NlLXBsYW4iIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRpdGxlIiB9LCAiU2VsZWN0IGEgcGxhbiB0byB0cnkgb3V0IFBvbHltYWlsIiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInBsYW4iIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93biwgeyBjbGFzc05hbWU6ICJwbGFuLWRyb3Bkb3duIiwgdmFsdWU6IHRpZXJUZXh0LCBvblNlbGVjdDogdGhpcy5oYW5kbGVUaWVyQ2hhbmdlLCB2YWx1ZXM6IHRoaXMuZ2V0UGxhbnNMYWJlbHMoKSB9KSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRldGFpbHMiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInVsIiwgeyBjbGFzc05hbWU6ICJwbGFuLWZlYXR1cmVzIiB9LCAoX2QgPSAoX2MgPSAoX2IgPSB0aGlzLmdldFBsYW5zRmVhdHVyZSgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWNjb3VudENob29zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmZlYXR1cmVzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubWFwKGZ1bmN0aW9uIChmZWF0dXJlLCBpKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgibGkiLCB7IGNsYXNzTmFtZTogInRleHQiLCBrZXk6IGkgfSwgZmVhdHVyZSkpOyB9KSkpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicHJpY2UiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicHJpY2UtdGV4dCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGxhbkNvc3REaXNjb3VudGVkSWZBbnkoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiL21vIiksICIgKGJpbGxlZCAiICsgKGJpbGxpbmdDeWNsZSA9PT0gQmlsbGluZ0N5Y2xlLk1vbnRobHkgPyAnbW9udGhseScgOiAnYW5udWFsbHknKSArICIpICIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3IgIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgb25DbGljazogdGhpcy5oYW5kbGVCaWxsaW5nQ2hhbmdlLCBjbGFzc05hbWU6ICJzd2l0Y2giIH0sICJzd2l0Y2ggdG8gIiArIChiaWxsaW5nQ3ljbGUgPT09IEJpbGxpbmdDeWNsZS5Nb250aGx5ID8gJ2FubnVhbCcgOiAnbW9udGhseScpKSkpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGl2aWRlciIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJiIiwgbnVsbCwgIkFkZCBhIGNhcmQgKG9wdGlvbmFsKSIpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29zdC1vdmVydmlldyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRvZ2dsZXIiIH0sICFzaG93Q291cG9uRmllbGQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgb25DbGljazogdGhpcy5oYW5kbGVDb3Vwb25JbnB1dFNob3dDbGljaywgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdjb3Vwb24tdG9nZ2xlcicsIHsgYWN0aXZlOiBzaG93Q291cG9uRmllbGQgfSkgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYiIsIG51bGwsICJBZGQgcHJvbW8gY29kZSAiKSkpKSwKICAgICAgICAgICAgICAgICAgICBzaG93Q291cG9uRmllbGQgJiYKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCaWxsaW5nUGxhbkhlYWRlciwgeyB0aWVyOiB0aWVyLCBjeWNsZTogYmlsbGluZ0N5Y2xlLCBtb250aGx5Q29zdDogdGhpcy5nZXRQbGFuQ29zdCgpLnZhbHVlLCBzZWF0czogMSwgcHJvbW9Db2RlOiB1cGdyYWRlQ291cG9uLCBwcm9tb0NvZGVQZXJjZW50OiB1cGdyYWRlQ291cG9uUGVyY2VudCwgY291cG9uRWRpdGFibGU6IHRydWUsIG9uQ291cG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNvdXBvbkNoYW5nZSwgb25Db3Vwb25SZW1vdmU6IHRoaXMuaGFuZGxlQ291cG9uUmVtb3ZlLCBoaWRlUGxhbkRhdGE6IHRydWUsIGlzTG9hZGluZ0NvdXBvbjogaXNMb2FkaW5nQ291cG9uLCBpc01vYmlsZTogZmFsc2UgfSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzdHJpcGUtc2VjdGlvbiIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBheW1lbnRGb3JtLCB7IG9uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdCwgYnV0dG9uTmFtZTogIkNvbnRpbnVlIiwgbG9hZGluZzogbG9hZGluZ1BheW1lbnQgfHwgYmlsbGluZ0xvYWRpbmcsIGVycm9yOiBlcnJvciwgb25Db250aW51ZTogdGhpcy5oYW5kbGVDb250aW51ZSB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRldGFpbHMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0IiB9LCAiWW91ciBjcmVkaXQgY2FyZCB3aWxsIG5vdCBiZSBjaGFyZ2VkIHVudGlsIHRoZSBlbmQgb2YgeW91ciA3IGRheSBmcmVlIHRyaWFsIikpKSkpOwogICAgfTsKICAgIHJldHVybiBDaG9vc2VQbGFuOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQ2hvb3NlUGxhbjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/ChoosePlan/ChoosePlan.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/ChoosePlan/ChoosePlan.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { ChangeEvent, DetailedHTMLProps, ButtonHTMLAttributes, MouseEvent } from 'react';\nimport classnames from 'classnames';\n\nimport {\n  BILLING_PLANS,\n  BillingCouponKey,\n  BillingCycle,\n  BillingTier,\n} from '@src/types/billing';\nimport { Account, Me, ResourceStatus } from '@src/types';\nimport { BillingCreateBody } from '@src/api/billing';\nimport { debounce, formatCurrencyCents } from '@src/lib/utils';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\n\nimport './ChoosePlan.scss';\n\nimport Dropdown from '@src/components/Form/Dropdown';\nimport PaymentForm from '@src/routes/Settings/routes/Billing/components/PaymentForm';\nimport BillingDataProvider from\n'@src/routes/Settings/routes/Billing/components/BillingDataProvider';\nimport BillingPlanHeader from '@src/routes/Settings/routes/Billing/components/BillingPlanHeader';\nimport browserHistory from '@src/lib/browserHistory';\nimport Loader from '@src/components/Loader/Loader';\n\nexport interface StateProps {\n  upgradeCoupon: string;\n  upgradeCouponPercent?: number;\n  isLoadingCoupon: boolean;\n  billingLoading: boolean;\n  me?: Me;\n  accounts: Account[];\n  error?: Error;\n}\n\nexport interface DispatchProps {\n  createBilling(body: BillingCreateBody): void;\n  setUpgradeCoupon(coupon: BillingCouponKey): void;\n  unsetUpgradeCoupon(): void;\n}\n\ninterface State {\n  tier: BillingTier;\n  tierText: string;\n  billingCycle: BillingCycle;\n  showCouponField: boolean;\n  couponInput: string;\n  loadingPayment: boolean;\n}\n\nclass ChoosePlan extends React.PureComponent<\n  StateProps & DispatchProps, State\n> {\n  constructor(props: StateProps & DispatchProps) {\n    super(props);\n    this.state = {\n      tier: BillingTier.Team,\n      billingCycle: BillingCycle.Annual,\n      showCouponField: false,\n      couponInput: '',\n      tierText:\n        BILLING_PLANS.filter(plan => plan.tier === BillingTier.Team)[0].accountChoose?.title || '',\n      loadingPayment: false,\n    };\n  }\n\n  componentDidUpdate() {\n    const { me } = this.props || {};\n    if (\n      me\n      && me.experiments\n      && !me.experiments?.preview_plans_on_signup\n      && me.experiments?.status !== ResourceStatus.Loading\n      ) {\n      // redirect this user to the old signup flow\n      // consider if the user comes from the choosePassword\n      // or directly from the connectProvider redirection\n      this.handleContinue();\n    }\n\n    if (this.props.error) {\n      this.setState({ loadingPayment: false });\n    }\n  }\n\n  // tier change is a dropdown\n  handleTierChange = (value: string) => {\n    const tier = this.getAvailablePlans()\n      .filter(plan => plan.accountChoose?.title.includes(value))[0].tier;\n\n    this.setState({ tier, tierText: value });\n  }\n\n  handleBillingChange = (e: MouseEvent<HTMLElement>) => {\n    this.setState({ billingCycle:\n      this.state.billingCycle === BillingCycle.Monthly ? BillingCycle.Annual : BillingCycle.Monthly,\n    });\n  }\n\n  handleBillingCycleChange = (value: string) => {\n    if (this.state.billingCycle === BillingCycle.Monthly) {\n      this.setState({ billingCycle: BillingCycle.Annual });\n    } else {\n      this.setState({ billingCycle: BillingCycle.Monthly });\n    }\n  }\n\n  handleCouponChange = (\n    coupon: string|DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>,\n    ) => {\n    if (coupon && typeof coupon === 'string') {\n      this.props.setUpgradeCoupon({\n        coupon,\n        billingCycle: this.state.billingCycle,\n        tier: this.state.tier,\n      });\n    } else {\n      this.props.unsetUpgradeCoupon();\n    }\n  }\n\n  handleCouponRemove = () => {\n    this.props.unsetUpgradeCoupon();\n  }\n\n  handlePromoFetch = debounce((coupon: string) => this.handleCouponChange(coupon), 1500);\n\n  handleCouponInputChange = (input: string | ChangeEvent<HTMLInputElement>) => {\n    if (input && typeof input !== 'string') {\n      const inputHTML = input.target as HTMLInputElement;\n      this.setState({ couponInput: inputHTML.value });\n      this.handlePromoFetch(inputHTML.value);\n    } else {\n      this.setState({ couponInput: input });\n      this.handlePromoFetch(input);\n    }\n  }\n  handleCouponInputShowClick = () => {\n    this.setState({ showCouponField: true });\n  }\n\n  handleSubmit = (token: string) => {\n    const cycle = this.state.billingCycle;\n\n    this.setState({ loadingPayment: true });\n\n    logAmplitudeEvent(AmplitudeEvents.Subscribe);\n    logAmplitudeEvent(AmplitudeEvents.PlanSelected, {\n      details: {\n        plan: this.state.tier,\n        card: true,\n        cycle,\n      },\n    });\n\n    this.props.createBilling({\n      billingCycle: cycle,\n      tier: this.state.tier,\n      coupon:\n        this.props.upgradeCoupon !== '' &&\n        this.props.upgradeCoupon.toUpperCase() || undefined,\n      token,\n      navigateTo: '/login/userProfile',\n    });\n  }\n\n  handleContinue = () => {\n    // no plan will be selected whenever this method is called\n    // either because the user is not in the experiment\n    // or because the user did not select a plan and clicked continue\n    logAmplitudeEvent(AmplitudeEvents.UnleashExperiment, {\n      details: {\n        ['01 Select Plan']: false,\n      },\n    });\n\n    browserHistory.push('/login/userProfile');\n  }\n\n  getAvailablePlans = () => {\n    return BILLING_PLANS\n      .filter(\n        plan => !plan.deprecated\n        && plan.tier !== BillingTier.Enterprise,\n      );\n  }\n\n  getPlansFeature = () => {\n    const plans = this.getAvailablePlans();\n\n    return plans.find(\n      plan => plan.tier === this.state.tier,\n    );\n  }\n\n  getPlanCost = () => {\n    const plan = this.getPlansFeature();\n    const cost = {\n      text: '',\n      value: 0,\n    };\n    if (plan) {\n      cost.text = this.state.billingCycle === BillingCycle.Monthly\n        ? formatCurrencyCents(plan.monthlyCost)\n        : formatCurrencyCents(plan.annualCost);\n      cost.value = this.state.billingCycle === BillingCycle.Monthly\n        ? plan.monthlyCost\n        : plan.annualCost;\n    }\n    return cost;\n  }\n\n  getPlanCostDiscountedIfAny = () => {\n    const cost = this.getPlanCost().value;\n\n    const discount = this.props.upgradeCouponPercent;\n    let oldCost = '';\n    if (discount) {\n      oldCost = formatCurrencyCents(cost);\n    }\n    // discount is a number between 0 and 100 and could be undefined\n    const newCost = formatCurrencyCents(cost - (cost * (discount || 0) / 100));\n\n    // return a string with the old cost crossed out\n    // and the new cost next to it\n    return (\n      <span>\n        {oldCost && <span className=\"old-cost\">{oldCost} </span>}\n        {newCost}\n      </span>\n    );\n  }\n\n  getPlansLabels = () => {\n    return this.getAvailablePlans()\n    .map(plan => plan.accountChoose && plan.accountChoose.title || '');\n  }\n\n  render() {\n    const {\n      upgradeCoupon,\n      upgradeCouponPercent,\n      isLoadingCoupon,\n      billingLoading,\n      me,\n      error,\n      accounts,\n    } = this.props;\n\n    const {\n      tier,\n      tierText,\n      billingCycle,\n      showCouponField,\n      loadingPayment,\n    } = this.state;\n\n    if (\n        !me\n        || !me?.experiments\n        || me.experiments?.status === ResourceStatus.Loading\n        || !accounts.length\n      ) {\n      return <Loader />;\n    }\n\n    return (\n      <BillingDataProvider>\n        <div className=\"choose-plan\">\n          <div className=\"title\">\n            Select a plan to try out Polymail\n          </div>\n          <div className=\"plan\">\n            <Dropdown\n              className=\"plan-dropdown\"\n              value={tierText}\n              onSelect={this.handleTierChange}\n              values={this.getPlansLabels()}\n              />\n            <div className=\"details\">\n            {/* a list of the details */}\n              <ul className=\"plan-features\">\n                {this.getPlansFeature()?.accountChoose?.features?.map((feature, i) => (\n                  <li className=\"text\" key={i}>\n                    {feature}\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"price\">\n              <div className=\"price-text\">\n                <b>\n                  {this.getPlanCostDiscountedIfAny()}/mo\n                </b>\n                {` (billed ${billingCycle === BillingCycle.Monthly ? 'monthly' : 'annually'}) `}\n                or <button onClick={this.handleBillingChange} className=\"switch\">\n                  {`switch to ${billingCycle === BillingCycle.Monthly ? 'annual' : 'monthly'}`}\n                  </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"divider\">\n            <b>Add a card (optional)</b>\n          </div>\n          <div className=\"cost-overview\">\n            <div className=\"toggler\">\n              {!showCouponField && (\n                <button\n                  onClick={this.handleCouponInputShowClick}\n                  className={classnames('coupon-toggler', { active: showCouponField })}\n                  >\n                  <b>Add promo code </b>\n                </button>\n              )}\n            </div>\n            {showCouponField &&\n              <BillingPlanHeader\n                tier={tier}\n                cycle={billingCycle}\n                monthlyCost={this.getPlanCost().value}\n                seats={1} // just for mockup\n                promoCode={upgradeCoupon}\n                promoCodePercent={upgradeCouponPercent}\n                couponEditable={true}\n                onCouponChange={this.handleCouponChange}\n                onCouponRemove={this.handleCouponRemove}\n                hidePlanData={true}\n                isLoadingCoupon={isLoadingCoupon}\n                isMobile={false}\n              />\n            }\n          </div>\n          <div className=\"stripe-section\">\n            <PaymentForm\n              onSubmit={this.handleSubmit}\n              buttonName=\"Continue\"\n              loading={loadingPayment || billingLoading}\n              error={error}\n              onContinue={this.handleContinue}\n              />\n          </div>\n          <div className=\"details\">\n            <div className=\"text\">\n              Your credit card will not be charged until the end of your 7 day free trial\n            </div>\n          </div>\n        </div>\n      </BillingDataProvider>\n    );\n  }\n}\n\nexport default ChoosePlan;\n"]}]}