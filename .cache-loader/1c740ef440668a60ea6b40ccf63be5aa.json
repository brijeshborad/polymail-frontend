{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/index.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/index.tsx","mtime":1675280254042},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBPbmJvYXJkaW5nVHlwZSwgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IHsgZHJhZnRVcGRhdGUsIGRyYWZ0U2VuZCwgZHJhZnREZWxldGUsIGRyYWZ0QXR0YWNobWVudEFkZCwgZHJhZnRBdHRhY2htZW50UmVtb3ZlLCBzZWxlY3RBdHRhY2htZW50TWV0YXNGb3JSZXNvdXJjZSwgZHJhZnRDcmVhdGVDb25maWd1cmF0aW9uLCBkcmFmdENvbnRhY3RHcm91cEFkZCwgfSBmcm9tICdAc3JjL2R1Y2tzL2RyYWZ0cyc7CmltcG9ydCB7IGNvbW1hbmRDb250cm9sU2hvdyB9IGZyb20gJ0BzcmMvZHVja3MvY29tbWFuZENvbnRyb2wnOwppbXBvcnQgQ29tcG9zZXIgZnJvbSAnLi9Db21wb3Nlcic7CmltcG9ydCB7IHNlbGVjdENvbnRhY3QgfSBmcm9tICdAc3JjL2R1Y2tzL2NvbnRhY3RzJzsKaW1wb3J0IHsgaG90a2V5VXBkYXRlIH0gZnJvbSAnQHNyYy9kdWNrcy9ob3RrZXlzJzsKaW1wb3J0IHsgc2VsZWN0Q2FsZW5kYXJTY2hlZHVsaW5nVXJsIH0gZnJvbSAnQHNyYy9kdWNrcy9zY2hlZHVsaW5nJzsKaW1wb3J0IHsgdXBkYXRlRHJhZnQgfSBmcm9tICdAc3JjL2xpYi9kcmFmdCc7CmltcG9ydCB7IHRocmVhZENvbW1pdHNTdWJtaXQgfSBmcm9tICdAc3JjL2R1Y2tzL3RocmVhZHMnOwppbXBvcnQgeyB0b2FzdFNldCB9IGZyb20gJ0BzcmMvZHVja3MvdG9hc3RzJzsKaW1wb3J0IHsgY29tbWVudENyZWF0ZSB9IGZyb20gJ0BzcmMvZHVja3MvY29tbWVudHMnOwppbXBvcnQgeyBzaGFyZWRUaHJlYWRDcmVhdGUsIHNoYXJlZFRocmVhZEFjdGl2aXR5Q3JlYXRlIH0gZnJvbSAnQHNyYy9kdWNrcy9zaGFyZWRUaHJlYWRzJzsKaW1wb3J0IHsgb25ib2FyZGluZ1BhdGNoLCBzZWxlY3RSc2JPbmJvYXJkaW5nIH0gZnJvbSAnQHNyYy9kdWNrcy9tZSc7CmltcG9ydCB7IHNlbGVjdEFjY291bnQsIHNlbGVjdFBhcmVudEFjY291bnQgfSBmcm9tICdAc3JjL2R1Y2tzL2FjY291bnRzJzsKaW1wb3J0IHsgdGVtcGxhdGVDb252ZXJ0IH0gZnJvbSAnQHNyYy9kdWNrcy90ZW1wbGF0ZXMnOwp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gKHN0YXRlLCBvd25Qcm9wcykgewogICAgdmFyIF9hOwogICAgdmFyIGRyYWZ0ID0gb3duUHJvcHMuZHJhZnQ7CiAgICB2YXIgZHJhZnRBY2NvdW50ID0gZHJhZnQgJiYgZHJhZnQuYWNjb3VudCAmJiBzZWxlY3RBY2NvdW50KHN0YXRlLCBkcmFmdC5hY2NvdW50KTsKICAgIHZhciBkcmFmdFBhcmVudEFjY291bnQgPSBkcmFmdCAmJiBkcmFmdC5hY2NvdW50ICYmCiAgICAgICAgc2VsZWN0UGFyZW50QWNjb3VudChzdGF0ZSwgZHJhZnQuYWNjb3VudCk7CiAgICB2YXIgc2hhcmVkVGhyZWFkID0gc3RhdGUuc2VsZWN0ZWRTaGFyZWRUaHJlYWQ7CiAgICByZXR1cm4gewogICAgICAgIGF0dGFjaG1lbnRNZXRhczogb3duUHJvcHMuZHJhZnQgJiYKICAgICAgICAgICAgc2VsZWN0QXR0YWNobWVudE1ldGFzRm9yUmVzb3VyY2Uoc3RhdGUsIG93blByb3BzLmRyYWZ0LmlkKSB8fCBbXSwKICAgICAgICBjbG91ZEF0dGFjaG1lbnRzOiBzdGF0ZS5wcmVmZXJlbmNlcy5jbG91ZEF0dGFjaG1lbnRzICYmIHN0YXRlLmZlYXR1cmVzLmNsb3VkQXR0YWNobWVudHMsCiAgICAgICAgbm9CcmFuZGluZzogc3RhdGUuZmVhdHVyZXMubm9CcmFuZGluZywKICAgICAgICBnZXRDb250YWN0OiBmdW5jdGlvbiAoZW1haWwpIHsgcmV0dXJuIHNlbGVjdENvbnRhY3Qoc3RhdGUsIGVtYWlsKTsgfSwKICAgICAgICBmZWF0dXJlczogc3RhdGUuZmVhdHVyZXMsCiAgICAgICAgaG90a2V5QWN0aW9uczogc3RhdGUuaG90a2V5QWN0aW9ucywKICAgICAgICBzY2hlZHVsaW5nVXJsOiBzZWxlY3RDYWxlbmRhclNjaGVkdWxpbmdVcmwoc3RhdGUpLAogICAgICAgIGNvbW1hbmRDb250cm9sVHlwZTogc3RhdGUuY29tbWFuZENvbnRyb2xUeXBlLAogICAgICAgIHNob3dTZW5kT25ib2FyZGluZzogZmFsc2UsCiAgICAgICAgcHJlZmVyZW5jZXM6IHN0YXRlLnByZWZlcmVuY2VzLAogICAgICAgIHNlbGVjdGVkU2hhcmVkVGhyZWFkOiBzdGF0ZS5zZWxlY3RlZFNoYXJlZFRocmVhZCwKICAgICAgICBzaGFyZWRUaHJlYWREcmFmdDogc2hhcmVkVGhyZWFkICYmICgoX2EgPSBzdGF0ZS5zaGFyZWRUaHJlYWREcmFmdHNbc2hhcmVkVGhyZWFkXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSwKICAgICAgICBzaG93Q29tbWVudE9uYm9hcmRpbmc6IHNlbGVjdFJzYk9uYm9hcmRpbmcoc3RhdGUpID09PSBPbmJvYXJkaW5nVHlwZS5Db21tZW50LAogICAgICAgIGF1dG9mb2N1czogZHJhZnQgJiYgbW9tZW50KGRyYWZ0LmNyZWF0ZWQpLmlzU2FtZShkcmFmdC51cGRhdGVkKSB8fCBmYWxzZSwKICAgICAgICByc2JPbmJvYXJkaW5nOiBzZWxlY3RSc2JPbmJvYXJkaW5nKHN0YXRlKSwKICAgICAgICBkcmFmdEFjY291bnQ6IGRyYWZ0QWNjb3VudCwKICAgICAgICBkcmFmdFBhcmVudEFjY291bnQ6IGRyYWZ0UGFyZW50QWNjb3VudCwKICAgIH07Cn07CnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiAoZGlzcGF0Y2gpIHsgcmV0dXJuICh7CiAgICB1cGRhdGU6IGZ1bmN0aW9uIChkcmFmdCkgeyByZXR1cm4gZGlzcGF0Y2goZHJhZnRVcGRhdGUodXBkYXRlRHJhZnQoZHJhZnQpKSk7IH0sCiAgICBzZW5kOiBmdW5jdGlvbiAoZHJhZnQpIHsgcmV0dXJuIGRpc3BhdGNoKGRyYWZ0U2VuZChkcmFmdCkpOyB9LAogICAgdXBsb2FkOiBmdW5jdGlvbiAoYXR0YWNobWVudCkgeyByZXR1cm4gZGlzcGF0Y2goZHJhZnRBdHRhY2htZW50QWRkKGF0dGFjaG1lbnQpKTsgfSwKICAgIGRlbGV0ZTogZnVuY3Rpb24gKGRyYWZ0KSB7IHJldHVybiBkaXNwYXRjaChkcmFmdERlbGV0ZShkcmFmdC5pZCkpOyB9LAogICAgcmVtb3ZlQXR0YWNobWVudDogZnVuY3Rpb24gKGF0dGFjaG1lbnQpIHsgcmV0dXJuIGRpc3BhdGNoKGRyYWZ0QXR0YWNobWVudFJlbW92ZShhdHRhY2htZW50KSk7IH0sCiAgICBjcmVhdGVEcmFmdFdpdGhDb25maWd1cmF0aW9uOiBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikgeyByZXR1cm4gZGlzcGF0Y2goZHJhZnRDcmVhdGVDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pKTsgfSwKICAgIGNvbW1hbmRDb250cm9sU2hvdzogZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIGRpc3BhdGNoKGNvbW1hbmRDb250cm9sU2hvdyh0eXBlKSk7IH0sCiAgICBkaXNwYXRjaEFjdGlvbjogZnVuY3Rpb24gKGFjdGlvbikgeyByZXR1cm4gZGlzcGF0Y2goYWN0aW9uKTsgfSwKICAgIGFkZENvbnRhY3RHcm91cDogZnVuY3Rpb24gKGRyYWZ0LCBsaXN0LCBjb250YWN0R3JvdXApIHsKICAgICAgICByZXR1cm4gZGlzcGF0Y2goZHJhZnRDb250YWN0R3JvdXBBZGQoeyBkcmFmdDogZHJhZnQsIGxpc3Q6IGxpc3QsIGNvbnRhY3RHcm91cDogY29udGFjdEdyb3VwIH0pKTsKICAgIH0sCiAgICB1cGRhdGVIb3RrZXk6IGZ1bmN0aW9uIChob3RrZXlBY3Rpb24pIHsgcmV0dXJuIGRpc3BhdGNoKGhvdGtleVVwZGF0ZShob3RrZXlBY3Rpb24pKTsgfSwKICAgIHNldFRvYXN0OiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGRpc3BhdGNoKHRvYXN0U2V0KGVycm9yKSk7IH0sCiAgICBzdWJtaXRDb21taXQ6IGZ1bmN0aW9uIChtZXRhKSB7IHJldHVybiBkaXNwYXRjaCh0aHJlYWRDb21taXRzU3VibWl0KG1ldGEpKTsgfSwKICAgIGNyZWF0ZUNvbW1lbnQ6IGZ1bmN0aW9uIChtZXRhKSB7IHJldHVybiBkaXNwYXRjaChjb21tZW50Q3JlYXRlKG1ldGEpKTsgfSwKICAgIGNyZWF0ZVNoYXJlZFRocmVhZDogZnVuY3Rpb24gKHRocmVhZCkgeyByZXR1cm4gZGlzcGF0Y2goc2hhcmVkVGhyZWFkQ3JlYXRlKHRocmVhZCkpOyB9LAogICAgdXBkYXRlT25ib2FyZGluZzogZnVuY3Rpb24gKG9uYm9hcmRpbmcpIHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKG9uYm9hcmRpbmdQYXRjaCh7CiAgICAgICAgICAgIHNraXBwZWQ6IGZhbHNlLAogICAgICAgICAgICB0eXBlOiAoX2EgPSB7fSwgX2Fbb25ib2FyZGluZ10gPSB0cnVlLCBfYSkKICAgICAgICB9KSk7CiAgICB9LAogICAgY3JlYXRlU2hhcmVkVGhyZWFkQWN0aXZpdHk6IGZ1bmN0aW9uIChtZXRhKSB7IHJldHVybiBkaXNwYXRjaChzaGFyZWRUaHJlYWRBY3Rpdml0eUNyZWF0ZShtZXRhKSk7IH0sCiAgICBzYXZlQXNUZW1wbGF0ZTogZnVuY3Rpb24gKG1ldGEpIHsgcmV0dXJuIGRpc3BhdGNoKHRlbXBsYXRlQ29udmVydChtZXRhKSk7IH0sCn0pOyB9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDb21wb3Nlcik7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/index.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport {\n  StoreState,\n  CommandControlType,\n  Action,\n  ThreadCommitMeta,\n  OnboardingType,\n} from '@src/types';\nimport {\n  draftUpdate,\n  draftSend,\n  draftDelete,\n  draftAttachmentAdd,\n  draftAttachmentRemove,\n  selectAttachmentMetasForResource,\n  draftCreateConfiguration,\n  draftContactGroupAdd,\n} from '@src/ducks/drafts';\nimport { commandControlShow } from '@src/ducks/commandControl';\n\nimport Composer, { Props, DispatchProps, StateProps } from './Composer';\nimport { selectContact } from '@src/ducks/contacts';\nimport { hotkeyUpdate } from '@src/ducks/hotkeys';\nimport { selectCalendarSchedulingUrl } from '@src/ducks/scheduling';\nimport { updateDraft } from '@src/lib/draft';\nimport { threadCommitsSubmit } from '@src/ducks/threads';\nimport { toastSet } from '@src/ducks/toasts';\nimport { CommentCreateMeta, commentCreate } from '@src/ducks/comments';\nimport { sharedThreadCreate, sharedThreadActivityCreate } from '@src/ducks/sharedThreads';\nimport { onboardingPatch, selectRsbOnboarding } from '@src/ducks/me';\nimport { selectAccount, selectParentAccount } from '@src/ducks/accounts';\nimport { templateConvert } from '@src/ducks/templates';\n\nconst mapStateToProps = (state: StoreState, ownProps: Props): StateProps => {\n  const draft = ownProps.draft;\n  const draftAccount = draft && draft.account && selectAccount(state, draft.account);\n  const draftParentAccount = draft && draft.account &&\n    selectParentAccount(state, draft.account);\n\n  const sharedThread = state.selectedSharedThread;\n\n  return {\n    attachmentMetas: ownProps.draft &&\n      selectAttachmentMetasForResource(state, ownProps.draft.id) || [],\n    cloudAttachments: state.preferences.cloudAttachments && state.features.cloudAttachments,\n    noBranding: state.features.noBranding,\n    getContact: (email: string) => selectContact(state, email),\n    features: state.features,\n    hotkeyActions: state.hotkeyActions,\n    schedulingUrl: selectCalendarSchedulingUrl(state),\n    commandControlType: state.commandControlType,\n    showSendOnboarding: false,\n    preferences: state.preferences,\n    selectedSharedThread: state.selectedSharedThread,\n    sharedThreadDraft: sharedThread && state.sharedThreadDrafts[sharedThread]?.id,\n    showCommentOnboarding: selectRsbOnboarding(state) === OnboardingType.Comment,\n    autofocus: draft && moment(draft.created).isSame(draft.updated) || false,\n    rsbOnboarding: selectRsbOnboarding(state),\n    draftAccount,\n    draftParentAccount,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<StoreState>): DispatchProps => ({\n  update: draft => dispatch(draftUpdate(updateDraft(draft))),\n  send: draft => dispatch(draftSend(draft)),\n  upload: attachment => dispatch(draftAttachmentAdd(attachment)),\n  delete: draft => dispatch(draftDelete(draft.id)),\n  removeAttachment: attachment => dispatch(draftAttachmentRemove(attachment)),\n  createDraftWithConfiguration:\n    configuration => dispatch(draftCreateConfiguration(configuration)),\n  commandControlShow: (type: CommandControlType) => dispatch(commandControlShow(type)),\n  dispatchAction: (action: Action<any, any>) => dispatch(action),\n  addContactGroup: (draft, list, contactGroup) =>\n    dispatch(draftContactGroupAdd({ draft, list, contactGroup })),\n  updateHotkey: hotkeyAction => dispatch(hotkeyUpdate(hotkeyAction)),\n  setToast: error => dispatch(toastSet(error)),\n  submitCommit: (meta: ThreadCommitMeta) => dispatch(threadCommitsSubmit(meta)),\n  createComment: (meta: CommentCreateMeta) => dispatch(commentCreate(meta)),\n  createSharedThread: thread => dispatch(sharedThreadCreate(thread)),\n  updateOnboarding: onboarding => dispatch(onboardingPatch({\n    skipped: false,\n    type: { [onboarding] : true } },\n  )),\n  createSharedThreadActivity: meta => dispatch(sharedThreadActivityCreate(meta)),\n  saveAsTemplate: meta => dispatch(templateConvert(meta)),\n});\n\nexport default connect<StateProps, DispatchProps, Props>(\n  mapStateToProps, mapDispatchToProps,\n)(Composer);\n"]}]}