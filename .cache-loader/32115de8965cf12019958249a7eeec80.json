{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Banner/Banner.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Banner/Banner.tsx","mtime":1675280253983},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBwbGF0Zm9ybSBmcm9tICdwbGF0Zm9ybSc7CmltcG9ydCB7IEFjY291bnRUeXBlLCBCYW5uZXJUeXBlIH0gZnJvbSAnQHNyYy90eXBlcyc7CmltcG9ydCB7IFJpZ2h0U2lkZWJhclRhYiB9IGZyb20gJ0BzcmMvdHlwZXMvcmlnaHRTaWRlYmFyJzsKaW1wb3J0IERvd25sb2FkQ2hyb21lIGZyb20gJy4vRG93bmxvYWRDaHJvbWUvRG93bmxvYWRDaHJvbWUnOwppbXBvcnQgRGVmYXVsdE1haWxDbGllbnQgZnJvbSAnLi9EZWZhdWx0TWFpbENsaWVudC9EZWZhdWx0TWFpbENsaWVudCc7CmltcG9ydCBOb3RpZmljYXRpb25FbmFibGUgZnJvbSAnLi9Ob3RpZmljYXRpb25FbmFibGUvTm90aWZpY2F0aW9uRW5hYmxlJzsKaW1wb3J0IE5vdGlmaWNhdGlvbkVuYWJsZVdhcm5pbmcgZnJvbSAnLi9Ob3RpZmljYXRpb25FbmFibGVXYXJuaW5nL05vdGlmaWNhdGlvbkVuYWJsZVdhcm5pbmcnOwppbXBvcnQgQXBwbGVTaWxpY29uIGZyb20gJy4vQXBwbGVTaWxpY29uL0FwcGxlU2lsaWNvbic7CmltcG9ydCBZZWFySW5SZXZpZXcgZnJvbSAnLi9ZZWFySW5SZXZpZXcvWWVhckluUmV2aWV3JzsKaW1wb3J0IERpc2FibGVkIGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYW5uZXIvRGlzYWJsZWRVc2VyL0Rpc2FibGVkJzsKaW1wb3J0IFRyaWFsRXhwaXJpbmcgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Jhbm5lci9UcmlhbEV4cGlyaW5nL1RyaWFsRXhwaXJpbmcnOwppbXBvcnQgSW52YWxpZEFjY291bnQgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Jhbm5lci9JbnZhbGlkQWNjb3VudC9JbnZhbGlkQWNjb3VudCc7CmltcG9ydCBPZmZsaW5lIGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYW5uZXIvT2ZmbGluZS9PZmZsaW5lJzsKLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aAppbXBvcnQgVXBkYXRlQXZhaWxhYmxlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYW5uZXIvVXBkYXRlQXZhaWxhYmxlL1VwZGF0ZUF2YWlsYWJsZSc7CmltcG9ydCBSZWZlcnJhbFJlZGVtcHRpb24gZnJvbSAnQHNyYy9jb21wb25lbnRzL0Jhbm5lci9SZWZlcnJhbFJlZGVtcHRpb24vUmVmZXJyYWxSZWRlbXB0aW9uJzsKaW1wb3J0IFJlYXV0aGVudGljYXRlUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvUHJvdmlkZXJzL1JlYXV0aGVudGljYXRlUG9wb3Zlci9SZWF1dGhlbnRpY2F0ZVBvcG92ZXInOwppbXBvcnQgeyBpc0VsZWN0cm9uIH0gZnJvbSAnQHNyYy9saWIvZWxlY3Ryb24nOwppbXBvcnQgeyBBbXBsaXR1ZGVFdmVudHMsIGxvZ0FtcGxpdHVkZUV2ZW50IH0gZnJvbSAnQHNyYy9saWIvYW1wbGl0dWRlLWFuYWx5dGljcyc7CmltcG9ydCAnLi9CYW5uZXIuc2Nzcyc7CnZhciBCYW5uZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoQmFubmVyLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gQmFubmVyKHByb3BzKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuZ2V0QmFubmVyVG9TaG93ID0gZnVuY3Rpb24gKHByb3BzKSB7CiAgICAgICAgICAgIHZhciBfYTsKICAgICAgICAgICAgdmFyIHBlcm1pc3Npb25zID0gcHJvcHMucGVybWlzc2lvbnMsIGNsb3NlZEJhbm5lcnMgPSBwcm9wcy5jbG9zZWRCYW5uZXJzLCB1cGdyYWRlUHJvbXB0cyA9IHByb3BzLnVwZ3JhZGVQcm9tcHRzLCBpbnZhbGlkQWNjb3VudCA9IHByb3BzLmludmFsaWRBY2NvdW50LCBhcHBVcGRhdGVSZWFkeSA9IHByb3BzLmFwcFVwZGF0ZVJlYWR5LCB3ZWJhcHBVcGRhdGVSZWFkeSA9IHByb3BzLndlYmFwcFVwZGF0ZVJlYWR5LCBpc09ubGluZSA9IHByb3BzLmlzT25saW5lLCBpc0Rpc2FibGVkID0gcHJvcHMuaXNEaXNhYmxlZCwgaXNNb2JpbGUgPSBwcm9wcy5pc01vYmlsZSwgc2hvd1JlZmVycmFsUmVkZW1wdGlvbiA9IHByb3BzLnNob3dSZWZlcnJhbFJlZGVtcHRpb24sIHJzYk9uYm9hcmRpbmdDb21wbGV0ZSA9IHByb3BzLnJzYk9uYm9hcmRpbmdDb21wbGV0ZSwgcmlnaHRTaWRlYmFyVGFiID0gcHJvcHMucmlnaHRTaWRlYmFyVGFiOwogICAgICAgICAgICB2YXIgaXNDaHJvbWUgPSAocGxhdGZvcm0ubmFtZSB8fCAnJykuaW5kZXhPZignQ2hyb21lJykgPiAtMSB8fCBpc0VsZWN0cm9uOwogICAgICAgICAgICB2YXIgaXNEZWZhdWx0ID0gcHJvcHMuaXNEZWZhdWx0Q2xpZW50OwogICAgICAgICAgICBpZiAoKChfYSA9IHdpbmRvdy5QTUVsZWN0cm9uQnJpZGdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eucm9zZXR0YSkgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBCYW5uZXJUeXBlLkFwcGxlU2lsaWNvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBEb24ndCBzaG93IGJhbm5lcnMgb24gcG9wb3V0IHdpbmRvd3MgYW5kIGJpbGxpbmcgcGFnZXMKICAgICAgICAgICAgdmFyIHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lOwogICAgICAgICAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL3BvcG91dCcpCiAgICAgICAgICAgICAgICB8fCBwYXRobmFtZS5zdGFydHNXaXRoKCcvcmVjYXAnKQogICAgICAgICAgICAgICAgfHwgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL3NldHRpbmdzL2JpbGxpbmcnKQogICAgICAgICAgICAgICAgfHwgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL2xvZ2luL2Nob29zZVBsYW4nKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIEJhbm5lclR5cGUuTm9uZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBIYW5kbGUgc2hvd2luZyBiYW5uZXIgZm9yIHllYXJseSBzdW1tYXJ5IGlmIG5vdCBzZWVuIHlldAogICAgICAgICAgICAvLyBUT0RPKFNISU4pOiBUdXJuIG9uIGZvciBuZXh0IHllYXIncyB5ZWFyIGluIHJldmlldwogICAgICAgICAgICAvLyBpZiAoeWVhcmx5U3VtbWFyeSAmJiAheWVhcmx5U3VtbWFyeS5zZWVuICYmICFjbG9zZWRCYW5uZXJzW0Jhbm5lclR5cGUuWWVhckluUmV2aWV3XSkgewogICAgICAgICAgICAvLyAgIHJldHVybiBCYW5uZXJUeXBlLlllYXJJblJldmlldzsKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICBpZiAoaXNEZWZhdWx0KSB7CiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucy5tYWlsVG9Qcm90b2NvbCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFpc09ubGluZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIEJhbm5lclR5cGUuT2ZmbGluZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNEaXNhYmxlZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIEJhbm5lclR5cGUuRGlzYWJsZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGludmFsaWRBY2NvdW50ICYmIF90aGlzLnN0YXRlLnNob3dJbnZhbGlkQWNjb3VudCkgewogICAgICAgICAgICAgICAgcmV0dXJuIEJhbm5lclR5cGUuSW52YWxpZEFjY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGFwcFVwZGF0ZVJlYWR5IHx8IHdlYmFwcFVwZGF0ZVJlYWR5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gQmFubmVyVHlwZS5VcGRhdGVBdmFpbGFibGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFpc0Nocm9tZSAmJiAhaXNNb2JpbGUgJiYgIWNsb3NlZEJhbm5lcnNbQmFubmVyVHlwZS5Eb3dubG9hZENocm9tZV0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBCYW5uZXJUeXBlLkRvd25sb2FkQ2hyb21lOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc0Nocm9tZSAmJiBzaG93UmVmZXJyYWxSZWRlbXB0aW9uKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gQmFubmVyVHlwZS5SZWZlcnJhbFJlZGVtcHRpb247CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG9uYm9hcmRpbmdUYWJPcGVuID0gcmlnaHRTaWRlYmFyVGFiID09PSBSaWdodFNpZGViYXJUYWIuT25ib2FyZGluZzsKICAgICAgICAgICAgdmFyIG9uYm9hcmRpbmdDaGVja2VyID0gcnNiT25ib2FyZGluZ0NvbXBsZXRlIHx8ICFvbmJvYXJkaW5nVGFiT3BlbjsKICAgICAgICAgICAgaWYgKGlzQ2hyb21lICYmICFwZXJtaXNzaW9ucy5tYWlsVG9Qcm90b2NvbCAmJiBvbmJvYXJkaW5nQ2hlY2tlciAmJgogICAgICAgICAgICAgICAgIWNsb3NlZEJhbm5lcnNbQmFubmVyVHlwZS5EZWZhdWx0TWFpbENsaWVudF0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBCYW5uZXJUeXBlLkRlZmF1bHRNYWlsQ2xpZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghcGVybWlzc2lvbnMubm90aWZpY2F0aW9ucyAmJiAhaXNNb2JpbGUgJiYgb25ib2FyZGluZ0NoZWNrZXIgJiYKICAgICAgICAgICAgICAgICFjbG9zZWRCYW5uZXJzW0Jhbm5lclR5cGUuTm90aWZpY2F0aW9uRW5hYmxlXSkgewogICAgICAgICAgICAgICAgcmV0dXJuIEJhbm5lclR5cGUuTm90aWZpY2F0aW9uRW5hYmxlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGlmIChpc0Nocm9tZSAmJiAhcGVybWlzc2lvbnMubm90aWZpY2F0aW9ucyAmJgogICAgICAgICAgICAvLyAgIGNsb3NlZEJhbm5lcnNbQmFubmVyVHlwZS5Ob3RpZmljYXRpb25FbmFibGVdICYmCiAgICAgICAgICAgIC8vICAgIWNsb3NlZEJhbm5lcnNbQmFubmVyVHlwZS5Ob3RpZmljYXRpb25FbmFibGVXYXJuaW5nXSkgewogICAgICAgICAgICAvLyAgIHJldHVybiBCYW5uZXJUeXBlLk5vdGlmaWNhdGlvbkVuYWJsZVdhcm5pbmc7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgaWYgKHVwZ3JhZGVQcm9tcHRzLnNob3dUcmlhbEV4cGlyaW5nICYmICFjbG9zZWRCYW5uZXJzW0Jhbm5lclR5cGUuVHJpYWxFeHBpcmluZ10pIHsKICAgICAgICAgICAgICAgIHJldHVybiBCYW5uZXJUeXBlLlRyaWFsRXhwaXJpbmc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIEJhbm5lclR5cGUuTm9uZTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNsb3NlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIGNsb3NlQmFubmVyID0gX3RoaXMucHJvcHMuY2xvc2VCYW5uZXI7CiAgICAgICAgICAgIHZhciB0b1Nob3cgPSBfdGhpcy5zdGF0ZS50b1Nob3c7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgY2xvc2VCYW5uZXIodG9TaG93KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNsb3NlVXBkYXRlQmFubmVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGFwcFVwZGF0ZVJlYWR5ID0gX2EuYXBwVXBkYXRlUmVhZHksIHNldEFwcFVwZGF0ZVJlYWR5ID0gX2Euc2V0QXBwVXBkYXRlUmVhZHksIHNldFdlYmFwcFVwZGF0ZVJlYWR5ID0gX2Euc2V0V2ViYXBwVXBkYXRlUmVhZHk7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgaWYgKGFwcFVwZGF0ZVJlYWR5KSB7CiAgICAgICAgICAgICAgICBzZXRBcHBVcGRhdGVSZWFkeShmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRXZWJhcHBVcGRhdGVSZWFkeShmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUluc3RhbGwgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgYXBwVXBkYXRlUmVhZHkgPSBfdGhpcy5wcm9wcy5hcHBVcGRhdGVSZWFkeTsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBpZiAod2luZG93LlBNRWxlY3Ryb25CcmlkZ2UgJiYgd2luZG93LlBNRWxlY3Ryb25CcmlkZ2UuaW5zdGFsbFVwZGF0ZSAmJiBhcHBVcGRhdGVSZWFkeSkgewogICAgICAgICAgICAgICAgd2luZG93LlBNRWxlY3Ryb25CcmlkZ2UuaW5zdGFsbFVwZGF0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDbG9zZUludmFsaWRBY2NvdW50ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBzaG93SW52YWxpZEFjY291bnQ6IGZhbHNlLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUhpZGVQYXNzd29yZFByb21wdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgc2hvd1Bhc3N3b3JkUHJvbXB0OiBmYWxzZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnZhbGlkQWNjb3VudCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgdmFyIGludmFsaWRBY2NvdW50ID0gX3RoaXMucHJvcHMuaW52YWxpZEFjY291bnQ7CiAgICAgICAgICAgIGlmICghaW52YWxpZEFjY291bnQpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzd2l0Y2ggKGludmFsaWRBY2NvdW50LnR5cGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgQWNjb3VudFR5cGUuR29vZ2xlOgogICAgICAgICAgICAgICAgY2FzZSBBY2NvdW50VHlwZS5NaWNyb3NvZnQ6CiAgICAgICAgICAgICAgICBjYXNlIEFjY291bnRUeXBlLk1pY3Jvc29mdExlZ2FjeToKICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5yZWF1dGhvcml6ZUFjY291bnQoaW52YWxpZEFjY291bnQuaWQpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBBY2NvdW50VHlwZS5pQ2xvdWQ6CiAgICAgICAgICAgICAgICBjYXNlIEFjY291bnRUeXBlLklNQVA6CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgICAgICBzaG93UGFzc3dvcmRQcm9tcHQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZWF1dGhlbnRpY2F0ZUFjY291bnQgPSBmdW5jdGlvbiAoYWNjb3VudElkLCBuZXdQYXNzd29yZCkgewogICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuaW52YWxpZEFjY291bnQpIHsKICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnVwZGF0ZUFjY291bnRQYXNzd29yZChfdGhpcy5wcm9wcy5pbnZhbGlkQWNjb3VudCwgbmV3UGFzc3dvcmQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZWdpc3Rlck1haWxUb1Byb3RvY29sID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsb2dBbXBsaXR1ZGVFdmVudChBbXBsaXR1ZGVFdmVudHMuTWFrZURlZmF1bHQpOwogICAgICAgICAgICBfdGhpcy5wcm9wcy5yZWdpc3Rlck1haWxUb1Byb3RvY29sKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZXF1ZXN0Tm90aWZpY2F0aW9uUGVybWlzc2lvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uID0gX3RoaXMucHJvcHMucmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb247CiAgICAgICAgICAgIGxvZ0FtcGxpdHVkZUV2ZW50KEFtcGxpdHVkZUV2ZW50cy5UdXJuT25EZXNrdG9wTm90aWZpY2F0aW9ucyk7CiAgICAgICAgICAgIHJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgdG9TaG93OiBCYW5uZXJUeXBlLk5vbmUsCiAgICAgICAgICAgIHNob3dJbnZhbGlkQWNjb3VudDogdHJ1ZSwKICAgICAgICAgICAgc2hvd1Bhc3N3b3JkUHJvbXB0OiBmYWxzZSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIEJhbm5lci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgIHRvU2hvdzogdGhpcy5nZXRCYW5uZXJUb1Nob3codGhpcy5wcm9wcyksCiAgICAgICAgfSk7CiAgICB9OwogICAgQmFubmVyLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICAvLyBhdm9pZCByZXJlbmRlcmluZyBpcyBpdCdzIG5vdCBjb21pbmcgb3IgZ29pbmcgdG8gYmlsbGluZ3MKICAgICAgICB2YXIgaGFzTmF2aWdhdGVkRnJvbUJpbGxpbmdSb3V0ZSA9ICF0aGlzLnByb3BzLmN1cnJlbnRQYXRoLnN0YXJ0c1dpdGgoJy9zZXR0aW5ncy9iaWxsaW5nJykgJiYgbmV4dFByb3BzLmN1cnJlbnRQYXRoLnN0YXJ0c1dpdGgoJy9zZXR0aW5ncy9iaWxsaW5nJykgfHwKICAgICAgICAgICAgdGhpcy5wcm9wcy5jdXJyZW50UGF0aC5zdGFydHNXaXRoKCcvc2V0dGluZ3MvYmlsbGluZycpICYmICFuZXh0UHJvcHMuY3VycmVudFBhdGguc3RhcnRzV2l0aCgnL3NldHRpbmdzL2JpbGxpbmcnKTsKICAgICAgICBpZiAobmV4dFByb3BzLnBlcm1pc3Npb25zICE9PSB0aGlzLnByb3BzLnBlcm1pc3Npb25zIHx8CiAgICAgICAgICAgIG5leHRQcm9wcy5jbG9zZWRCYW5uZXJzICE9PSB0aGlzLnByb3BzLmNsb3NlZEJhbm5lcnMgfHwKICAgICAgICAgICAgbmV4dFByb3BzLmludmFsaWRBY2NvdW50ICE9PSB0aGlzLnByb3BzLmludmFsaWRBY2NvdW50IHx8CiAgICAgICAgICAgIG5leHRQcm9wcy53ZWJhcHBVcGRhdGVSZWFkeSAhPT0gdGhpcy5wcm9wcy53ZWJhcHBVcGRhdGVSZWFkeSB8fAogICAgICAgICAgICBuZXh0UHJvcHMuYXBwVXBkYXRlUmVhZHkgIT09IHRoaXMucHJvcHMuYXBwVXBkYXRlUmVhZHkgfHwKICAgICAgICAgICAgbmV4dFByb3BzLmlzT25saW5lICE9PSB0aGlzLnByb3BzLmlzT25saW5lIHx8CiAgICAgICAgICAgIG5leHRQcm9wcy5zaG93UmVmZXJyYWxSZWRlbXB0aW9uICE9PSB0aGlzLnByb3BzLnNob3dSZWZlcnJhbFJlZGVtcHRpb24gfHwKICAgICAgICAgICAgbmV4dFByb3BzLnJpZ2h0U2lkZWJhclRhYiAhPT0gdGhpcy5wcm9wcy5yaWdodFNpZGViYXJUYWIgfHwKICAgICAgICAgICAgaGFzTmF2aWdhdGVkRnJvbUJpbGxpbmdSb3V0ZSkgewogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHRvU2hvdzogdGhpcy5nZXRCYW5uZXJUb1Nob3cobmV4dFByb3BzKSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIC8vIGhhbmRsZSBzaG93aW5nIGludmFsaWQgYmFubmVyIHdoZW4gbmV3IGludmFsaWQgYWNjb3VudCBhcHBlYXJzCiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnByb3BzLmludmFsaWRBY2NvdW50OwogICAgICAgIHZhciBuZXdJbnZhbGlkID0gbmV4dFByb3BzLmludmFsaWRBY2NvdW50OwogICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3dJbnZhbGlkQWNjb3VudCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICgoIWN1cnJlbnQgJiYgbmV3SW52YWxpZCkgfHwKICAgICAgICAgICAgKGN1cnJlbnQgJiYgbmV3SW52YWxpZCAmJiBjdXJyZW50LmlkICE9PSBuZXdJbnZhbGlkLmlkKSkgewogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHNob3dJbnZhbGlkQWNjb3VudDogdHJ1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIEJhbm5lci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKG9sZFByb3BzLCBvbGRTdGF0ZSkgewogICAgICAgIGlmIChvbGRTdGF0ZS50b1Nob3cgIT09IHRoaXMuc3RhdGUudG9TaG93KSB7CiAgICAgICAgICAgIHRoaXMucHJvcHMuYmFubmVyU2V0KHRoaXMuc3RhdGUudG9TaG93KTsKICAgICAgICB9CiAgICB9OwogICAgQmFubmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgaW52YWxpZEFjY291bnQgPSBfYS5pbnZhbGlkQWNjb3VudCwgdXBncmFkZVByb21wdHMgPSBfYS51cGdyYWRlUHJvbXB0cywgc3RhdHVzVHlwZVN0YXRlID0gX2Euc3RhdHVzVHlwZVN0YXRlLCBpc01vYmlsZSA9IF9hLmlzTW9iaWxlOwogICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIHRvU2hvdyA9IF9iLnRvU2hvdywgc2hvd0ludmFsaWRBY2NvdW50ID0gX2Iuc2hvd0ludmFsaWRBY2NvdW50OwogICAgICAgIC8vIEhhbmRsZSBJbnZhbGlkIEFjY291bnQgQmFubmVyLCB3aGljaCBpc24ndCBjb250cm9sbGVkIGJ5IGxvY2FsU3RvcmFnZQogICAgICAgIGlmICh0b1Nob3cgPT09IEJhbm5lclR5cGUuSW52YWxpZEFjY291bnQgJiYgc2hvd0ludmFsaWRBY2NvdW50ICYmIGludmFsaWRBY2NvdW50KSB7CiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW52YWxpZEFjY291bnQsIHsgZW1haWw6IGludmFsaWRBY2NvdW50ID8gaW52YWxpZEFjY291bnQuZW1haWwgOiAnJywgb25DbGljazogdGhpcy5oYW5kbGVJbnZhbGlkQWNjb3VudCwgaW52YWxpZEFjY291bnQ6IGludmFsaWRBY2NvdW50IH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWF1dGhlbnRpY2F0ZVBvcG92ZXIsIHsgYWNjb3VudDogaW52YWxpZEFjY291bnQsIHNob3c6IHRoaXMuc3RhdGUuc2hvd1Bhc3N3b3JkUHJvbXB0LCBvblJlYXV0aGVudGljYXRlOiB0aGlzLmhhbmRsZVJlYXV0aGVudGljYXRlQWNjb3VudCwgb25IaWRlOiB0aGlzLmhhbmRsZUhpZGVQYXNzd29yZFByb21wdCB9KSkpOwogICAgICAgIH0KICAgICAgICAvLyBIYW5kbGUgYWxsIG90aGVyIGJhbm5lcnMKICAgICAgICBzd2l0Y2ggKHRvU2hvdykgewogICAgICAgICAgICBjYXNlIEJhbm5lclR5cGUuWWVhckluUmV2aWV3OgogICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWWVhckluUmV2aWV3LCB7IG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2xvc2UgfSk7CiAgICAgICAgICAgIGNhc2UgQmFubmVyVHlwZS5BcHBsZVNpbGljb246CiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBcHBsZVNpbGljb24sIG51bGwpOwogICAgICAgICAgICBjYXNlIEJhbm5lclR5cGUuRG93bmxvYWRDaHJvbWU6CiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEb3dubG9hZENocm9tZSwgeyBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlIH0pOwogICAgICAgICAgICBjYXNlIEJhbm5lclR5cGUuRGVmYXVsdE1haWxDbGllbnQ6CiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0TWFpbENsaWVudCwgeyBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVJlZ2lzdGVyTWFpbFRvUHJvdG9jb2wgfSk7CiAgICAgICAgICAgIGNhc2UgQmFubmVyVHlwZS5Ob3RpZmljYXRpb25FbmFibGU6CiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTm90aWZpY2F0aW9uRW5hYmxlLCB7IG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2xvc2UsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlUmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24gfSkpOwogICAgICAgICAgICBjYXNlIEJhbm5lclR5cGUuTm90aWZpY2F0aW9uRW5hYmxlV2FybmluZzoKICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChOb3RpZmljYXRpb25FbmFibGVXYXJuaW5nLCB7IG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2xvc2UsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlUmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24gfSkpOwogICAgICAgICAgICBjYXNlIEJhbm5lclR5cGUuVHJpYWxFeHBpcmluZzoKICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUcmlhbEV4cGlyaW5nLCB7IG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2xvc2UsIGlzTW9iaWxlOiBpc01vYmlsZSwgZXhwaXJhdGlvbkRhdGU6IHVwZ3JhZGVQcm9tcHRzLmV4cGlyYXRpb25EYXRlIH0pKTsKICAgICAgICAgICAgY2FzZSBCYW5uZXJUeXBlLlVwZGF0ZUF2YWlsYWJsZToKICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChVcGRhdGVBdmFpbGFibGUsIHsgb25DbGljazogdGhpcy5oYW5kbGVJbnN0YWxsLCBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlVXBkYXRlQmFubmVyIH0pKTsKICAgICAgICAgICAgY2FzZSBCYW5uZXJUeXBlLk9mZmxpbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChPZmZsaW5lLCBudWxsKTsKICAgICAgICAgICAgY2FzZSBCYW5uZXJUeXBlLlJlZmVycmFsUmVkZW1wdGlvbjoKICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlZmVycmFsUmVkZW1wdGlvbiwgeyBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlIH0pOwogICAgICAgICAgICBjYXNlIEJhbm5lclR5cGUuRGlzYWJsZWQ6CiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEaXNhYmxlZCwgeyBpc01vYmlsZTogaXNNb2JpbGUsIHR5cGU6IHN0YXR1c1R5cGVTdGF0ZSB9KTsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImVtcHR5IiB9KTsKICAgICAgICB9CiAgICB9OwogICAgcmV0dXJuIEJhbm5lcjsKfShSZWFjdC5Db21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQmFubmVyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Banner/Banner.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Banner/Banner.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport platform from 'platform';\n\nimport { Permission, Account, AccountType, BannerType, MeStatusNew } from '@src/types';\nimport { UpgradePrompt } from '@src/types/billing';\nimport { RightSidebarTab } from '@src/types/rightSidebar';\n\nimport DownloadChrome from './DownloadChrome/DownloadChrome';\nimport DefaultMailClient from './DefaultMailClient/DefaultMailClient';\nimport NotificationEnable from './NotificationEnable/NotificationEnable';\nimport NotificationEnableWarning from './NotificationEnableWarning/NotificationEnableWarning';\nimport AppleSilicon from './AppleSilicon/AppleSilicon';\nimport YearInReview from './YearInReview/YearInReview';\n\nimport Disabled from '@src/components/Banner/DisabledUser/Disabled';\nimport TrialExpiring from '@src/components/Banner/TrialExpiring/TrialExpiring';\nimport InvalidAccount from '@src/components/Banner/InvalidAccount/InvalidAccount';\nimport Offline from '@src/components/Banner/Offline/Offline';\n// tslint:disable-next-line:max-line-length\nimport UpdateAvailable from '@src/components/Banner/UpdateAvailable/UpdateAvailable';\nimport ReferralRedemption from '@src/components/Banner/ReferralRedemption/ReferralRedemption';\nimport ReauthenticatePopover from '@src/components/Providers/ReauthenticatePopover/ReauthenticatePopover';\n\nimport { isElectron } from '@src/lib/electron';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\n\nimport { StatYearlySummary } from '@src/api/analytics';\n\nimport './Banner.scss';\nexport interface StateProps {\n  permissions: Permission;\n  closedBanners: { [banner: string]: boolean };\n  upgradePrompts: UpgradePrompt;\n  invalidAccount?: Account;\n  appUpdateReady: boolean;\n  webappUpdateReady: boolean;\n  isOnline: boolean;\n  isDefaultClient: boolean;\n  isDisabled?: boolean;\n  statusTypeState: MeStatusNew;\n  isMobile?: boolean;\n  showReferralRedemption: boolean;\n  rsbOnboardingComplete: boolean;\n  rightSidebarTab?: RightSidebarTab;\n  yearlySummary?: StatYearlySummary;\n  currentPath: string;\n  accountType?: AccountType;\n}\n\nexport interface DispatchProps {\n  registerMailToProtocol: () => void;\n  requestNotificationPermission: () => void;\n  setAppUpdateReady: (ready: boolean) => void;\n  closeBanner: (banner: BannerType) => void;\n  updateAccountPassword: (account: Account, newPassword: string) => void;\n  reauthorizeAccount: (accountId: string) => void;\n  setWebappUpdateReady: (ready: boolean) => void;\n  bannerSet: (banner: BannerType) => void;\n}\n\ninterface State {\n  toShow: BannerType;\n  showInvalidAccount: boolean;\n  showPasswordPrompt: boolean;\n}\n\nclass Banner extends React.Component<StateProps & DispatchProps, State> {\n  constructor(props: StateProps & DispatchProps) {\n    super(props);\n\n    this.state = {\n      toShow: BannerType.None,\n      showInvalidAccount: true,\n      showPasswordPrompt: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      toShow: this.getBannerToShow(this.props),\n    });\n  }\n\n  getBannerToShow = (props: DispatchProps & StateProps): BannerType => {\n    const {\n      permissions,\n      closedBanners,\n      upgradePrompts,\n      invalidAccount,\n      appUpdateReady,\n      webappUpdateReady,\n      isOnline,\n      isDisabled,\n      isMobile,\n      showReferralRedemption,\n      rsbOnboardingComplete,\n      rightSidebarTab,\n    } = props;\n    const isChrome = (platform.name || '').indexOf('Chrome') > -1 || isElectron;\n    const isDefault = props.isDefaultClient;\n\n    if (window.PMElectronBridge?.rosetta === true) {\n      return BannerType.AppleSilicon;\n    }\n\n    // Don't show banners on popout windows and billing pages\n    const pathname = window.location.pathname;\n    if (\n      pathname.startsWith('/popout')\n      || pathname.startsWith('/recap')\n      || pathname.startsWith('/settings/billing')\n      || pathname.startsWith('/login/choosePlan')\n      ) {\n      return BannerType.None;\n    }\n\n    // Handle showing banner for yearly summary if not seen yet\n    // TODO(SHIN): Turn on for next year's year in review\n    // if (yearlySummary && !yearlySummary.seen && !closedBanners[BannerType.YearInReview]) {\n    //   return BannerType.YearInReview;\n    // }\n\n    if (isDefault) {\n      permissions.mailToProtocol = true;\n    }\n\n    if (!isOnline) {\n      return BannerType.Offline;\n    }\n\n    if (isDisabled) {\n      return BannerType.Disabled;\n    }\n\n    if (invalidAccount && this.state.showInvalidAccount) {\n      return BannerType.InvalidAccount;\n    }\n\n    if (appUpdateReady || webappUpdateReady) {\n      return BannerType.UpdateAvailable;\n    }\n\n    if (!isChrome && !isMobile && !closedBanners[BannerType.DownloadChrome]) {\n      return BannerType.DownloadChrome;\n    }\n\n    if (isChrome && showReferralRedemption) {\n      return BannerType.ReferralRedemption;\n    }\n\n    const onboardingTabOpen = rightSidebarTab === RightSidebarTab.Onboarding;\n    const onboardingChecker = rsbOnboardingComplete || !onboardingTabOpen;\n\n    if (isChrome && !permissions.mailToProtocol && onboardingChecker &&\n      !closedBanners[BannerType.DefaultMailClient]) {\n      return BannerType.DefaultMailClient;\n    }\n\n    if (!permissions.notifications && !isMobile && onboardingChecker &&\n      !closedBanners[BannerType.NotificationEnable]) {\n      return BannerType.NotificationEnable;\n    }\n\n    // if (isChrome && !permissions.notifications &&\n    //   closedBanners[BannerType.NotificationEnable] &&\n    //   !closedBanners[BannerType.NotificationEnableWarning]) {\n    //   return BannerType.NotificationEnableWarning;\n    // }\n\n    if (upgradePrompts.showTrialExpiring && !closedBanners[BannerType.TrialExpiring]) {\n      return BannerType.TrialExpiring;\n    }\n\n    return BannerType.None;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: StateProps & DispatchProps) {\n    // avoid rerendering is it's not coming or going to billings\n    const hasNavigatedFromBillingRoute =\n      !this.props.currentPath.startsWith('/settings/billing') && nextProps.currentPath.startsWith('/settings/billing') ||\n      this.props.currentPath.startsWith('/settings/billing') && !nextProps.currentPath.startsWith('/settings/billing');\n\n    if (\n      nextProps.permissions !== this.props.permissions ||\n      nextProps.closedBanners !== this.props.closedBanners ||\n      nextProps.invalidAccount !== this.props.invalidAccount ||\n      nextProps.webappUpdateReady !== this.props.webappUpdateReady ||\n      nextProps.appUpdateReady !== this.props.appUpdateReady ||\n      nextProps.isOnline !== this.props.isOnline ||\n      nextProps.showReferralRedemption !== this.props.showReferralRedemption ||\n      nextProps.rightSidebarTab !== this.props.rightSidebarTab ||\n      hasNavigatedFromBillingRoute\n    ) {\n      this.setState({\n        toShow: this.getBannerToShow(nextProps),\n      });\n    }\n\n    // handle showing invalid banner when new invalid account appears\n    const current = this.props.invalidAccount;\n    const newInvalid = nextProps.invalidAccount;\n    if (this.state.showInvalidAccount) {\n      return;\n    }\n    if ((!current && newInvalid) ||\n      (current && newInvalid && current.id !== newInvalid.id)\n    ) {\n      this.setState({\n        showInvalidAccount: true,\n      });\n    }\n  }\n\n  componentDidUpdate(oldProps: StateProps, oldState: State) {\n    if (oldState.toShow !== this.state.toShow) {\n      this.props.bannerSet(this.state.toShow);\n    }\n  }\n\n  handleClose = (e: any) => {\n    const { closeBanner } = this.props;\n    const { toShow } = this.state;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    closeBanner(toShow);\n  }\n\n  handleCloseUpdateBanner = (e: any) => {\n    const { appUpdateReady, setAppUpdateReady, setWebappUpdateReady } = this.props;\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (appUpdateReady) {\n      setAppUpdateReady(false);\n    } else {\n      setWebappUpdateReady(false);\n    }\n  }\n\n  handleInstall = (e: any) => {\n    const { appUpdateReady } = this.props;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (window.PMElectronBridge && window.PMElectronBridge.installUpdate && appUpdateReady) {\n      window.PMElectronBridge.installUpdate();\n    } else {\n      window.location.reload();\n    }\n  }\n\n  handleCloseInvalidAccount = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.setState({\n      showInvalidAccount: false,\n    });\n  }\n\n  handleHidePasswordPrompt = () => {\n    this.setState({\n      showPasswordPrompt: false,\n    });\n  }\n\n  handleInvalidAccount = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const { invalidAccount } = this.props;\n    if (!invalidAccount) {\n      return;\n    }\n\n    switch (invalidAccount.type) {\n      case AccountType.Google:\n      case AccountType.Microsoft:\n      case AccountType.MicrosoftLegacy:\n        this.props.reauthorizeAccount(invalidAccount.id);\n        break;\n      case AccountType.iCloud:\n      case AccountType.IMAP:\n        this.setState({\n          showPasswordPrompt: true,\n        });\n        break;\n      default:\n        break;\n    }\n  }\n\n  handleReauthenticateAccount = (accountId: string, newPassword: string) => {\n    if (this.props.invalidAccount) {\n      this.props.updateAccountPassword(this.props.invalidAccount, newPassword);\n    }\n  }\n\n  handleRegisterMailToProtocol = () => {\n    logAmplitudeEvent(AmplitudeEvents.MakeDefault);\n    this.props.registerMailToProtocol();\n  }\n\n  handleRequestNotificationPermission = () => {\n    const { requestNotificationPermission } = this.props;\n    logAmplitudeEvent(AmplitudeEvents.TurnOnDesktopNotifications);\n    requestNotificationPermission();\n  }\n\n  render() {\n    const {\n      invalidAccount,\n      upgradePrompts,\n      statusTypeState,\n      isMobile,\n    } = this.props;\n    const { toShow, showInvalidAccount } = this.state;\n    // Handle Invalid Account Banner, which isn't controlled by localStorage\n    if (toShow === BannerType.InvalidAccount && showInvalidAccount && invalidAccount) {\n      return (\n        <div>\n          <InvalidAccount\n            email={invalidAccount ? invalidAccount.email : ''}\n            onClick={this.handleInvalidAccount}\n            invalidAccount={invalidAccount}\n          />\n          <ReauthenticatePopover\n            account={invalidAccount}\n            show={this.state.showPasswordPrompt}\n            onReauthenticate={this.handleReauthenticateAccount}\n            onHide={this.handleHidePasswordPrompt}\n          />\n        </div>\n      );\n    }\n\n    // Handle all other banners\n    switch (toShow) {\n      case BannerType.YearInReview:\n        return <YearInReview onClose={this.handleClose} />;\n      case BannerType.AppleSilicon:\n        return <AppleSilicon />;\n      case BannerType.DownloadChrome:\n        return <DownloadChrome onClose={this.handleClose} />;\n      case BannerType.DefaultMailClient:\n        return <DefaultMailClient\n                  onClose={this.handleClose}\n                  onClick={this.handleRegisterMailToProtocol}\n                />;\n      case BannerType.NotificationEnable:\n        return (\n          <NotificationEnable\n            onClose={this.handleClose}\n            onClick={this.handleRequestNotificationPermission}\n          />\n        );\n      case BannerType.NotificationEnableWarning:\n        return (\n          <NotificationEnableWarning\n            onClose={this.handleClose}\n            onClick={this.handleRequestNotificationPermission}\n          />\n        );\n      case BannerType.TrialExpiring:\n        return (\n          <TrialExpiring\n            onClose={this.handleClose}\n            isMobile={isMobile}\n            expirationDate={upgradePrompts.expirationDate}\n          />\n        );\n      case BannerType.UpdateAvailable:\n        return (\n          <UpdateAvailable\n            onClick={this.handleInstall}\n            onClose={this.handleCloseUpdateBanner}\n          />\n        );\n      case BannerType.Offline:\n        return <Offline />;\n      case BannerType.ReferralRedemption:\n        return <ReferralRedemption onClose={this.handleClose} />;\n      case BannerType.Disabled:\n        return <Disabled isMobile={isMobile} type={statusTypeState} />;\n      default:\n        return <div className=\"empty\" />;\n    }\n  }\n}\n\nexport default Banner;\n"]}]}