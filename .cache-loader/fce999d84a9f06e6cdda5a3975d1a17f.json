{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/ConnectProvider/ConnectProvider.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/ConnectProvider/ConnectProvider.tsx","mtime":1675280254005},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHsKICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7CiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkKICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdDsKICAgIH07CiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQWNjb3VudFR5cGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IFByb3ZpZGVySXRlbSBmcm9tICcuL2NvbXBvbmVudHMvUHJvdmlkZXJJdGVtJzsKaW1wb3J0IE5hdmlnYXRpb25IZWFkZXIgZnJvbSAnQHNyYy9yb3V0ZXMvU2V0dGluZ3MvY29tcG9uZW50cy9OYXZpZ2F0aW9uSGVhZGVyJzsKaW1wb3J0IEZhc3RtYWlsIGZyb20gJ0BzcmMvYXNzZXRzL1Byb3ZpZGVyTG9nb3MvRmFzdG1haWxAM3gucG5nJzsKaW1wb3J0IEdvb2dsZSBmcm9tICdAc3JjL2Fzc2V0cy9Qcm92aWRlckxvZ29zL0dvb2dsZUAzeC5wbmcnOwppbXBvcnQgaUNsb3VkIGZyb20gJ0BzcmMvYXNzZXRzL1Byb3ZpZGVyTG9nb3MvaUNsb3VkQDN4LnBuZyc7CmltcG9ydCBPZmZpY2UzNjUgZnJvbSAnQHNyYy9hc3NldHMvUHJvdmlkZXJMb2dvcy9PZmZpY2UzNjVAM3gucG5nJzsKaW1wb3J0IE91dGxvb2sgZnJvbSAnQHNyYy9hc3NldHMvUHJvdmlkZXJMb2dvcy9PdXRsb29rQDN4LnBuZyc7CmltcG9ydCBZYWhvbyBmcm9tICdAc3JjL2Fzc2V0cy9Qcm92aWRlckxvZ29zL1lhaG9vQDN4LnBuZyc7CmltcG9ydCBDb25maXJtIGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYXNlL0NvbmZpcm0nOwppbXBvcnQgJy4vQ29ubmVjdFByb3ZpZGVyLnNjc3MnOwppbXBvcnQgYnJvd3Nlckhpc3RvcnkgZnJvbSAnQHNyYy9saWIvYnJvd3Nlckhpc3RvcnknOwppbXBvcnQgVXBncmFkZVByb21wdCBmcm9tICdAc3JjL2NvbXBvbmVudHMvQmFzZS9VcGdyYWRlUHJvbXB0L1VwZ3JhZGVQcm9tcHQnOwppbXBvcnQgeyBhY2NvdW50TGltaXRDb3B5IH0gZnJvbSAnQHNyYy9saWIvbW9kZWxzL2JpbGxpbmcnOwppbXBvcnQgeyBNQVhfQUNDT1VOVF9MSU1JVCB9IGZyb20gJ0BzcmMvbGliL2FjY291bnQnOwppbXBvcnQgeyBBbXBsaXR1ZGVFdmVudHMsIGxvZ0FtcGxpdHVkZUV2ZW50IH0gZnJvbSAnQHNyYy9saWIvYW1wbGl0dWRlLWFuYWx5dGljcyc7CmltcG9ydCB7IGNhcGl0YWxpemUgfSBmcm9tICdsb2Rhc2gnOwp2YXIgUFJPVklERVJTID0gWwogICAgewogICAgICAgIHR5cGU6ICdnb29nbGUnLAogICAgICAgIGxvZ286IEdvb2dsZSwKICAgICAgICBhY2NvdW50VHlwZTogQWNjb3VudFR5cGUuR29vZ2xlLAogICAgICAgIHdpZHRoOiAnODBweCcsCiAgICB9LAogICAgewogICAgICAgIHR5cGU6ICdtaWNyb3NvZnRHcmFwaCcsCiAgICAgICAgbG9nbzogT2ZmaWNlMzY1LAogICAgICAgIGFjY291bnRUeXBlOiBBY2NvdW50VHlwZS5NaWNyb3NvZnQsCiAgICAgICAgd2lkdGg6ICc4MHB4JywKICAgIH0sCiAgICB7CiAgICAgICAgdHlwZTogJ21pY3Jvc29mdEdyYXBoJywKICAgICAgICBsb2dvOiBPdXRsb29rLAogICAgICAgIGFjY291bnRUeXBlOiBBY2NvdW50VHlwZS5NaWNyb3NvZnQsCiAgICAgICAgd2lkdGg6ICc4MHB4JywKICAgIH0sCiAgICB7CiAgICAgICAgdHlwZTogJ2ljbG91ZCcsCiAgICAgICAgbG9nbzogaUNsb3VkLAogICAgICAgIGFjY291bnRUeXBlOiBBY2NvdW50VHlwZS5pQ2xvdWQsCiAgICAgICAgd2lkdGg6ICc4MHB4JywKICAgIH0sCiAgICB7CiAgICAgICAgdHlwZTogJ3lhaG9vJywKICAgICAgICBsb2dvOiBZYWhvbywKICAgICAgICBhY2NvdW50VHlwZTogQWNjb3VudFR5cGUuSU1BUCwKICAgICAgICB3aWR0aDogJzgwcHgnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgIH0sCiAgICB7CiAgICAgICAgdHlwZTogJ2Zhc3RtYWlsJywKICAgICAgICBsb2dvOiBGYXN0bWFpbCwKICAgICAgICBhY2NvdW50VHlwZTogQWNjb3VudFR5cGUuSU1BUCwKICAgICAgICB3aWR0aDogJzgwcHgnLAogICAgfSwKXTsKdmFyIENvbm5lY3RQcm92aWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhDb25uZWN0UHJvdmlkZXIsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBDb25uZWN0UHJvdmlkZXIocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVVwZ3JhZGVSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLnVwZ3JhZGVQcm9tcHQgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVCdXR0b25DbGljayA9IGZ1bmN0aW9uIChwcm92aWRlcikgewogICAgICAgICAgICAvLyBTaG93IFVwZ3JhZGUgUHJvbXB0CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBmZWF0dXJlcyA9IF9hLmZlYXR1cmVzLCBhY2NvdW50cyA9IF9hLmFjY291bnRzOwogICAgICAgICAgICB2YXIgc2hvd1Byb21wdCA9IGZlYXR1cmVzLmFjY291bnRzICYmIGFjY291bnRzLmxlbmd0aCA+IGZlYXR1cmVzLmFjY291bnRzOwogICAgICAgICAgICAvLyBTaG93IFNwZWNpYWwgZGlhbG9ndWUgd2hlbiBtYXggYWNjb3VudCBsaW1pdCBpcyByZWFjaGVkCiAgICAgICAgICAgIGlmIChzaG93UHJvbXB0ICYmIGFjY291bnRzLmxlbmd0aCA9PT0gTUFYX0FDQ09VTlRfTElNSVQpIHsKICAgICAgICAgICAgICAgIHZhciBjb25maXJtUHJvcHMgPSB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdZb3VcJ3ZlIHJlYWNoZWQgdGhlIG1heGltdW0gbnVtYmVyIG9mIGFjY291bnRzJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnWW91IGNhbiBhZGQgYSBtYXhpbXVtIG51bWJlciBvZiAyMCBhY2NvdW50cyB0byBQb2x5bWFpbC4gUGxlYXNlIHJlbW92ZSBhbiBleGlzdGluZyBhY2NvdW50IGJlZm9yZSBhZGRpbmcgYSBuZXcgb25lJywKICAgICAgICAgICAgICAgICAgICBjb25maXJtQ29weTogJ09rJywKICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb25maXJtUHJvcHM6IHVuZGVmaW5lZCB9KTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgY29uZmlybVByb3BzOiBjb25maXJtUHJvcHMgfSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHNob3dQcm9tcHQpIHsKICAgICAgICAgICAgICAgIF90aGlzLnVwZ3JhZGVQcm9tcHQuc2hvdygpOwogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93VXBncmFkZTogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsb2dBbXBsaXR1ZGVFdmVudChBbXBsaXR1ZGVFdmVudHMuQ29ubmVjdEFuRW1haWxBY2NvdW50LCB7IGRldGFpbHM6IHByb3ZpZGVyIH0pOwogICAgICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyKSB7CiAgICAgICAgICAgICAgICBjYXNlIEFjY291bnRUeXBlLkdvb2dsZToKICAgICAgICAgICAgICAgIGNhc2UgQWNjb3VudFR5cGUuTWljcm9zb2Z0OgogICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnNlbGVjdFByb3ZpZGVyKHByb3ZpZGVyKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgQWNjb3VudFR5cGUuaUNsb3VkOgogICAgICAgICAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goX3RoaXMucHJvcHMuZG9tYWluICsgIi9pY2xvdWQiKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3lhaG9vJzoKICAgICAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKF90aGlzLnByb3BzLmRvbWFpbiArICIveWFob28iKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ2Zhc3RtYWlsJzoKICAgICAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKF90aGlzLnByb3BzLmRvbWFpbiArICIvZmFzdG1haWwiKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMudG9hc3RTZXQobmV3IEVycm9yKCJQcm92aWRlciAiICsgY2FwaXRhbGl6ZShwcm92aWRlcikgKyAiIG5vdCBzdXBwb3J0ZWQiKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUJhY2tQcmVzcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkuZ29CYWNrKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDdXN0b21Qcm92aWRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChfdGhpcy5wcm9wcy5kb21haW4gKyAiL2ltYXAiKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0ge307CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgQ29ubmVjdFByb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBhY2NvdW50cyA9IF9hLmFjY291bnRzLCBzaWdub3V0ID0gX2Euc2lnbm91dCwgYmlsbGluZyA9IF9hLmJpbGxpbmc7CiAgICAgICAgdmFyIGNvbmZpcm1Qcm9wcyA9IHRoaXMuc3RhdGUuY29uZmlybVByb3BzOwogICAgICAgIHZhciB0aXRsZSA9ICdDb25uZWN0IHlvdXIgZW1haWwnOwogICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICdUaGlzIHNob3VsZCBiZSB5b3VyIHByaW1hcnkgd29yayBlbWFpbC4gWW91IGNhbiBhZGQgbW9yZSBhY2NvdW50cyBsYXRlci4nOwogICAgICAgIGlmICghIWFjY291bnRzLmxlbmd0aCkgewogICAgICAgICAgICB0aXRsZSA9ICdBZGQgQWNjb3VudCc7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gJ1NlbGVjdCB5b3VyIGVtYWlsIHByb3ZpZGVyOic7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJsb2dpbi1jb25uZWN0LXByb3ZpZGVyIiB9LAogICAgICAgICAgICAhIWFjY291bnRzLmxlbmd0aCAmJgogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChOYXZpZ2F0aW9uSGVhZGVyLCB7IHRpdGxlOiAiQWNjb3VudHMiLCBvbkJhY2s6IHRoaXMuaGFuZGxlQmFja1ByZXNzIH0pLAogICAgICAgICAgICBjb25maXJtUHJvcHMgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uZmlybSwgX19hc3NpZ24oe30sIGNvbmZpcm1Qcm9wcykpKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChVcGdyYWRlUHJvbXB0LCB7IHJlZjogdGhpcy5oYW5kbGVVcGdyYWRlUmVmLCB0aXRsZTogIlVwZ3JhZGUgeW91ciBQbGFuIHRvIGFkZCBtb3JlIGFjY291bnRzIiwgZGVzY3JpcHRpb246IGFjY291bnRMaW1pdENvcHkoYmlsbGluZyksIGJ1dHRvbkNvcHk6ICdVcGdyYWRlIFBsYW4nLCBsaWdodGJveDogdHJ1ZSB9KSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJtYWluIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwcm9tcHQiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgdGl0bGUpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sIGRlc2NyaXB0aW9uKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInByb3ZpZGVycyIgfSwgUFJPVklERVJTCiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlckl0ZW0sIHsga2V5OiBwcm92aWRlci5sb2dvLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVCdXR0b25DbGljaywgcHJvdmlkZXI6IHByb3ZpZGVyLCBkaXNhYmxlZDogcHJvdmlkZXIuZGlzYWJsZWQgfSk7CiAgICAgICAgICAgICAgICB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImN1c3RvbSIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ3VzdG9tUHJvdmlkZXIgfSwgIkkgaGF2ZSBhIGRpZmZlcmVudCBlbWFpbCBwcm92aWRlciIpKSwKICAgICAgICAgICAgICAgICFhY2NvdW50cy5sZW5ndGggJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNpZ25vdXQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgb25DbGljazogc2lnbm91dCB9LCAiU2lnbiBPdXQiKSkpKSk7CiAgICB9OwogICAgcmV0dXJuIENvbm5lY3RQcm92aWRlcjsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IENvbm5lY3RQcm92aWRlcjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/ConnectProvider/ConnectProvider.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/ConnectProvider/ConnectProvider.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { Account, AccountType, Features } from '@src/types';\nimport { Billing } from '@src/types/billing';\nimport ProviderItem from './components/ProviderItem';\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\n\nimport Fastmail from '@src/assets/ProviderLogos/Fastmail@3x.png';\nimport Google from '@src/assets/ProviderLogos/Google@3x.png';\nimport iCloud from '@src/assets/ProviderLogos/iCloud@3x.png';\nimport Office365 from '@src/assets/ProviderLogos/Office365@3x.png';\nimport Outlook from '@src/assets/ProviderLogos/Outlook@3x.png';\nimport Yahoo from '@src/assets/ProviderLogos/Yahoo@3x.png';\n\nimport Confirm, { Props as ConfirmProps } from '@src/components/Base/Confirm';\nimport './ConnectProvider.scss';\nimport browserHistory from '@src/lib/browserHistory';\nimport UpgradePrompt from '@src/components/Base/UpgradePrompt/UpgradePrompt';\nimport { accountLimitCopy } from '@src/lib/models/billing';\nimport { MAX_ACCOUNT_LIMIT } from '@src/lib/account';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\nimport { capitalize } from 'lodash';\n\nconst PROVIDERS = [\n  {\n    type: 'google',\n    logo: Google,\n    accountType: AccountType.Google,\n    width: '80px',\n  },\n  {\n    type: 'microsoftGraph',\n    logo: Office365,\n    accountType: AccountType.Microsoft,\n    width: '80px',\n  },\n  {\n    type: 'microsoftGraph',\n    logo: Outlook,\n    accountType: AccountType.Microsoft,\n    width: '80px',\n  },\n  {\n    type: 'icloud',\n    logo: iCloud,\n    accountType: AccountType.iCloud,\n    width: '80px',\n  },\n  {\n    type: 'yahoo',\n    logo: Yahoo,\n    accountType: AccountType.IMAP,\n    width: '80px',\n    disabled: false,\n  },\n  {\n    type: 'fastmail',\n    logo: Fastmail,\n    accountType: AccountType.IMAP,\n    width: '80px',\n  },\n];\n\nexport interface Props {\n  domain: string;\n}\n\nexport interface StateProps {\n  features: Features;\n  accounts: Account[];\n  domain: string;\n  billing?: Billing;\n}\n\nexport interface State {\n  showUpgrade?: boolean;\n  confirmProps?: ConfirmProps;\n}\n\nexport interface DispatchProps {\n  selectProvider: (provider: AccountType) => void;\n  signout: () => void;\n  toastSet: (toast: Error) => void;\n}\n\nclass ConnectProvider extends React.PureComponent<StateProps & DispatchProps, State> {\n  upgradePrompt: UpgradePrompt;\n\n  constructor(props: StateProps & DispatchProps) {\n    super();\n    this.state = {};\n  }\n\n  handleUpgradeRef = (ref: UpgradePrompt) => {\n    this.upgradePrompt = ref;\n  }\n\n  handleButtonClick = (provider: string) => {\n    // Show Upgrade Prompt\n    const { features, accounts } = this.props;\n    const showPrompt = features.accounts && accounts.length > features.accounts;\n\n    // Show Special dialogue when max account limit is reached\n    if (showPrompt && accounts.length === MAX_ACCOUNT_LIMIT) {\n      const confirmProps: ConfirmProps = {\n        title: 'You\\'ve reached the maximum number of accounts',\n        message: 'You can add a maximum number of 20 accounts to Polymail. Please remove an existing account before adding a new one',\n        confirmCopy: 'Ok',\n        onConfirm: () => {\n          this.setState({ confirmProps: undefined });\n        },\n      };\n\n      this.setState({ confirmProps });\n      return;\n    }\n\n    if (showPrompt) {\n      this.upgradePrompt.show();\n      this.setState({ showUpgrade: true });\n      return;\n    }\n    logAmplitudeEvent(AmplitudeEvents.ConnectAnEmailAccount, { details: provider });\n\n    switch (provider) {\n      case AccountType.Google:\n      case AccountType.Microsoft:\n        this.props.selectProvider(provider);\n        break;\n      case AccountType.iCloud:\n        browserHistory.push(`${this.props.domain}/icloud`);\n        break;\n      case 'yahoo':\n        browserHistory.push(`${this.props.domain}/yahoo`);\n        break;\n      case 'fastmail':\n        browserHistory.push(`${this.props.domain}/fastmail`);\n        break;\n      default:\n        this.props.toastSet(new Error(`Provider ${capitalize(provider)} not supported`));\n        break;\n    }\n  }\n\n  handleBackPress = () => {\n    browserHistory.goBack();\n  }\n\n  handleCustomProvider = () => {\n    browserHistory.push(`${this.props.domain}/imap`);\n  }\n\n  render() {\n    const { accounts, signout, billing } = this.props;\n    const { confirmProps } = this.state;\n    let title = 'Connect your email';\n    let description = 'This should be your primary work email. You can add more accounts later.';\n\n    if (!!accounts.length) {\n      title = 'Add Account';\n      description = 'Select your email provider:';\n    }\n    return (\n      <div className=\"login-connect-provider\">\n        {!!accounts.length &&\n          <NavigationHeader\n            title=\"Accounts\"\n            onBack={this.handleBackPress}\n          />\n        }\n        {confirmProps && (\n          <Confirm\n            {...confirmProps}\n          />\n        )}\n        <UpgradePrompt\n          ref={this.handleUpgradeRef}\n          title=\"Upgrade your Plan to add more accounts\"\n          description={accountLimitCopy(billing)}\n          buttonCopy={'Upgrade Plan'}\n          lightbox\n        />\n        <div className=\"main\">\n          <div className=\"prompt\">\n            <div className=\"title\">\n              {title}\n            </div>\n            <div className=\"description\">\n            {description}\n            </div>\n          </div>\n          <div className=\"providers\">\n            {PROVIDERS\n              .map(provider =>\n                <ProviderItem\n                  key={provider.logo}\n                  onClick={this.handleButtonClick}\n                  provider={provider}\n                  disabled={provider.disabled}\n                />,\n            )}\n          </div>\n          <div className=\"custom\">\n            <button onClick={this.handleCustomProvider}>\n              I have a different email provider\n            </button>\n          </div>\n\n          {!accounts.length &&\n            <div className=\"signout\">\n              <button onClick={signout}>\n                Sign Out\n              </button>\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ConnectProvider;\n"]}]}