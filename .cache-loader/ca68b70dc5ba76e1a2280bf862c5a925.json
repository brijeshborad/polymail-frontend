{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadCell/index.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadCell/index.ts","mtime":1675280254118},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgbGFzdCB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IHNlbGVjdENvbnRhY3QsIGNvbnRhY3RHZXQgfSBmcm9tICdAc3JjL2R1Y2tzL2NvbnRhY3RzJzsKaW1wb3J0IHsgc2VsZWN0VHJhY2ssIHRyYWNrRmV0Y2ggfSBmcm9tICdAc3JjL2R1Y2tzL3RyYWNrcyc7CmltcG9ydCB7IERpc3BsYXlNb2RlIH0gZnJvbSAnQHNyYy90eXBlcyc7CmltcG9ydCBUaHJlYWRDZWxsIGZyb20gJy4vVGhyZWFkQ2VsbCc7CmltcG9ydCB7IHNlbGVjdFRocmVhZFN3aXBlQWN0aW9ucyB9IGZyb20gJ0BzcmMvZHVja3MvbWFpbGJveCc7CmltcG9ydCB7IHNlbGVjdFNoYXJlZFRocmVhZEJ5VGhyZWFkIH0gZnJvbSAnQHNyYy9kdWNrcy9zaGFyZWRUaHJlYWRzJzsKdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZSwgb3duUHJvcHMpIHsKICAgIHZhciBzaGFyZWRUaHJlYWQgPSBzZWxlY3RTaGFyZWRUaHJlYWRCeVRocmVhZChzdGF0ZSwgb3duUHJvcHMudGhyZWFkLmlkKTsKICAgIHZhciBtZW1iZXIgPSBzaGFyZWRUaHJlYWQgJiYgc2hhcmVkVGhyZWFkLmxhc3RBdXRob3IgPwogICAgICAgIHN0YXRlLnRlYW1NZW1iZXJzW3NoYXJlZFRocmVhZC5sYXN0QXV0aG9yXSA6IHVuZGVmaW5lZDsKICAgIGlmIChvd25Qcm9wcy50aHJlYWQubWVzc2FnZXMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGxhc3RTZW50ID0gbGFzdChvd25Qcm9wcy50aHJlYWQubWVzc2FnZXMuZmlsdGVyKGZ1bmN0aW9uIChtZXNzYWdlKSB7IHJldHVybiBtZXNzYWdlLnNlbnQ7IH0pKTsKICAgICAgICB2YXIgdHJhY2sgPSBsYXN0U2VudCAmJiBzZWxlY3RUcmFjayhzdGF0ZSwgb3duUHJvcHMudGhyZWFkLmlkLCBsYXN0U2VudC5pZCk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2VuZGVyOiBzZWxlY3RDb250YWN0KHN0YXRlLCBsYXN0KG93blByb3BzLnRocmVhZC5tZXNzYWdlcykuZnJvbSksCiAgICAgICAgICAgIHRyYWNrOiB0cmFjayA/IHRyYWNrIDogdW5kZWZpbmVkLAogICAgICAgICAgICBtZTogc3RhdGUubWUuZGF0YSwKICAgICAgICAgICAgZmVhdHVyZXM6IHN0YXRlLmZlYXR1cmVzLAogICAgICAgICAgICBhY3Rpb25zOiBzZWxlY3RUaHJlYWRTd2lwZUFjdGlvbnMoc3RhdGUpLAogICAgICAgICAgICBjZWxsV2lkdGg6IHN0YXRlLnRocmVhZExpc3RXaWR0aCwKICAgICAgICAgICAgc2hhcmVkVGhyZWFkOiBzaGFyZWRUaHJlYWQsCiAgICAgICAgICAgIG1lbWJlcjogbWVtYmVyLAogICAgICAgICAgICBjb21wYWN0OiBzdGF0ZS5wcmVmZXJlbmNlcyAmJiBzdGF0ZS5wcmVmZXJlbmNlcy5kaXNwbGF5TW9kZSA9PT0gRGlzcGxheU1vZGUuQ29tcGFjdCwKICAgICAgICB9OwogICAgfQogICAgcmV0dXJuIHsKICAgICAgICBtZTogc3RhdGUubWUuZGF0YSwKICAgICAgICBmZWF0dXJlczogc3RhdGUuZmVhdHVyZXMsCiAgICAgICAgYWN0aW9uczogc2VsZWN0VGhyZWFkU3dpcGVBY3Rpb25zKHN0YXRlKSwKICAgICAgICBjZWxsV2lkdGg6IHN0YXRlLnRocmVhZExpc3RXaWR0aCwKICAgICAgICBzaGFyZWRUaHJlYWQ6IHNoYXJlZFRocmVhZCwKICAgICAgICBtZW1iZXI6IG1lbWJlciwKICAgICAgICBjb21wYWN0OiBzdGF0ZS5wcmVmZXJlbmNlcyAmJiBzdGF0ZS5wcmVmZXJlbmNlcy5kaXNwbGF5TW9kZSA9PT0gRGlzcGxheU1vZGUuQ29tcGFjdCwKICAgIH07Cn07CnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiAoZGlzcGF0Y2gpIHsgcmV0dXJuICh7CiAgICBmZXRjaFRyYWNrOiBmdW5jdGlvbiAodGhyZWFkSWQsIG1lc3NhZ2VJZCkgeyByZXR1cm4gZGlzcGF0Y2godHJhY2tGZXRjaCh7CiAgICAgICAgdGhyZWFkOiB0aHJlYWRJZCwgbWVzc2FnZTogbWVzc2FnZUlkLAogICAgfSkpOyB9LAogICAgZ2V0Q29udGFjdDogZnVuY3Rpb24gKGVtYWlsKSB7IHJldHVybiBkaXNwYXRjaChjb250YWN0R2V0KGVtYWlsKSk7IH0sCn0pOyB9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShUaHJlYWRDZWxsKTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadCell/index.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadCell/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAY,MAAM,aAAa,CAAC;AAChD,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAE9B,OAAO,EAAE,aAAa,EAAE,UAAU,EAAE,MAAM,qBAAqB,CAAC;AAChE,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAA+B,WAAW,EAAE,MAAM,YAAY,CAAC;AACtE,OAAO,UAAgD,MAAM,cAAc,CAAC;AAC5E,OAAO,EAAE,wBAAwB,EAAE,MAAM,oBAAoB,CAAC;AAC9D,OAAO,EAAE,0BAA0B,EAAE,MAAM,0BAA0B,CAAC;AAEtE,IAAM,eAAe,GAAG,UAAC,KAAiB,EAAE,QAAe;IACzD,IAAM,YAAY,GAAG,0BAA0B,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC3E,IAAM,MAAM,GAAG,YAAY,IAAI,YAAY,CAAC,UAAU,CAAC,CAAC;QACpD,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IAE3D,IAAI,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;QACnC,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,IAAI,EAAZ,CAAY,CAAC,CAAC,CAAC;QAChF,IAAM,KAAK,GAAG,QAAQ,IAAI,WAAW,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;QAE9E,OAAO;YACL,MAAM,EAAE,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAE,CAAC,IAAI,CAAC;YAClE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,KAAwB,CAAC,CAAC,CAAC,SAAS;YACnD,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI;YACjB,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,OAAO,EAAE,wBAAwB,CAAC,KAAK,CAAC;YACxC,SAAS,EAAE,KAAK,CAAC,eAAe;YAChC,YAAY,cAAA;YACZ,MAAM,QAAA;YACN,OAAO,EAAE,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,WAAW,CAAC,WAAW,KAAK,WAAW,CAAC,OAAO;SACpF,CAAC;KACH;IAED,OAAO;QACL,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI;QACjB,QAAQ,EAAE,KAAK,CAAC,QAAQ;QACxB,OAAO,EAAE,wBAAwB,CAAC,KAAK,CAAC;QACxC,SAAS,EAAE,KAAK,CAAC,eAAe;QAChC,YAAY,cAAA;QACZ,MAAM,QAAA;QACN,OAAO,EAAE,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,WAAW,CAAC,WAAW,KAAK,WAAW,CAAC,OAAO;KACpF,CAAC;AACJ,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAA8B,IAAoB,OAAA,CAAC;IAC7E,UAAU,EAAE,UAAC,QAAgB,EAAE,SAAiB,IAAK,OAAA,QAAQ,CAAC,UAAU,CAAC;QACvE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS;KACrC,CAAC,CAAC,EAFkD,CAElD;IACH,UAAU,EAAE,UAAC,KAAa,IAAK,OAAA,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAA3B,CAA2B;CAC3D,CAAC,EAL4E,CAK5E,CAAC;AAEH,eAAe,OAAO,CACpB,eAAe,EAAE,kBAAkB,CACpC,CAAC,UAAU,CAAC,CAAC","sourcesContent":["import { connect, Dispatch } from 'react-redux';\nimport { last } from 'lodash';\n\nimport { selectContact, contactGet } from '@src/ducks/contacts';\nimport { selectTrack, trackFetch } from '@src/ducks/tracks';\nimport { StoreState, Track, Resource, DisplayMode } from '@src/types';\nimport ThreadCell, { Props, DispatchProps, StateProps } from './ThreadCell';\nimport { selectThreadSwipeActions } from '@src/ducks/mailbox';\nimport { selectSharedThreadByThread } from '@src/ducks/sharedThreads';\n\nconst mapStateToProps = (state: StoreState, ownProps: Props): StateProps => {\n  const sharedThread = selectSharedThreadByThread(state, ownProps.thread.id);\n  const member = sharedThread && sharedThread.lastAuthor ?\n      state.teamMembers[sharedThread.lastAuthor] : undefined;\n\n  if (ownProps.thread.messages.length) {\n    const lastSent = last(ownProps.thread.messages.filter(message => message.sent));\n    const track = lastSent && selectTrack(state, ownProps.thread.id, lastSent.id);\n\n    return {\n      sender: selectContact(state, last(ownProps.thread.messages)!.from),\n      track: track ? track as Resource<Track> : undefined,\n      me: state.me.data,\n      features: state.features,\n      actions: selectThreadSwipeActions(state),\n      cellWidth: state.threadListWidth,\n      sharedThread,\n      member,\n      compact: state.preferences && state.preferences.displayMode === DisplayMode.Compact,\n    };\n  }\n\n  return {\n    me: state.me.data,\n    features: state.features,\n    actions: selectThreadSwipeActions(state),\n    cellWidth: state.threadListWidth,\n    sharedThread,\n    member,\n    compact: state.preferences && state.preferences.displayMode === DisplayMode.Compact,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<StoreState>): DispatchProps => ({\n  fetchTrack: (threadId: string, messageId: string) => dispatch(trackFetch({\n    thread: threadId, message: messageId,\n  })),\n  getContact: (email: string) => dispatch(contactGet(email)),\n});\n\nexport default connect<StateProps, DispatchProps, Props>(\n  mapStateToProps, mapDispatchToProps,\n)(ThreadCell);\n"]}]}