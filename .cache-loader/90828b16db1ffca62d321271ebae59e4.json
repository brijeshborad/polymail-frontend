{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/Field.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/Field.tsx","mtime":1675280254034},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgU09iamVjdEZpZWxkVHlwZSB9IGZyb20gJ0BzcmMvdHlwZXMvc2FsZXNmb3JjZSc7CmltcG9ydCBFZGl0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9FZGl0LnN2Zyc7CmltcG9ydCBEaXNjbG9zdXJlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9EaXNjbG9zdXJlLnN2Zyc7CmltcG9ydCAnLi9GaWVsZC5zY3NzJzsKaW1wb3J0IFBvcG92ZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL1BvcG92ZXIvUG9wb3Zlcic7CmltcG9ydCBEcm9wZG93bkl0ZW0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vRHJvcGRvd25JdGVtJzsKaW1wb3J0IHsgS2V5Q29kZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwp2YXIgRmllbGQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoRmllbGQsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBGaWVsZCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmNsaWNrRXZlbnQgPSBmYWxzZTsKICAgICAgICBfdGhpcy5oYW5kbGVTdGFydEVkaXRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZWRpdGluZzogdHJ1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUZpbmlzaEVkaXRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZWRpdGluZzogZmFsc2UgfSk7CiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS52YWx1ZSAhPT0gX3RoaXMucHJvcHMuZmllbGQudmFsdWUpIHsKICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKF90aGlzLnByb3BzLm5hbWUsIF90aGlzLnN0YXRlLnZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ2FuY2VsRWRpdGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KTsKICAgICAgICAgICAgX3RoaXMudXBkYXRlVmFsdWUoKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgaGFuZGxlZCA9IGZhbHNlOwogICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBLZXlDb2RlLkVzYykgewogICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2FuY2VsRWRpdGluZygpOwogICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSBLZXlDb2RlLkVudGVyKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVGaW5pc2hFZGl0aW5nKCk7CiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaGFuZGxlZCkgewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUG9wb3ZlclJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3ZlciA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZURyb3Bkb3duQ2xpY2sgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBfdGhpcy5wcm9wcy5maWVsZC5waWNrbGlzdFZhbHVlczsKICAgICAgICAgICAgaWYgKCF2YWx1ZXMpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBpbmRleCAwIGlzICcnIChlbXB0eSBzdHJpbmcpLiBUaGUgcGlja2xpc3QgdmFsdWVzIHN0YXJ0IGF0IGluZGV4IDEKICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gaW5kZXggPT09IDAgPyBudWxsIDogdmFsdWVzW2luZGV4IC0gMV0udmFsdWU7CiAgICAgICAgICAgIC8vIGhpZGUgZHJvcGRvd24KICAgICAgICAgICAgX3RoaXMuaGlkZURyb3Bkb3duKCk7CiAgICAgICAgICAgIC8vIGRvbid0IGFsbG93IHNlbGVjdGluZyBudWxsIGZvciBTdGF0dXMgZmllbGQKICAgICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSBudWxsICYmIF90aGlzLnByb3BzLmZpZWxkLm5hbWUgPT09ICdTdGF0dXMnKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gZW1pdCB1cGRhdGUKICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBfdGhpcy5zdGF0ZS52YWx1ZSkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogbmV3VmFsdWUgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShfdGhpcy5wcm9wcy5uYW1lLCBuZXdWYWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLnNob3dEcm9wZG93biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnBvcG92ZXIpIHsKICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuc2hvdygpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oaWRlRHJvcGRvd24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5wb3BvdmVyKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlSW5wdXRSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIGlmIChyZWYpIHsKICAgICAgICAgICAgICAgIHJlZi5mb2N1cygpOyAvLyBhdXRvZm9jdXMgb24gaW5wdXQKICAgICAgICAgICAgICAgIC8vIGlucHV0IHdpdGggdHlwZSBudW1iZXIgZG9lc24ndCBzdXBwb3J0IHNlbGVjdGlvbgogICAgICAgICAgICAgICAgaWYgKHJlZi50eXBlICE9PSAnbnVtYmVyJykgewogICAgICAgICAgICAgICAgICAgIHJlZi5zZXRTZWxlY3Rpb25SYW5nZShyZWYudmFsdWUubGVuZ3RoLCByZWYudmFsdWUubGVuZ3RoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgLy8gVXNlZCB0byBwcmV2ZW50IGZvY3VzIG9uIGNsaWNrIGV2ZW50cyB3aGVuIHRhYmJhYmxlCiAgICAgICAgX3RoaXMuaGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjbGlja0V2ZW50OiB0cnVlIH0pOwogICAgICAgIH07CiAgICAgICAgLy8gVXNlZCB0byBwcmV2ZW50IGZvY3VzIG9uIGNsaWNrIGV2ZW50cyB3aGVuIHRhYmJhYmxlCiAgICAgICAgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5jbGlja0V2ZW50KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNsaWNrRXZlbnQ6IGZhbHNlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLyBJZiBmaWVsZCBpcyB0YWJiYWJsZSwgdGhlbiBlbmFibGVzIGludGVyYWN0aW9uIG9uIGZvY3VzIGFzIGxvbmcgYXMgbm90IHRyaWdnZXJlZCBieSBjbGljawogICAgICAgIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHRhYmJhYmxlID0gX2EudGFiYmFibGUsIHNpbmdsZUNsaWNrVG9FZGl0ID0gX2Euc2luZ2xlQ2xpY2tUb0VkaXQ7CiAgICAgICAgICAgIHZhciBjbGlja0V2ZW50ID0gX3RoaXMuc3RhdGUuY2xpY2tFdmVudDsKICAgICAgICAgICAgdmFyIGlzUGlja2xpc3QgPSBfdGhpcy5wcm9wcy5maWVsZC50eXBlID09PSBTT2JqZWN0RmllbGRUeXBlLlBpY2tsaXN0OwogICAgICAgICAgICB2YXIgc2hvdWxkRWRpdCA9IHRhYmJhYmxlICYmICghY2xpY2tFdmVudCB8fCBzaW5nbGVDbGlja1RvRWRpdCk7CiAgICAgICAgICAgIGlmICh0YWJiYWJsZSAmJiBzaG91bGRFZGl0KSB7CiAgICAgICAgICAgICAgICBpZiAoaXNQaWNrbGlzdCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dEcm9wZG93bigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlU3RhcnRFZGl0aW5nKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIEZpZWxkLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMudXBkYXRlVmFsdWUoKTsKICAgIH07CiAgICBGaWVsZC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykgewogICAgICAgIGlmIChwcmV2UHJvcHMuZmllbGQudmFsdWUgIT09IHRoaXMucHJvcHMuZmllbGQudmFsdWUpIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpOwogICAgICAgIH0KICAgIH07CiAgICBGaWVsZC5wcm90b3R5cGUudXBkYXRlVmFsdWUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy5maWVsZC5kaXNwbGF5VmFsdWUgfHwgdGhpcy5wcm9wcy5maWVsZC52YWx1ZTsKICAgICAgICBpZiAodGhpcy5wcm9wcy5maWVsZC50eXBlID09PSBTT2JqZWN0RmllbGRUeXBlLkRhdGV0aW1lKSB7CiAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHRoaXMucHJvcHMuZmllbGQudmFsdWUpLmZvcm1hdCgnTS9EL1lZWVknKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTsKICAgIH07CiAgICBGaWVsZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZWRpdGluZykgewogICAgICAgICAgICB2YXIgaW5wdXRUeXBlID0gdGhpcy5wcm9wcy5maWVsZC50eXBlID09PSBTT2JqZWN0RmllbGRUeXBlLkludCB8fAogICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5maWVsZC50eXBlID09PSBTT2JqZWN0RmllbGRUeXBlLkN1cnJlbmN5ID8gJ251bWJlcicgOiAndGV4dCc7CiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCB7IGNsYXNzTmFtZTogInNhbGVzZm9yY2UtZmllbGQiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsIHRoaXMucHJvcHMuZmllbGQuZGlzcGxheU5hbWUpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29udGFpbmVyIGVkaXRpbmciIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidmFsdWUiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIHR5cGU6IGlucHV0VHlwZSwgdmFsdWU6IHRoaXMuc3RhdGUudmFsdWUgPT09IG51bGwgPyAnJyA6IHRoaXMuc3RhdGUudmFsdWUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSwgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sIG9uQmx1cjogdGhpcy5oYW5kbGVGaW5pc2hFZGl0aW5nLCByZWY6IHRoaXMuaGFuZGxlSW5wdXRSZWYgfSkpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGtleTogJ2ZpbmlzaC1lZGl0aW5nLWJ1dHRvbicsIGNsYXNzTmFtZTogImVkaXQtaWNvbiIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlRmluaXNoRWRpdGluZywgdGFiSW5kZXg6IC0xIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXQsIHsgd2lkdGg6ICIxMHB4IiwgaGVpZ2h0OiAiMTBweCIgfSkpKSkpKTsKICAgICAgICB9CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZSAmJiB0aGlzLnByb3BzLmZpZWxkLnR5cGUgPT09ICd1cmwnID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7IGhyZWY6IHRoaXMuc3RhdGUudmFsdWUubWF0Y2goL15odHRwL2dpKSA/IHRoaXMuc3RhdGUudmFsdWUgOiAiaHR0cDovLyIgKyB0aGlzLnN0YXRlLnZhbHVlLCByZWw6ICJub29wZW5lciBub3JlZmVycmVyIiwgdGFyZ2V0OiAiX2JsYW5rIiB9LCB0aGlzLnN0YXRlLnZhbHVlKSkgOiB0aGlzLnN0YXRlLnZhbHVlOwogICAgICAgIGlmICh0aGlzLnByb3BzLmZpZWxkLnVwZGF0YWJsZSkgewogICAgICAgICAgICB2YXIgaXNQaWNrbGlzdCA9IHRoaXMucHJvcHMuZmllbGQudHlwZSA9PT0gU09iamVjdEZpZWxkVHlwZS5QaWNrbGlzdDsKICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMucHJvcHMuZmllbGQucGlja2xpc3RWYWx1ZXM7CiAgICAgICAgICAgIGlmIChpc1BpY2tsaXN0ICYmIHZhbHVlcyAmJiB0aGlzLnN0YXRlLnZhbHVlICE9PSAnJykgewogICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gdmFsdWVzLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdi52YWx1ZSA9PT0gX3RoaXMuc3RhdGUudmFsdWU7IH0pOwogICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpbHRlcmVkWzBdLmRpc3BsYXlWYWx1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgeyBjbGFzc05hbWU6ICJzYWxlc2ZvcmNlLWZpZWxkIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCB0aGlzLnByb3BzLmZpZWxkLmRpc3BsYXlOYW1lKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5maWVsZC51cGRhdGFibGUgPyAnY29udGFpbmVyIGVkaXRhYmxlJyA6ICdjb250YWluZXInLCBvbkNsaWNrOiBpc1BpY2tsaXN0ID8gdGhpcy5zaG93RHJvcGRvd24gOiB1bmRlZmluZWQsIG9uRG91YmxlQ2xpY2s6ICFpc1BpY2tsaXN0ID8gdGhpcy5oYW5kbGVTdGFydEVkaXRpbmcgOiB1bmRlZmluZWQsIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93biwgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZU1vdXNlVXAsIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZVVwLCBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLCB0YWJJbmRleDogMCB9LAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInZhbHVlIiB9LCB2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICFpc1BpY2tsaXN0ICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImVkaXQtaWNvbiIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU3RhcnRFZGl0aW5nIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0LCB7IHdpZHRoOiAiMTBweCIsIGhlaWdodDogIjEwcHgiIH0pKSwKICAgICAgICAgICAgICAgICAgICAgICAgaXNQaWNrbGlzdCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImVkaXQtaWNvbiIsIG9uQ2xpY2s6IHRoaXMuc2hvd0Ryb3Bkb3duIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpc2Nsb3N1cmUsIHsgd2lkdGg6ICIxMHB4IiwgaGVpZ2h0OiAiMTBweCIgfSkpKSwKICAgICAgICAgICAgICAgICAgICBpc1BpY2tsaXN0ICYmCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wb3ZlciwgeyBjbGFzc05hbWU6ICJmb3JtLWRyb3Bkb3duLXBvcG92ZXIiLCByZWY6IHRoaXMuaGFuZGxlUG9wb3ZlclJlZiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93bkl0ZW0sIHsgaW5kZXg6IDAsIHZhbHVlOiAiIiwgb25DbGljazogdGhpcy5oYW5kbGVEcm9wZG93bkNsaWNrIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5maWVsZC5waWNrbGlzdFZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCwgaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duSXRlbSwgeyBrZXk6IHZhbC52YWx1ZSwgaW5kZXg6IGkgKyAxLCB2YWx1ZTogdmFsLmRpc3BsYXlWYWx1ZSwgb25DbGljazogX3RoaXMuaGFuZGxlRHJvcGRvd25DbGljayB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSkpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIHsgY2xhc3NOYW1lOiAic2FsZXNmb3JjZS1maWVsZCIgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCB0aGlzLnByb3BzLmZpZWxkLmRpc3BsYXlOYW1lKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjb250YWluZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ2YWx1ZSIgfSwgdmFsdWUpKSkpKTsKICAgIH07CiAgICByZXR1cm4gRmllbGQ7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBGaWVsZDsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/Field.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/Field.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\n\nimport { SObjectField, SObjectFieldType } from '@src/types/salesforce';\n\nimport Edit from '@src/components/Icons/Edit.svg';\nimport Disclosure from '@src/components/Icons/Disclosure.svg';\n\nimport './Field.scss';\nimport Popover from '@src/components/Popover/Popover';\nimport DropdownItem from '@src/components/Form/DropdownItem';\nimport { KeyCode } from '@src/types';\n\nexport interface Props {\n  name: string;\n  field: SObjectField;\n  onChange: (name: string, value: any) => void;\n\n  tabbable?: boolean;\n  singleClickToEdit?: boolean;\n}\n\ninterface State {\n  editing: boolean;\n  value?: any;\n  clickEvent?: boolean;\n}\n\nclass Field extends React.PureComponent<Props, State> {\n  popover?: Popover;\n  clickEvent: boolean = false;\n\n  constructor() {\n    super();\n    this.state = {\n      editing: false,\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.updateValue();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.field.value !== this.props.field.value) {\n      this.updateValue();\n    }\n  }\n\n  updateValue() {\n    let value = this.props.field.displayValue || this.props.field.value;\n\n    if (this.props.field.type === SObjectFieldType.Datetime) {\n      value = moment(this.props.field.value).format('M/D/YYYY');\n    }\n\n    this.setState({ value });\n  }\n\n  handleStartEditing = () => {\n    this.setState({ editing: true });\n  }\n\n  handleFinishEditing = () => {\n    this.setState({ editing: false });\n    if (this.state.value !== this.props.field.value) {\n      this.props.onChange(this.props.name, this.state.value);\n    }\n  }\n\n  handleCancelEditing = () => {\n    this.setState({ editing: false });\n    this.updateValue();\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n    let handled = false;\n\n    if (e.keyCode === KeyCode.Esc) {\n      this.handleCancelEditing();\n      handled = true;\n    } else if (e.keyCode === KeyCode.Enter) {\n      this.handleFinishEditing();\n      handled = true;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  handleChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ value: e.currentTarget.value });\n  }\n\n  handlePopoverRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  handleDropdownClick = (value: string, index: number) => {\n    const values = this.props.field.picklistValues;\n    if (!values) {\n      return;\n    }\n\n    // index 0 is '' (empty string). The picklist values start at index 1\n    const newValue = index === 0 ? null : values[index - 1].value;\n\n    // hide dropdown\n    this.hideDropdown();\n\n    // don't allow selecting null for Status field\n    if (newValue === null && this.props.field.name === 'Status') {\n      return;\n    }\n\n    // emit update\n    if (newValue !== this.state.value) {\n      this.setState({ value: newValue });\n      this.props.onChange(this.props.name, newValue);\n    }\n  }\n\n  showDropdown = () => {\n    if (this.popover) {\n      this.popover.show();\n    }\n  }\n\n  hideDropdown = () => {\n    if (this.popover) {\n      this.popover.hide();\n    }\n  }\n\n  handleInputRef = (ref: HTMLInputElement) => {\n    if (ref) {\n      ref.focus(); // autofocus on input\n\n      // input with type number doesn't support selection\n      if (ref.type !== 'number') {\n        ref.setSelectionRange(ref.value.length, ref.value.length);\n      }\n    }\n  }\n\n  // Used to prevent focus on click events when tabbable\n  handleMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n    this.setState({ clickEvent: true });\n  }\n\n  // Used to prevent focus on click events when tabbable\n  handleMouseUp = (e: React.MouseEvent<HTMLElement>) => {\n    if (this.state.clickEvent) {\n      this.setState({ clickEvent: false });\n    }\n  }\n\n  // If field is tabbable, then enables interaction on focus as long as not triggered by click\n  handleFocus = (e: React.FocusEvent<HTMLElement>) => {\n    const { tabbable, singleClickToEdit } = this.props;\n    const { clickEvent } = this.state;\n    const isPicklist = this.props.field.type === SObjectFieldType.Picklist;\n    const shouldEdit = tabbable && (!clickEvent || singleClickToEdit);\n\n    if (tabbable && shouldEdit) {\n      if (isPicklist) {\n        this.showDropdown();\n      } else {\n        this.handleStartEditing();\n      }\n    }\n  }\n\n  render() {\n    if (this.state.editing) {\n      const inputType = this.props.field.type === SObjectFieldType.Int ||\n        this.props.field.type === SObjectFieldType.Currency ? 'number' : 'text';\n      return (\n        <tr className=\"salesforce-field\">\n          <th>{this.props.field.displayName}</th>\n          <td>\n            <div className=\"container editing\">\n              <div className=\"value\">\n                  <input\n                    dir=\"auto\"\n                    type={inputType}\n                    value={this.state.value === null ? '' : this.state.value}\n                    onChange={this.handleChange}\n                    onKeyDown={this.handleKeyDown}\n                    onBlur={this.handleFinishEditing}\n                    ref={this.handleInputRef}\n                  />\n              </div>\n              <button\n                key={'finish-editing-button'}\n                className=\"edit-icon\"\n                onClick={this.handleFinishEditing}\n                tabIndex={-1}\n              >\n                <Edit width=\"10px\" height=\"10px\" />\n              </button>\n            </div>\n          </td>\n        </tr>\n      );\n    }\n\n    let value = this.state.value && this.props.field.type === 'url' ? (\n      <a\n        href={this.state.value.match(/^http/gi) ? this.state.value : `http://${this.state.value}`}\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        {this.state.value}\n      </a>\n    ) : this.state.value;\n\n    if (this.props.field.updatable) {\n      const isPicklist = this.props.field.type === SObjectFieldType.Picklist;\n      const values = this.props.field.picklistValues;\n\n      if (isPicklist && values && this.state.value !== '') {\n        const filtered = values.filter(v => v.value === this.state.value);\n        if (filtered.length > 0) {\n          value = filtered[0].displayValue;\n        }\n      }\n\n      return (\n        <tr className=\"salesforce-field\">\n          <th>{this.props.field.displayName}</th>\n          <td>\n            <div\n              className={this.props.field.updatable ? 'container editable' : 'container'}\n              onClick={isPicklist ? this.showDropdown : undefined}\n              onDoubleClick={!isPicklist ? this.handleStartEditing : undefined}\n              onMouseDown={this.handleMouseDown}\n              onMouseUp={this.handleMouseUp}\n              onMouseLeave={this.handleMouseUp}\n              onFocus={this.handleFocus}\n              tabIndex={0}\n            >\n              <div className=\"value\">{value}</div>\n              {!isPicklist &&\n                <button className=\"edit-icon\" onClick={this.handleStartEditing}>\n                  <Edit width=\"10px\" height=\"10px\" />\n                </button>}\n              {isPicklist && <button className=\"edit-icon\" onClick={this.showDropdown}>\n                <Disclosure width=\"10px\" height=\"10px\" />\n              </button>}\n            </div>\n            {isPicklist &&\n              <Popover\n                className=\"form-dropdown-popover\"\n                ref={this.handlePopoverRef}\n              >\n                <DropdownItem index={0} value=\"\" onClick={this.handleDropdownClick} />\n                {this.props.field.picklistValues!.map((val, i) =>\n                  <DropdownItem\n                    key={val.value}\n                    index={i + 1}\n                    value={val.displayValue}\n                    onClick={this.handleDropdownClick}\n                  />,\n                )}\n              </Popover>}\n          </td>\n        </tr>\n      );\n    }\n\n    return (\n      <tr className=\"salesforce-field\">\n        <th>{this.props.field.displayName}</th>\n        <td>\n          <div className=\"container\">\n            <div className=\"value\">{value}</div>\n          </div>\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default Field;\n"]}]}