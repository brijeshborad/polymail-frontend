{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/FormattingBar.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/FormattingBar.tsx","mtime":1675280254003},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyBpc0VtYWlsIH0gZnJvbSAnQHNyYy9saWIvc2VhcmNoJzsKaW1wb3J0IHsgR2l0aHViUGlja2VyIH0gZnJvbSAncmVhY3QtY29sb3InOwppbXBvcnQgSHlwZXJsaW5rSW5wdXQgZnJvbSAnLi9IeXBlcmxpbmtJbnB1dCc7CmltcG9ydCBGb250U2VsZWN0IGZyb20gJy4vRm9udFNlbGVjdC9Gb250U2VsZWN0JzsKaW1wb3J0IEZvbnRTaXplU2VsZWN0IGZyb20gJy4vRm9udFNlbGVjdC9Gb250U2l6ZVNlbGVjdCc7CmltcG9ydCBCb2xkIGZyb20gJy4vSWNvbnMvQm9sZC5zdmcnOwppbXBvcnQgSXRhbGljIGZyb20gJy4vSWNvbnMvSXRhbGljLnN2Zyc7CmltcG9ydCBVbmRlcmxpbmUgZnJvbSAnLi9JY29ucy9VbmRlcmxpbmUuc3ZnJzsKaW1wb3J0IEh5cGVybGluayBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvSHlwZXJsaW5rLnN2Zyc7CmltcG9ydCBPcmRlcmVkTGlzdCBmcm9tICcuL0ljb25zL09yZGVyZWRMaXN0LnN2Zyc7CmltcG9ydCBVbm9yZGVyZWRMaXN0IGZyb20gJy4vSWNvbnMvVW5vcmRlcmVkTGlzdC5zdmcnOwppbXBvcnQgRHJvcHBlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvRHJvcHBlci5zdmcnOwppbXBvcnQgUmVtb3ZlRm9ybWF0dGluZyBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvUmVtb3ZlRm9ybWF0dGluZy5zdmcnOwppbXBvcnQgJy4vRm9ybWF0dGluZ0Jhci5zY3NzJzsKaW1wb3J0IFBvcG92ZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL1BvcG92ZXIvUG9wb3Zlcic7CnZhciBBQ1RJT05TID0gWwogICAgewogICAgICAgIHN0cmluZzogJ2JvbGQnLAogICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm9sZCwgbnVsbCksCiAgICAgICAgYWN0aXZlUHJvcDogJ2JvbGRlZCcsCiAgICB9LAogICAgewogICAgICAgIHN0cmluZzogJ2l0YWxpY3MnLAogICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSXRhbGljLCBudWxsKSwKICAgICAgICBhY3RpdmVQcm9wOiAnaXRhbGljaXplZCcsCiAgICB9LAogICAgewogICAgICAgIHN0cmluZzogJ3VuZGVybGluZScsCiAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChVbmRlcmxpbmUsIG51bGwpLAogICAgICAgIGFjdGl2ZVByb3A6ICd1bmRlcmxpbmVkJywKICAgIH0sCiAgICB7CiAgICAgICAgc3RyaW5nOiAnb3JkZXJlZExpc3QnLAogICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3JkZXJlZExpc3QsIG51bGwpLAogICAgICAgIGFjdGl2ZVByb3A6ICdvcmRlcmVkTGlzdCcsCiAgICB9LAogICAgewogICAgICAgIHN0cmluZzogJ3Vub3JkZXJlZExpc3QnLAogICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVW5vcmRlcmVkTGlzdCwgbnVsbCksCiAgICAgICAgYWN0aXZlUHJvcDogJ3Vub3JkZXJlZExpc3QnLAogICAgfSwKXTsKdmFyIGhleENvbG9ycyA9IFsKICAgICcjRUM0MDI1JywKICAgICcjRjI5NzM3JywKICAgICcjRkVGQTU0JywKICAgICcjNkRGNDRCJywKICAgICcjNkVGOUZEJywKICAgICcjMEIzQ0Y1JywKICAgICcjRUQ1N0Y3JywKICAgICcjODgyRjhEJywKICAgICcjQTM3QjRCJywKICAgICcjRkZGRkZGJywKICAgICcjOTE5MTkxJywKICAgICcjMDAwMDAwJywKXTsKLy8gVE9ETyhTSElOKTogSGFuZGxlIGZvbnQgc2l6ZSByZXNldCB3aGVuIGNoYW5naW5nIHNlbGVjdGlvbgovLyBUT0RPKFNISU4pOiBIYW5kbGUgZm9udCBzZWxlY3QgcmVzZXQgd2hlbiBjaGFuZ2luZyBzZWxlY3Rpb24KdmFyIEZvcm1hdHRpbmdCYXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoRm9ybWF0dGluZ0JhciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIEZvcm1hdHRpbmdCYXIocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLnJnYlRvSGV4ID0gZnVuY3Rpb24gKHJnYikgewogICAgICAgICAgICBpZiAoIXJnYiB8fCAhcmdiLnN0YXJ0c1dpdGgoJ3JnYignKSB8fCAhcmdiLmVuZHNXaXRoKCcpJykpIHsKICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHJnYi5zbGljZSg0LCByZ2IubGVuZ3RoIC0gMSkuc3BsaXQoJywnKTsKICAgICAgICAgICAgcmV0dXJuICcjJyArIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgIHZhciBoZXggPSBwYXJzZUludCh4LCAxMCkudG9TdHJpbmcoMTYpOwogICAgICAgICAgICAgICAgcmV0dXJuIGhleC5sZW5ndGggPT09IDEgPyAnMCcgKyBoZXggOiBoZXg7CiAgICAgICAgICAgIH0pLmpvaW4oJycpLnRvVXBwZXJDYXNlKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy50b2dnbGVIeXBlcmxpbmsgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaHlwZXJsaW5rOiAhX3RoaXMuc3RhdGUuaHlwZXJsaW5rIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5mb250Q29sb3IgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVBY3Rpb25TZWxlY3QgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldCAmJiBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb247CiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdoeXBlcmxpbmsnKSB7CiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVIeXBlcmxpbmsoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYWN0aW9uKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbk9wdGlvblNlbGVjdChhY3Rpb24pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVIeXBlcmxpbmtTdWJtaXQgPSBmdW5jdGlvbiAocmF3SHJlZikgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgc2VsZWN0ZWRUZXh0ID0gX2Euc2VsZWN0ZWRUZXh0LCBvbkhyZWZTdWJtaXQgPSBfYS5vbkhyZWZTdWJtaXQ7CiAgICAgICAgICAgIHZhciBhbmNob3JUZXh0VmFsdWUgPSBzZWxlY3RlZFRleHQgfHwgcmF3SHJlZjsKICAgICAgICAgICAgdmFyIHRyaW1tZWRIcmVmID0gcmF3SHJlZi50cmltKCk7CiAgICAgICAgICAgIF90aGlzLmhhbmRsZUh5cGVybGlua0lucHV0SGlkZSgpOwogICAgICAgICAgICAvLyBDYWxsIGVtcHR5IGhyZWYgdG8gdW5saW5rIGlmIG5vIHZhbHVlIHByb3ZpZGVkCiAgICAgICAgICAgIGlmICh0cmltbWVkSHJlZiA9PT0gJycpIHsKICAgICAgICAgICAgICAgIG9uSHJlZlN1Ym1pdChhbmNob3JUZXh0VmFsdWUpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEFsbG93IGVtYWlscyB0byBiZSBsaW5rZWQKICAgICAgICAgICAgaWYgKGlzRW1haWwodHJpbW1lZEhyZWYpKSB7CiAgICAgICAgICAgICAgICB2YXIgbWFpbHRvSHJlZiA9IHRyaW1tZWRIcmVmLnN0YXJ0c1dpdGgoJ21haWx0bycpID8gdHJpbW1lZEhyZWYgOiAibWFpbHRvOiIgKyB0cmltbWVkSHJlZjsKICAgICAgICAgICAgICAgIG9uSHJlZlN1Ym1pdChhbmNob3JUZXh0VmFsdWUsIG1haWx0b0hyZWYpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEFsbG93IHBob25lIG51bWJlcnMgdG8gYmUgbGlua2VkCiAgICAgICAgICAgIGlmICh0cmltbWVkSHJlZi5zdGFydHNXaXRoKCd0ZWw6JykpIHsKICAgICAgICAgICAgICAgIG9uSHJlZlN1Ym1pdChhbmNob3JUZXh0VmFsdWUsIHRyaW1tZWRIcmVmKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBIYW5kbGUgaWYgdXJsIGFscmVhZHkgaGFzIHByZWZpeAogICAgICAgICAgICBpZiAodHJpbW1lZEhyZWYubGVuZ3RoID49IDggJiYgdHJpbW1lZEhyZWYuc3RhcnRzV2l0aCgnaHR0cCcpKSB7CiAgICAgICAgICAgICAgICBvbkhyZWZTdWJtaXQoYW5jaG9yVGV4dFZhbHVlLCB0cmltbWVkSHJlZik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gUGFzcyBiYWNrIG1vZGlmaWVkIGhyZWYgaWYgbm8gc2NoZW1lIHdhcyBwcm92aWRlZAogICAgICAgICAgICB2YXIgbW9kaWZpZWRIcmVmID0gJ2h0dHA6Ly8nICsgdHJpbW1lZEhyZWY7CiAgICAgICAgICAgIG9uSHJlZlN1Ym1pdChhbmNob3JUZXh0VmFsdWUsIG1vZGlmaWVkSHJlZik7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVIeXBlcmxpbmtUb2dnbGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIF90aGlzLnRvZ2dsZUh5cGVybGluaygpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRm9udENvbG9yU2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLmZvbnRDb2xvcikgewogICAgICAgICAgICAgICAgX3RoaXMuZm9udENvbG9yLnNob3coKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBzdG9yZSByYW5nZSB0byByZXN0b3JlIHNlbGVjdGlvbiBhZnRlciBwb3BvdmVyIGlzIGNsb3NlZAogICAgICAgICAgICAvLyBTYWZhcmkgd2FzIGxvc2luZyB3aGVuIHRoZSBjb2xvciBwb3BvdmVyIHdhcyBjbG9zZWQKICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTsKICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRSYW5nZTogc2VsZWN0aW9uLmdldFJhbmdlQXQoMCkgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLnJlbmRlckh5cGVybGluayA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEh5cGVybGlua0lucHV0LCB7IHNlbGVjdGVkVGV4dDogX3RoaXMucHJvcHMuc2VsZWN0ZWRUZXh0LCBvblN1Ym1pdDogX3RoaXMuaGFuZGxlSHlwZXJsaW5rU3VibWl0LCBvbkhpZGU6IF90aGlzLmhhbmRsZUh5cGVybGlua0lucHV0SGlkZSB9KSk7IH07CiAgICAgICAgX3RoaXMuaGFuZGxlSHlwZXJsaW5rSW5wdXRIaWRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGh5cGVybGluazogZmFsc2UgfSk7CiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uSGlkZSgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ29sb3JDaGFuZ2UgPSBmdW5jdGlvbiAoY29sb3IpIHsKICAgICAgICAgICAgdmFyIG9uRm9udENvbG9yU2VsZWN0ID0gX3RoaXMucHJvcHMub25Gb250Q29sb3JTZWxlY3Q7CiAgICAgICAgICAgIC8vIHJlc3RvcmUgc2F2ZWQgc2VsZWN0aW9uCiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5zZWxlY3RlZFJhbmdlKSB7CiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbikgewogICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTsKICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UoX3RoaXMuc3RhdGUuc2VsZWN0ZWRSYW5nZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb2xvcjogY29sb3IuaGV4IH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9uRm9udENvbG9yU2VsZWN0KGNvbG9yLmhleCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpcy5mb250Q29sb3IuaGlkZSgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ29sb3JSZXNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG9uRm9udENvbG9yUmVzZXQgPSBfdGhpcy5wcm9wcy5vbkZvbnRDb2xvclJlc2V0OwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbG9yOiAnZGVmYXVsdCcgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgb25Gb250Q29sb3JSZXNldCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX3RoaXMuZm9udENvbG9yLmhpZGUoKTsKICAgICAgICB9OwogICAgICAgIC8vIFRPRE8oU0hJTik6IEFkZCByZW1vdmFsIG9mIGNvbG9yIG9uIGRlZmF1bHQgY29sb3IKICAgICAgICBfdGhpcy5yZW5kZXJUb29sYmFyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgY29sb3IgPSBfdGhpcy5zdGF0ZS5jb2xvcjsKICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgd2luZG93LmdldFNlbGVjdGlvbigpOwogICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJhbmdlQ291bnQgJiYgc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7CiAgICAgICAgICAgIHZhciByYW5nZVNlbGVjdGVkID0gcmFuZ2UgJiYgcmFuZ2Uuc3RhcnRPZmZzZXQgIT09IHJhbmdlLmVuZE9mZnNldDsKICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRvb2xiYXIiIH0sCiAgICAgICAgICAgICAgICBBQ1RJT05TLm1hcChmdW5jdGlvbiAoYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgImRhdGEtYWN0aW9uIjogYWN0aW9uLnN0cmluZywgb25DbGljazogX3RoaXMuaGFuZGxlQWN0aW9uU2VsZWN0LCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2FjdGlvbi1idXR0b24nLCBhY3Rpb24uYWN0aXZlUHJvcCAmJiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IF90aGlzLnByb3BzW2FjdGlvbi5hY3RpdmVQcm9wXSwKICAgICAgICAgICAgICAgICAgICAgICAgfSksIGtleTogYWN0aW9uLnN0cmluZywgdGFiSW5kZXg6IC0xIH0sIGFjdGlvbi5pY29uKTsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ2ZXJ0aWNhbC1zZXBhcmF0b3IiIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGb250U2VsZWN0LCB7IG9uU2VsZWN0OiBfdGhpcy5wcm9wcy5vbkZvbnRTZWxlY3QsIHNlbGVjdGVkRm9udEZhbWlseTogX3RoaXMucHJvcHMuc2VsZWN0ZWRGb250RmFtaWx5IH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGb250U2l6ZVNlbGVjdCwgeyBvblNlbGVjdDogX3RoaXMucHJvcHMub25Gb250U2l6ZVNlbGVjdCwgc2VsZWN0ZWRGb250U2l6ZTogX3RoaXMucHJvcHMuc2VsZWN0ZWRGb250U2l6ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidmVydGljYWwtc2VwYXJhdG9yIiB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZm9udC1jb2xvci1jb250YWluZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2ZvbnQtY29sb3ItYnV0dG9uJywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpdGU6IGNvbG9yLnRvTG93ZXJDYXNlKCkgPT09ICcjZmZmZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGNvbG9yID09PSAnZGVmYXVsdCcsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBrZXk6IGNvbG9yLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVGb250Q29sb3JTaG93LCBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3IsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRhYkluZGV4OiAtMSB9LAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERyb3BwZXIsIHsgY2xhc3NOYW1lOiAiZHJvcHBlciIsIGhlaWdodDogIjE2cHgiLCB3aWR0aDogIjE2cHgiIH0pKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBvcG92ZXIsIHsgcmVmOiBfdGhpcy5oYW5kbGVSZWYsIGNsYXNzTmFtZTogImZvbnQtY29sb3ItcG9wb3ZlciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChHaXRodWJQaWNrZXIsIHsgY29sb3I6IGNvbG9yLCBvbkNoYW5nZUNvbXBsZXRlOiBfdGhpcy5oYW5kbGVDb2xvckNoYW5nZSwgY29sb3JzOiBoZXhDb2xvcnMsIHRyaWFuZ2xlOiAiaGlkZSIgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicmVtb3ZlLXNlY3Rpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImRlZmF1bHQtYnV0dG9uIiwgb25DbGljazogX3RoaXMuaGFuZGxlQ29sb3JSZXNldCB9LCAiUmVzZXQgdG8gRGVmYXVsdCIpKSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ2ZXJ0aWNhbC1zZXBhcmF0b3IiIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBfdGhpcy5oYW5kbGVIeXBlcmxpbmtUb2dnbGUsIGNsYXNzTmFtZTogImFjdGlvbi1idXR0b24iLCB0YWJJbmRleDogLTEgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEh5cGVybGluaywgbnVsbCkpLAogICAgICAgICAgICAgICAgISFyYW5nZVNlbGVjdGVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidmVydGljYWwtc2VwYXJhdG9yIiB9KSwKICAgICAgICAgICAgICAgICEhcmFuZ2VTZWxlY3RlZCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImFjdGlvbi1idXR0b24iLCBvbkNsaWNrOiBfdGhpcy5wcm9wcy5vblJlbW92ZUZvcm1hdHRpbmcgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlbW92ZUZvcm1hdHRpbmcsIG51bGwpKSkpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIGh5cGVybGluazogZmFsc2UsCiAgICAgICAgICAgIGNvbG9yOiBfdGhpcy5yZ2JUb0hleChwcm9wcy5zZWxlY3RlZEZvbnRDb2xvcikgfHwgJ2RlZmF1bHQnLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgRm9ybWF0dGluZ0Jhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGZvcmNlSHlwZXJsaW5rID0gX2EuZm9yY2VIeXBlcmxpbmssIGNlbnRlciA9IF9hLmNlbnRlcjsKICAgICAgICB2YXIgaHlwZXJsaW5rID0gdGhpcy5zdGF0ZS5oeXBlcmxpbms7CiAgICAgICAgdmFyIHNob3dIeXBlcmxpbmsgPSBoeXBlcmxpbmsgfHwgZm9yY2VIeXBlcmxpbms7CiAgICAgICAgLy8gUmVjYWxjdWxhdGUgcG9zaXRpb25pbmcKICAgICAgICB2YXIgdG9wID0gY2VudGVyLnk7CiAgICAgICAgdG9wID0gdG9wIC0gNDA7CiAgICAgICAgdmFyIHdpZHRoID0gMzQ1OwogICAgICAgIHZhciBsZWZ0ID0gY2VudGVyLnggLSB3aWR0aCAvIDI7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNvbXBvc2UtZm9ybWF0dGluZy1iYXIiIH0sCiAgICAgICAgICAgIHRoaXMucmVuZGVyVG9vbGJhcigpLAogICAgICAgICAgICBzaG93SHlwZXJsaW5rICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImh5cGVybGluay1wb3BvdmVyIiwgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoICsgInB4IiwKICAgICAgICAgICAgICAgIH0gfSwgdGhpcy5yZW5kZXJIeXBlcmxpbmsoKSkpKSk7CiAgICB9OwogICAgcmV0dXJuIEZvcm1hdHRpbmdCYXI7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBGb3JtYXR0aW5nQmFyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/FormattingBar.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/FormattingBar.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\n\nimport { isEmail } from '@src/lib/search';\nimport { GithubPicker, ColorResult } from 'react-color';\nimport { Point } from './ContentEditable';\nimport HyperlinkInput from './HyperlinkInput';\nimport FontSelect from './FontSelect/FontSelect';\nimport FontSizeSelect from './FontSelect/FontSizeSelect';\n\nimport Bold from './Icons/Bold.svg';\nimport Italic from './Icons/Italic.svg';\nimport Underline from './Icons/Underline.svg';\nimport Hyperlink from '@src/components/Icons/Hyperlink.svg';\nimport OrderedList from './Icons/OrderedList.svg';\nimport UnorderedList from './Icons/UnorderedList.svg';\nimport Dropper from '@src/components/Icons/Dropper.svg';\nimport RemoveFormatting from '@src/components/Icons/RemoveFormatting.svg';\n\nimport './FormattingBar.scss';\nimport Popover from '@src/components/Popover/Popover';\n\ninterface Props {\n  onOptionSelect: (key: string) => void;\n  center: Point;\n  onHrefSubmit: (selectedText: string, href?: string) => void;\n  onFontSelect: (value: string) => void;\n  onFontSizeSelect: (value: string) => void;\n  onFontColorSelect: (value: string) => void;\n  onFontColorReset: () => void;\n  onRemoveFormatting: () => void;\n  onHide: () => void;\n\n  selectedText?: string;\n  underlined?: boolean;\n  bolded?: boolean;\n  italicized?: boolean;\n  orderedList?: boolean;\n  unorderedList?: boolean;\n  forceHyperlink?: boolean;\n  selectedFontSize?: string;\n  selectedFontFamily?: string;\n  selectedFontColor?: string;\n}\n\nconst ACTIONS = [\n  {\n    string: 'bold',\n    icon: <Bold />,\n    activeProp: 'bolded',\n  },\n  {\n    string: 'italics',\n    icon: <Italic />,\n    activeProp: 'italicized',\n  },\n  {\n    string: 'underline',\n    icon: <Underline />,\n    activeProp: 'underlined',\n  },\n  {\n    string: 'orderedList',\n    icon: <OrderedList />,\n    activeProp: 'orderedList',\n  },\n  {\n    string: 'unorderedList',\n    icon: <UnorderedList />,\n    activeProp: 'unorderedList',\n  },\n];\n\ninterface State {\n  hyperlink: boolean;\n  color: string;\n  selectedRange?: Range;\n}\n\nconst hexColors = [\n  '#EC4025',\n  '#F29737',\n  '#FEFA54',\n  '#6DF44B',\n  '#6EF9FD',\n  '#0B3CF5',\n  '#ED57F7',\n  '#882F8D',\n  '#A37B4B',\n  '#FFFFFF',\n  '#919191',\n  '#000000',\n];\n\n// TODO(SHIN): Handle font size reset when changing selection\n// TODO(SHIN): Handle font select reset when changing selection\nclass FormattingBar extends React.PureComponent<Props, State> {\n  private fontColor: Popover;\n\n  constructor(props: Props) {\n    super();\n\n    this.state = {\n      hyperlink: false,\n      color: this.rgbToHex(props.selectedFontColor) || 'default',\n    };\n  }\n\n  rgbToHex = (rgb: string|undefined) => {\n    if (!rgb || !rgb.startsWith('rgb(') || !rgb.endsWith(')')) {\n      return undefined;\n    }\n\n    const values = rgb.slice(4, rgb.length - 1).split(',');\n    return '#' + values.map((x) => {\n      const hex = parseInt(x, 10).toString(16);\n      return hex.length === 1 ? '0' + hex : hex;\n    }).join('').toUpperCase();\n  }\n\n  toggleHyperlink = () => {\n    this.setState({ hyperlink: !this.state.hyperlink });\n  }\n\n  handleRef = (ref: Popover) => {\n    this.fontColor = ref;\n  }\n\n  handleActionSelect = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    const action  = e.currentTarget.dataset && e.currentTarget.dataset.action;\n\n    if (action === 'hyperlink') {\n      this.toggleHyperlink();\n      return;\n    }\n\n    if (action) {\n      this.props.onOptionSelect(action);\n    }\n  }\n\n  handleHyperlinkSubmit = (rawHref: string) => {\n    const { selectedText, onHrefSubmit } = this.props;\n    const anchorTextValue = selectedText || rawHref;\n    const trimmedHref = rawHref.trim();\n\n    this.handleHyperlinkInputHide();\n\n    // Call empty href to unlink if no value provided\n    if (trimmedHref === '') {\n      onHrefSubmit(anchorTextValue);\n      return;\n    }\n\n    // Allow emails to be linked\n    if (isEmail(trimmedHref)) {\n      const mailtoHref = trimmedHref.startsWith('mailto') ? trimmedHref : `mailto:${trimmedHref}`;\n      onHrefSubmit(anchorTextValue, mailtoHref);\n      return;\n    }\n\n    // Allow phone numbers to be linked\n    if (trimmedHref.startsWith('tel:')) {\n      onHrefSubmit(anchorTextValue, trimmedHref);\n      return;\n    }\n\n    // Handle if url already has prefix\n    if (trimmedHref.length >= 8 && trimmedHref.startsWith('http')) {\n      onHrefSubmit(anchorTextValue, trimmedHref);\n      return;\n    }\n\n    // Pass back modified href if no scheme was provided\n    const modifiedHref = 'http://' + trimmedHref;\n    onHrefSubmit(anchorTextValue, modifiedHref);\n  }\n\n  handleHyperlinkToggle = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.toggleHyperlink();\n  }\n\n  handleFontColorShow = () => {\n    if (this.fontColor) {\n      this.fontColor.show();\n    }\n\n    // store range to restore selection after popover is closed\n    // Safari was losing when the color popover was closed\n    const selection = window.getSelection();\n    if (selection && selection.rangeCount > 0) {\n      this.setState({ selectedRange: selection.getRangeAt(0) });\n    }\n  }\n\n  renderHyperlink = () => (\n    <HyperlinkInput\n      selectedText={this.props.selectedText}\n      onSubmit={this.handleHyperlinkSubmit}\n      onHide={this.handleHyperlinkInputHide}\n    />\n  )\n\n  handleHyperlinkInputHide = () => {\n    this.setState({ hyperlink: false });\n    this.props.onHide();\n  }\n\n  handleColorChange = (color: ColorResult) => {\n    const { onFontColorSelect } = this.props;\n\n    // restore saved selection\n    if (this.state.selectedRange) {\n      const selection = window.getSelection();\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(this.state.selectedRange);\n      }\n    }\n\n    this.setState({ color: color.hex }, () => {\n      onFontColorSelect(color.hex);\n    });\n    this.fontColor.hide();\n  }\n\n  handleColorReset = () => {\n    const { onFontColorReset } = this.props;\n    this.setState({ color: 'default' }, () => {\n      onFontColorReset();\n    });\n    this.fontColor.hide();\n  }\n\n  // TODO(SHIN): Add removal of color on default color\n  renderToolbar = () => {\n    const { color } = this.state;\n    const selection = window.getSelection && window.getSelection();\n    const range = selection && selection.rangeCount && selection.getRangeAt(0);\n    const rangeSelected = range && range.startOffset !== range.endOffset;\n\n    return (\n      <div className=\"toolbar\">\n        {ACTIONS.map(action =>\n          <button\n            data-action={action.string}\n            onClick={this.handleActionSelect}\n            className={\n              classnames(\n                'action-button',\n                action.activeProp && {\n                  active: this.props[action.activeProp],\n                })\n            }\n            key={action.string}\n            tabIndex={-1}\n          >\n            {action.icon}\n          </button>)}\n        <div className=\"vertical-separator\" />\n        <FontSelect\n          onSelect={this.props.onFontSelect}\n          selectedFontFamily={this.props.selectedFontFamily}\n        />\n        <FontSizeSelect\n          onSelect={this.props.onFontSizeSelect}\n          selectedFontSize={this.props.selectedFontSize}\n        />\n        <div className=\"vertical-separator\" />\n        <div className=\"font-color-container\">\n          <button\n            className={classnames('font-color-button', {\n              white: color.toLowerCase() === '#ffffff',\n              default: color === 'default',\n            })}\n            key={color}\n            onClick={this.handleFontColorShow}\n            style={{\n              background: color,\n            }}\n            tabIndex={-1}\n          >\n            <Dropper className=\"dropper\" height=\"16px\" width=\"16px\" />\n          </button>\n          <Popover\n            ref={this.handleRef}\n            className=\"font-color-popover\"\n          >\n            <GithubPicker\n              color={color}\n              onChangeComplete={this.handleColorChange}\n              colors={hexColors}\n              triangle=\"hide\"\n            />\n            <div className=\"remove-section\">\n              <button\n                className=\"default-button\"\n                onClick={this.handleColorReset}\n              >\n                Reset to Default\n              </button>\n            </div>\n          </Popover>\n        </div>\n        <div className=\"vertical-separator\" />\n        <button\n          onClick={this.handleHyperlinkToggle}\n          className=\"action-button\"\n          tabIndex={-1}\n        >\n          <Hyperlink />\n        </button>\n        {!!rangeSelected && <div className=\"vertical-separator\" />}\n        {!!rangeSelected && <button\n          className=\"action-button\"\n          onClick={this.props.onRemoveFormatting}\n        >\n          <RemoveFormatting />\n        </button>}\n      </div>\n    );\n  }\n\n  render() {\n    const { forceHyperlink, center } = this.props;\n    const { hyperlink } = this.state;\n    const showHyperlink = hyperlink || forceHyperlink;\n\n    // Recalculate positioning\n    let top = center.y;\n    top = top - 40;\n    const width = 345;\n    const left = center.x - width / 2;\n\n    return (\n      <div\n        className=\"compose-formatting-bar\"\n      >\n        {this.renderToolbar()}\n        {showHyperlink && (\n          <div\n            className=\"hyperlink-popover\"\n            style={{\n              top: `${top}px`,\n              left: `${left}px`,\n              width: `${width}px`,\n            }}\n          >\n            {this.renderHyperlink()}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default FormattingBar;\n"]}]}