{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/System/System.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/System/System.tsx","mtime":1675280253999},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBDb250cm9sUG9wb3ZlciBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRyb2xQb3BvdmVyJzsKaW1wb3J0IHsgQ29tbWFuZENvbnRyb2xUeXBlLCBUaHJlYWRCb3gsIFVuc3Vic2NyaWJlQmVoYXZpb3IsIE9uYm9hcmRpbmdUeXBlLCB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgeyB0aHJlYWRDb21taXRzU3VibWl0IH0gZnJvbSAnQHNyYy9kdWNrcy90aHJlYWRzJzsKaW1wb3J0IHsgaG90a2V5c1R5cGVhaGVhZCwgSG90a2V5QWN0aW9uLCBnZXRIb3RrZXlCeU5hbWUsIH0gZnJvbSAnQHNyYy9saWIvaG90a2V5cyc7CmltcG9ydCAnLi9TeXN0ZW0uc2Nzcyc7CmltcG9ydCB7IGhvdGtleVVwZGF0ZSB9IGZyb20gJ0BzcmMvZHVja3MvaG90a2V5cyc7CmltcG9ydCB7IHJlY29yZEV2ZW50LCBVc2VyRXZlbnRzIH0gZnJvbSAnQHNyYy9saWIvYW5hbHl0aWNzJzsKaW1wb3J0IEtleWJvYXJkU3ltYm9sIGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYXNlL0tleWJvYXJkU3ltYm9sL0tleWJvYXJkU3ltYm9sJzsKaW1wb3J0IGJyb3dzZXJIaXN0b3J5IGZyb20gJ0BzcmMvbGliL2Jyb3dzZXJIaXN0b3J5JzsKaW1wb3J0IHsgY29tbWFuZENvbnRyb2xIaWRlLCBjb21tYW5kQ29udHJvbFNob3cgfSBmcm9tICdAc3JjL2R1Y2tzL2NvbW1hbmRDb250cm9sJzsKaW1wb3J0IHsgbGFzdCB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IHNoYXJlZFRocmVhZENyZWF0ZSB9IGZyb20gJ0BzcmMvZHVja3Mvc2hhcmVkVGhyZWFkcyc7CmltcG9ydCB7IHNoYXJlTGlua0NyZWF0ZSB9IGZyb20gJ0BzcmMvZHVja3Mvc2hhcmVMaW5rcyc7CmltcG9ydCB7IFNoYXJlZFRocmVhZFBlcm1pc3Npb25TY29wZSB9IGZyb20gJ0BzcmMvdHlwZXMvc2hhcmVkVGhyZWFkcyc7CmltcG9ydCB7IFJpZ2h0U2lkZWJhclRhYiB9IGZyb20gJ0BzcmMvdHlwZXMvcmlnaHRTaWRlYmFyJzsKaW1wb3J0IHsgcmlnaHRTaWRlYmFyVGFiU2VsZWN0IH0gZnJvbSAnQHNyYy9kdWNrcy9yaWdodFNpZGViYXInOwppbXBvcnQgeyB0b2FzdFNldCwgQ29uZmlybWF0aW9uRXJyb3IgfSBmcm9tICdAc3JjL2R1Y2tzL3RvYXN0cyc7CmltcG9ydCB7IG9uYm9hcmRpbmdQYXRjaCB9IGZyb20gJ0BzcmMvZHVja3MvbWUnOwppbXBvcnQgeyBnZXRPbmJvYXJkaW5nQWN0aW9ucyB9IGZyb20gJ0BzcmMvbGliL09uYm9hcmRpbmdEaXNwYXRjaGVyJzsKaW1wb3J0IHsgem9vbU1lZXRpbmdDcmVhdGUgfSBmcm9tICdAc3JjL2R1Y2tzL3pvb20nOwp2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFN5c3RlbSwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIFN5c3RlbShwcm9wcykgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuZmlsdGVyUmVzdWx0ID0gZnVuY3Rpb24gKGhvdGtleSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgZmVhdHVyZXMgPSBfYS5mZWF0dXJlcywgc2VsZWN0ZWRUaHJlYWQgPSBfYS5zZWxlY3RlZFRocmVhZCwgYmxvY2tGaWx0ZXIgPSBfYS5ibG9ja0ZpbHRlcjsKICAgICAgICAgICAgaWYgKGZlYXR1cmVzKSB7CiAgICAgICAgICAgICAgICBpZiAoIWZlYXR1cmVzLmZvbGxvd1VwICYmIGhvdGtleS5uYW1lID09PSBIb3RrZXlBY3Rpb24uTmF2aWdhdGVGb2xsb3dVcCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghZmVhdHVyZXMuc2VuZExhdGVyICYmCiAgICAgICAgICAgICAgICAgICAgaG90a2V5Lm5hbWUgPT09IEhvdGtleUFjdGlvbi5OYXZpZ2F0ZVNlbmRMYXRlcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghZmVhdHVyZXMubWVzc2FnZVRlbXBsYXRlcyAmJgogICAgICAgICAgICAgICAgICAgIGhvdGtleS5uYW1lID09PSBIb3RrZXlBY3Rpb24uTWVzc2FnZVRlbXBsYXRlcykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIERvIG5vdCBzaG93IHJlbW92ZSBmb2xsb3cgdXAgaWYgd2FpdGluZyBkb2VzIG5vdCBleGlzdCBvbiB0aHJlYWQKICAgICAgICAgICAgICAgIHZhciB3YWl0aW5nRXhpc3RzID0gc2VsZWN0ZWRUaHJlYWQgJiYgISFzZWxlY3RlZFRocmVhZC53YWl0aW5nOwogICAgICAgICAgICAgICAgaWYgKCF3YWl0aW5nRXhpc3RzICYmIGhvdGtleS5uYW1lID09PSBIb3RrZXlBY3Rpb24uQ2FuY2VsRm9sbG93dXApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc2hvdyB0aHJlYWQgYWN0aW9ucyB3aGVuIHRocmVhZCBpcyBub3Qgc2VsZWN0ZWQKICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWRUaHJlYWQgJiYgaG90a2V5LnNjb3BlID09PSBDb21tYW5kQ29udHJvbFR5cGUuU3lzdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEhhbmRsZSBmaWx0ZXJpbmcgZm9yIE11dGUvVW5tdXRlIENvbnZlcnNhdGlvbgogICAgICAgICAgICBzd2l0Y2ggKGhvdGtleS5uYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5NdXRlQ29udmVyc2F0aW9uOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFRocmVhZCAmJiAhc2VsZWN0ZWRUaHJlYWQubXV0ZWQgfHwgZmFsc2U7CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5Vbm11dGVDb252ZXJzYXRpb246CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkVGhyZWFkICYmICEhc2VsZWN0ZWRUaHJlYWQubXV0ZWQgfHwgZmFsc2U7CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5CbG9ja1NlbmRlcjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWJsb2NrRmlsdGVyOwogICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uVW5ibG9ja1NlbmRlcjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFibG9ja0ZpbHRlcjsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBob3RrZXkuc2NvcGUgIT09IENvbW1hbmRDb250cm9sVHlwZS5EcmFmdDsKICAgICAgICB9OwogICAgICAgIF90aGlzLnJlbmRlck9wdGlvbkRlc2MgPSBmdW5jdGlvbiAoZGVzYykgewogICAgICAgICAgICByZXR1cm4gZGVzYy5zcGxpdCgnKycpLm1hcChmdW5jdGlvbiAoYywgaSkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmRTeW1ib2wsIHsga2V5OiBjICsgIi0iICsgaSwgY2hhcmFjdGVyOiBjIH0pKTsgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBvcHRpb25zOiBob3RrZXlzVHlwZWFoZWFkKHZhbHVlKQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGhvdGtleSkgeyByZXR1cm4gX3RoaXMuZmlsdGVyUmVzdWx0KGhvdGtleSk7IH0pCiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaG90a2V5KSB7IHJldHVybiAoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBob3RrZXkubmFtZSwKICAgICAgICAgICAgICAgICAgICBkZXNjOiBob3RrZXkudGV4dCwKICAgICAgICAgICAgICAgIH0pOyB9KSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3QgPSBmdW5jdGlvbiAob3B0aW9uLCBpbmRleCkgewogICAgICAgICAgICB2YXIgX2EsIF9iOwogICAgICAgICAgICB2YXIgX2MgPSBfdGhpcy5wcm9wcywgZGlzcGF0Y2hBY3Rpb24gPSBfYy5kaXNwYXRjaEFjdGlvbiwgc2VsZWN0ZWRNYWlsYm94ID0gX2Muc2VsZWN0ZWRNYWlsYm94LCBzZWxlY3RlZFRocmVhZCA9IF9jLnNlbGVjdGVkVGhyZWFkLCB1bnN1YnNjcmliZUxpbmsgPSBfYy51bnN1YnNjcmliZUxpbmssIHByZWZlcmVuY2VzID0gX2MucHJlZmVyZW5jZXMsIHNoYXJlZFRocmVhZCA9IF9jLnNoYXJlZFRocmVhZCwgcnNiT25ib2FyZGluZyA9IF9jLnJzYk9uYm9hcmRpbmc7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IF90aGlzLnN0YXRlLm9wdGlvbnNbaW5kZXhdOwogICAgICAgICAgICBpZiAoIXNlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gSGFuZGxlIHNlbGVjdGVkIGhvdGtleQogICAgICAgICAgICB2YXIgaG90a2V5ID0gZ2V0SG90a2V5QnlOYW1lKHNlbGVjdGVkLnRpdGxlKTsKICAgICAgICAgICAgaWYgKGhvdGtleSkgewogICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRocmVhZCBtb3ZlcwogICAgICAgICAgICAgICAgc3dpdGNoIChob3RrZXkubmFtZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLktleWJvYXJkU2hvcnRjdXRHdWlkZToKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hBY3Rpb24ocmlnaHRTaWRlYmFyVGFiU2VsZWN0KHsgcnNiVGFiOiBSaWdodFNpZGViYXJUYWIuS2V5Ym9hcmRTaG9ydGN1dCB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5ab29tQ3JlYXRlTWVldGluZzoKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hBY3Rpb24oem9vbU1lZXRpbmdDcmVhdGUobnVsbCkpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5DcmVhdGVTaGFyZUxpbms6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uU2hhcmVUb1NsYWNrOgogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLlNoYXJlVG9Bc2FuYToKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIG9uYm9hcmRpbmcgaWYgbWF0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzYk9uYm9hcmRpbmcgPT09IE9uYm9hcmRpbmdUeXBlLlNoYXJlVGhyZWFkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEFjdGlvbihvbmJvYXJkaW5nUGF0Y2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHsgc3RlcHM6IChfYSA9IHt9LCBfYVtPbmJvYXJkaW5nVHlwZS5TaGFyZVRocmVhZF0gPSB0cnVlLCBfYSkgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBnZXRPbmJvYXJkaW5nQWN0aW9ucygpLm5leHQoT25ib2FyZGluZ1R5cGUuU2hhcmVUaHJlYWQpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgU2xhY2sgU2V0dXAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvdGtleS5uYW1lID09PSBIb3RrZXlBY3Rpb24uU2hhcmVUb1NsYWNrICYmICFfdGhpcy5wcm9wcy5zbGFja0VuYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zZXR0aW5ncy9pbnRlZ3JhdGlvbnMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoQWN0aW9uKGNvbW1hbmRDb250cm9sSGlkZSh1bmRlZmluZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgQXNhbmEgU2V0dXAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvdGtleS5uYW1lID09PSBIb3RrZXlBY3Rpb24uU2hhcmVUb0FzYW5hICYmICFfdGhpcy5wcm9wcy5hc2FuYUVuYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zZXR0aW5ncy9pbnRlZ3JhdGlvbnMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoQWN0aW9uKGNvbW1hbmRDb250cm9sSGlkZSh1bmRlZmluZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc2hhcmUgbGluayBmb3IgbGFzdCBtZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0TWVzc2FnZSA9IHNlbGVjdGVkVGhyZWFkICYmIGxhc3Qoc2VsZWN0ZWRUaHJlYWQubWVzc2FnZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRUaHJlYWQgJiYgbGFzdE1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBlaXRoZXIgY3JlYXRpb24gb2Ygc2hhcmVkIHRocmVhZCBvciBzaGFyZSBsaW5rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNoYXJlZFRocmVhZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoQWN0aW9uKHNoYXJlZFRocmVhZENyZWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZDogc2VsZWN0ZWRUaHJlYWQuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogU2hhcmVkVGhyZWFkUGVybWlzc2lvblNjb3BlLlB1YmxpYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEFjdGlvbihzaGFyZUxpbmtDcmVhdGUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZWRUaHJlYWQ6IHNoYXJlZFRocmVhZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uU2hvd0FjdGl2aXR5RmVlZDoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzYk9uYm9hcmRpbmcgJiYgcnNiT25ib2FyZGluZyA9PT0gT25ib2FyZGluZ1R5cGUuQWN0aXZpdHlGZWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEFjdGlvbihvbmJvYXJkaW5nUGF0Y2goeyBza2lwcGVkOiBmYWxzZSwgdHlwZTogKF9iID0ge30sIF9iW09uYm9hcmRpbmdUeXBlLkFjdGl2aXR5RmVlZF0gPSB0cnVlLCBfYikgfSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLkNhbmNlbEZvbGxvd3VwOgogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLk1hcmtBc1NwYW06CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uQXJjaGl2ZToKICAgICAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5UcmFzaDoKICAgICAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5JbmJveDoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlTW92ZUFjdGlvbihob3RrZXkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uVG9nZ2xlU3RhcjoKICAgICAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5Ub2dnbGVVbnJlYWQ6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uVW5tdXRlQ29udmVyc2F0aW9uOgogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLk11dGVDb252ZXJzYXRpb246CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUZsYWdBY3Rpb24oaG90a2V5KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLlVuZG86CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3RrZXkuYWN0aW9uICYmIHNlbGVjdGVkTWFpbGJveCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hBY3Rpb24oaG90a2V5LmFjdGlvbihzZWxlY3RlZE1haWxib3gpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uVG9nZ2xlQ29tbWFuZENvbnRyb2w6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3BvdmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgLy8gQ3VzdG9tIGhhbmRsaW5nIGZvciBUaHJlYWQgQWN0aW9ucyB3aGVuIG5vIHNlbGVjdGlvbgogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLlJlcGx5OgogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLlJlcGx5QWxsOgogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLkxhYmVsOgogICAgICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLlJlYWRMYXRlcjoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRlZmF1bHQgYWN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3RrZXkuYWN0aW9uICYmIHNlbGVjdGVkVGhyZWFkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEFjdGlvbihob3RrZXkuYWN0aW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uVW5ibG9ja1NlbmRlcjoKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hBY3Rpb24oaG90a2V5VXBkYXRlKEhvdGtleUFjdGlvbi5VbmJsb2NrU2VuZGVyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5CbG9ja1NlbmRlcjoKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hBY3Rpb24oaG90a2V5VXBkYXRlKEhvdGtleUFjdGlvbi5CbG9ja1NlbmRlcikpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uVW5zdWJzY3JpYmU6CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByZW1vdmluZyBmcm9tIGxpc3QgYnkgZGlzcGF0Y2hpbmcgYWN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFRocmVhZCAmJiB1bnN1YnNjcmliZUxpbmsgJiYgcHJlZmVyZW5jZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocHJlZmVyZW5jZXMudW5zdWJzY3JpYmVCZWhhdmlvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVW5zdWJzY3JpYmVCZWhhdmlvci5BcmNoaXZlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEFjdGlvbih0aHJlYWRDb21taXRzU3VibWl0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZVJlc291cmNlOiBzZWxlY3RlZFRocmVhZC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveDogVGhyZWFkQm94LkFyY2hpdmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBVbnN1YnNjcmliZUJlaGF2aW9yLlRyYXNoOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEFjdGlvbih0aHJlYWRDb21taXRzU3VibWl0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZVJlc291cmNlOiBzZWxlY3RlZFRocmVhZC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveDogVGhyZWFkQm94LlRyYXNoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3BlbiB1bnN1YnNjcmliZSB3aW5kb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHVuc3Vic2NyaWJlTGluaywgJ19ibGFuaycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkRXZlbnQoVXNlckV2ZW50cy5VbnN1YnNjcmliZWQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5Db3B5U2NoZWR1bGluZ1VybDoKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hBY3Rpb24oY29tbWFuZENvbnRyb2xTaG93KENvbW1hbmRDb250cm9sVHlwZS5TY2hlZHVsaW5nUGFnZXMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRlZmF1bHQgYWN0aW9uCiAgICAgICAgICAgICAgICBpZiAoaG90a2V5LmFjdGlvbikgewogICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoQWN0aW9uKGhvdGtleS5hY3Rpb24pOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBob3RrZXkgdXBkYXRlCiAgICAgICAgICAgICAgICBkaXNwYXRjaEFjdGlvbihob3RrZXlVcGRhdGUoaG90a2V5Lm5hbWUpKTsKICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByb3V0ZSBjaGFuZ2UKICAgICAgICAgICAgICAgIGlmIChob3RrZXkucm91dGUgJiYgc2VsZWN0ZWRNYWlsYm94KSB7CiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChob3RrZXkucm91dGUoc2VsZWN0ZWRNYWlsYm94KSk7CiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hBY3Rpb24oY29tbWFuZENvbnRyb2xIaWRlKHVuZGVmaW5lZCkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRmxhZ0FjdGlvbiA9IGZ1bmN0aW9uIChob3RrZXkpIHsKICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGhyZWFkID0gX3RoaXMucHJvcHMuc2VsZWN0ZWRUaHJlYWQ7CiAgICAgICAgICAgIGlmICghc2VsZWN0ZWRUaHJlYWQpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgY29tbWl0TWV0YSA9IHt9OwogICAgICAgICAgICBzd2l0Y2ggKGhvdGtleS5uYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5Ub2dnbGVTdGFyOgogICAgICAgICAgICAgICAgICAgIGNvbW1pdE1ldGEgPSB7IHN0YXJyZWQ6ICFzZWxlY3RlZFRocmVhZC5zdGFycmVkIH07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5Ub2dnbGVVbnJlYWQ6CiAgICAgICAgICAgICAgICAgICAgY29tbWl0TWV0YSA9IHsgcmVhZDogIXNlbGVjdGVkVGhyZWFkLnJlYWQgfTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLk11dGVDb252ZXJzYXRpb246CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5Vbm11dGVDb252ZXJzYXRpb246CiAgICAgICAgICAgICAgICAgICAgY29tbWl0TWV0YSA9IHsgc2luZ2xlUmVzb3VyY2U6IHNlbGVjdGVkVGhyZWFkLmlkLCBtdXRlZDogIXNlbGVjdGVkVGhyZWFkLm11dGVkIH07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjb21taXRNZXRhKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5kaXNwYXRjaEFjdGlvbih0aHJlYWRDb21taXRzU3VibWl0KGNvbW1pdE1ldGEpKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTW92ZUFjdGlvbiA9IGZ1bmN0aW9uIChob3RrZXkpIHsKICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGhyZWFkID0gX3RoaXMucHJvcHMuc2VsZWN0ZWRUaHJlYWQ7CiAgICAgICAgICAgIGlmICghc2VsZWN0ZWRUaHJlYWQpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgY29tbWl0TWV0YSA9IHt9OwogICAgICAgICAgICBzd2l0Y2ggKGhvdGtleS5uYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5DYW5jZWxGb2xsb3d1cDoKICAgICAgICAgICAgICAgICAgICBjb21taXRNZXRhID0geyBzaW5nbGVSZXNvdXJjZTogc2VsZWN0ZWRUaHJlYWQuaWQsIHdhaXRpbmc6IG51bGwgfTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5kaXNwYXRjaEFjdGlvbih0aHJlYWRDb21taXRzU3VibWl0KGNvbW1pdE1ldGEpKTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5kaXNwYXRjaEFjdGlvbih0b2FzdFNldChuZXcgQ29uZmlybWF0aW9uRXJyb3IoJ1lvdXIgZm9sbG93dXAgaGFzIGJlZW4gY2FuY2VsZWQhJywgdHJ1ZSkpKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEhvdGtleUFjdGlvbi5NYXJrQXNTcGFtOgogICAgICAgICAgICAgICAgICAgIGNvbW1pdE1ldGEgPSB7IGJveDogVGhyZWFkQm94LlNwYW0gfTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLkFyY2hpdmU6CiAgICAgICAgICAgICAgICAgICAgY29tbWl0TWV0YSA9IHsgYm94OiBUaHJlYWRCb3guQXJjaGl2ZSB9OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBIb3RrZXlBY3Rpb24uVHJhc2g6CiAgICAgICAgICAgICAgICAgICAgY29tbWl0TWV0YSA9IHsgYm94OiBUaHJlYWRCb3guVHJhc2ggfTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSG90a2V5QWN0aW9uLkluYm94OgogICAgICAgICAgICAgICAgICAgIGNvbW1pdE1ldGEgPSB7IGJveDogVGhyZWFkQm94LkluYm94IH07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjb21taXRNZXRhKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5kaXNwYXRjaEFjdGlvbih0aHJlYWRDb21taXRzU3VibWl0KGNvbW1pdE1ldGEpKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIG9wdGlvbnM6IFtdLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgU3lzdGVtLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdCkgewogICAgICAgICAgICB0aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgIH0KICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgb3B0aW9uczogaG90a2V5c1R5cGVhaGVhZCgnJykKICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGhvdGtleSkgeyByZXR1cm4gX3RoaXMuZmlsdGVyUmVzdWx0KGhvdGtleSk7IH0pCiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gby5uYW1lICE9PSBIb3RrZXlBY3Rpb24uTmV4dFRocmVhZCAmJiBvLm5hbWUgIT09IEhvdGtleUFjdGlvbi5QcmV2aW91c1RocmVhZCAmJgogICAgICAgICAgICAgICAgICAgIG8uc2NvcGUgIT09IENvbW1hbmRDb250cm9sVHlwZS5TeXN0ZW07CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChvcHRpb24pIHsgcmV0dXJuICh7CiAgICAgICAgICAgICAgICB0aXRsZTogb3B0aW9uLm5hbWUsCiAgICAgICAgICAgICAgICBkZXNjOiBvcHRpb24udGV4dCwKICAgICAgICAgICAgICAgIGN1c3RvbURlc2NSZW5kZXJlcjogb3B0aW9uLmtleUNvZGUgPyBfdGhpcy5yZW5kZXJPcHRpb25EZXNjIDogdW5kZWZpbmVkLAogICAgICAgICAgICB9KTsgfSksCiAgICAgICAgfSk7CiAgICB9OwogICAgU3lzdGVtLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgb25IaWRlID0gX2Eub25IaWRlLCBpc0RlZmF1bHQgPSBfYS5pc0RlZmF1bHQ7CiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnN0YXRlLm9wdGlvbnM7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRyb2xQb3BvdmVyLCB7IGNsYXNzTmFtZTogInN5c3RlbS1wb3BvdmVyIiwgaGVhZGluZzogIkNvbW1hbmQgQ2VudGVyIiwgdHlwZTogQ29tbWFuZENvbnRyb2xUeXBlLlN5c3RlbSwgb3B0aW9uczogb3B0aW9ucywgcGxhY2Vob2xkZXI6ICJ0eXBlIGFuIGFjdGlvbi4uLiIsIG9uSGlkZTogb25IaWRlLCBvbklucHV0Q2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLCByZWY6IHRoaXMuaGFuZGxlUmVmLCBzaG93T25Nb3VudDogIWlzRGVmYXVsdCwgb25TZWxlY3Q6IHRoaXMuaGFuZGxlU2VsZWN0IH0pKTsKICAgIH07CiAgICByZXR1cm4gU3lzdGVtOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgU3lzdGVtOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/System/System.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/System/System.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { History } from 'history';\n\nimport ControlPopover, { Option } from '../components/ControlPopover';\nimport {\n  CommandControlType,\n  Action,\n  Mailbox,\n  ThreadBox,\n  Thread as ThreadType,\n  ThreadCommitMeta,\n  Preferences,\n  UnsubscribeBehavior,\n  Features,\n  OnboardingType,\n} from '@src/types';\nimport { threadCommitsSubmit } from '@src/ducks/threads';\nimport {\n  hotkeysTypeahead,\n  Hotkey,\n  HotkeyAction,\n  getHotkeyByName,\n  HotkeyCode,\n} from '@src/lib/hotkeys';\n\nimport './System.scss';\nimport { hotkeyUpdate } from '@src/ducks/hotkeys';\nimport { recordEvent, UserEvents } from '@src/lib/analytics';\nimport KeyboardSymbol from '@src/components/Base/KeyboardSymbol/KeyboardSymbol';\nimport browserHistory from '@src/lib/browserHistory';\nimport { commandControlHide, commandControlShow } from '@src/ducks/commandControl';\nimport { last } from 'lodash';\nimport { sharedThreadCreate } from '@src/ducks/sharedThreads';\nimport { shareLinkCreate } from '@src/ducks/shareLinks';\nimport { SharedThreadPermissionScope } from '@src/types/sharedThreads';\nimport { RightSidebarTab } from '@src/types/rightSidebar';\nimport { rightSidebarTabSelect } from '@src/ducks/rightSidebar';\nimport { Filter } from '@src/types/filters';\nimport { toastSet, ConfirmationError } from '@src/ducks/toasts';\nimport { onboardingPatch } from '@src/ducks/me';\nimport { getOnboardingActions } from '@src/lib/OnboardingDispatcher';\nimport { zoomMeetingCreate } from '@src/ducks/zoom';\n\nexport interface Props {\n  onHide: () => void;\n  isDefault?: boolean;\n  history?: History;\n  selectedMailbox?: Mailbox;\n  selectedThread?: ThreadType;\n  preferences?: Preferences;\n  unsubscribeLink?: string;\n  features?: Features;\n  sharedThread?: string;\n  schedulingUrl?: string;\n  slackEnabled?: boolean;\n  asanaEnabled?: boolean;\n  blockFilter?: Filter;\n\n  rsbOnboarding?: OnboardingType;\n}\n\nexport interface DispatchProps {\n  dispatchAction: (action: Action<any, any>) => void;\n}\n\ninterface State {\n  options: Option[];\n}\n\nclass System extends React.PureComponent<Props & DispatchProps, State> {\n  private popover: ControlPopover;\n\n  constructor(props: Props & DispatchProps) {\n    super();\n\n    this.state = {\n      options: [],\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.isDefault) {\n      this.popover.hide();\n    }\n\n    this.setState({\n      options: hotkeysTypeahead('')\n        .filter(hotkey => this.filterResult(hotkey))\n        .filter(o =>\n          o.name !== HotkeyAction.NextThread && o.name !== HotkeyAction.PreviousThread &&\n          o.scope !== CommandControlType.System)\n        .map((option: Hotkey & HotkeyCode) => ({\n          title: option.name,\n          desc: option.text,\n          customDescRenderer: option.keyCode ? this.renderOptionDesc : undefined,\n        })),\n    });\n  }\n\n  filterResult = (hotkey: Hotkey): boolean => {\n    const { features, selectedThread, blockFilter } = this.props;\n    if (features) {\n      if (!features.followUp && hotkey.name === HotkeyAction.NavigateFollowUp) {\n        return false;\n      }\n      if (!features.sendLater &&\n        hotkey.name === HotkeyAction.NavigateSendLater) {\n        return false;\n      }\n      if (!features.messageTemplates &&\n        hotkey.name === HotkeyAction.MessageTemplates) {\n        return false;\n      }\n\n      // Do not show remove follow up if waiting does not exist on thread\n      const waitingExists = selectedThread && !!selectedThread.waiting;\n      if (!waitingExists && hotkey.name === HotkeyAction.CancelFollowup) {\n        return false;\n      }\n\n      // Do not show thread actions when thread is not selected\n      if (!selectedThread && hotkey.scope === CommandControlType.System) {\n        return false;\n      }\n    }\n\n    // Handle filtering for Mute/Unmute Conversation\n    switch (hotkey.name) {\n      case HotkeyAction.MuteConversation:\n        return selectedThread && !selectedThread.muted || false;\n      case HotkeyAction.UnmuteConversation:\n        return selectedThread && !!selectedThread.muted || false;\n      case HotkeyAction.BlockSender:\n        return !blockFilter;\n      case HotkeyAction.UnblockSender:\n        return !!blockFilter;\n      default: break;\n    }\n\n    return hotkey.scope !== CommandControlType.Draft;\n  }\n\n  renderOptionDesc = (desc: string) => {\n    return desc.split('+').map((c, i) => (\n      <KeyboardSymbol\n        key={`${c}-${i}`}\n        character={c}\n      />\n    ));\n  }\n\n  handleInputChange = (value: string) => {\n    this.setState({\n      options: hotkeysTypeahead(value)\n        .filter(hotkey => this.filterResult(hotkey))\n        .map(hotkey => ({\n          title: hotkey.name,\n          desc: hotkey.text,\n        })),\n    });\n  }\n\n  handleSelect = (option: string, index: number) => {\n    const {\n      dispatchAction,\n      selectedMailbox,\n      selectedThread,\n      unsubscribeLink,\n      preferences,\n      sharedThread,\n      rsbOnboarding,\n    } = this.props;\n    const selected = this.state.options[index];\n    if (!selected) {\n      return;\n    }\n\n    // Handle selected hotkey\n    const hotkey = getHotkeyByName(selected.title);\n    if (hotkey) {\n      // Handle thread moves\n      switch (hotkey.name) {\n        case HotkeyAction.KeyboardShortcutGuide:\n          dispatchAction(rightSidebarTabSelect({ rsbTab: RightSidebarTab.KeyboardShortcut }));\n          return;\n        case HotkeyAction.ZoomCreateMeeting:\n          dispatchAction(zoomMeetingCreate(null));\n          break;\n        case HotkeyAction.CreateShareLink:\n        case HotkeyAction.ShareToSlack:\n        case HotkeyAction.ShareToAsana:\n\n          // Update onboarding if match\n          if (rsbOnboarding === OnboardingType.ShareThread) {\n            dispatchAction(\n              onboardingPatch({\n                skipped: false,\n                type: { steps: { [OnboardingType.ShareThread]: true } },\n              }),\n            );\n          }\n\n          getOnboardingActions().next(OnboardingType.ShareThread);\n\n          // Handle Slack Setup\n          if (hotkey.name === HotkeyAction.ShareToSlack && !this.props.slackEnabled) {\n            browserHistory.push('/settings/integrations');\n            dispatchAction(commandControlHide(undefined));\n            return;\n          }\n\n          // Handle Asana Setup\n          if (hotkey.name === HotkeyAction.ShareToAsana && !this.props.asanaEnabled) {\n            browserHistory.push('/settings/integrations');\n            dispatchAction(commandControlHide(undefined));\n            return;\n          }\n\n          // Create share link for last message\n          const lastMessage = selectedThread && last(selectedThread.messages);\n          if (selectedThread && lastMessage) {\n\n            // Handle either creation of shared thread or share link\n            if (!sharedThread) {\n              dispatchAction(sharedThreadCreate({\n                thread: selectedThread.id,\n                permissions: {\n                  scope: SharedThreadPermissionScope.Public,\n                },\n              }));\n            } else {\n              dispatchAction(shareLinkCreate({\n                sharedThread,\n              }));\n            }\n          }\n          break;\n\n        case HotkeyAction.ShowActivityFeed:\n          if (rsbOnboarding && rsbOnboarding === OnboardingType.ActivityFeed) {\n            dispatchAction(\n              onboardingPatch({ skipped: false, type: { [OnboardingType.ActivityFeed]: true } }),\n            );\n          }\n          break;\n\n        case HotkeyAction.CancelFollowup:\n        case HotkeyAction.MarkAsSpam:\n        case HotkeyAction.Archive:\n        case HotkeyAction.Trash:\n        case HotkeyAction.Inbox:\n          this.handleMoveAction(hotkey);\n          return;\n        case HotkeyAction.ToggleStar:\n        case HotkeyAction.ToggleUnread:\n        case HotkeyAction.UnmuteConversation:\n        case HotkeyAction.MuteConversation:\n          this.handleFlagAction(hotkey);\n          return;\n        case HotkeyAction.Undo:\n          if (hotkey.action && selectedMailbox) {\n            dispatchAction(hotkey.action(selectedMailbox));\n          }\n          return;\n        case HotkeyAction.ToggleCommandControl:\n          if (this.popover) {\n            this.popover.hide();\n          }\n          return;\n        // Custom handling for Thread Actions when no selection\n        case HotkeyAction.Reply:\n        case HotkeyAction.ReplyAll:\n        case HotkeyAction.Label:\n        case HotkeyAction.ReadLater:\n          // Handle default action\n          if (hotkey.action && selectedThread) {\n            dispatchAction(hotkey.action);\n            return;\n          }\n          return;\n        case HotkeyAction.UnblockSender:\n          dispatchAction(hotkeyUpdate(HotkeyAction.UnblockSender));\n          return;\n        case HotkeyAction.BlockSender:\n          dispatchAction(hotkeyUpdate(HotkeyAction.BlockSender));\n          return;\n        case HotkeyAction.Unsubscribe:\n          // Handle removing from list by dispatching action\n          if (selectedThread && unsubscribeLink && preferences) {\n            switch (preferences.unsubscribeBehavior) {\n              case UnsubscribeBehavior.Archive:\n                dispatchAction(threadCommitsSubmit({\n                  singleResource: selectedThread.id,\n                  box: ThreadBox.Archive,\n                }));\n                break;\n              case UnsubscribeBehavior.Trash:\n                dispatchAction(threadCommitsSubmit({\n                  singleResource: selectedThread.id,\n                  box: ThreadBox.Trash,\n                }));\n                break;\n              default:\n                break;\n            }\n\n            // Open unsubscribe window\n            window.open(unsubscribeLink, '_blank');\n            recordEvent(UserEvents.Unsubscribed);\n          }\n          return;\n        case HotkeyAction.CopySchedulingUrl:\n          dispatchAction(commandControlShow(CommandControlType.SchedulingPages));\n          return;\n\n        default:\n          break;\n      }\n\n      // Handle default action\n      if (hotkey.action) {\n        dispatchAction(hotkey.action);\n        return;\n      }\n\n      // Handle hotkey update\n      dispatchAction(hotkeyUpdate(hotkey.name as HotkeyAction));\n\n      // Handle route change\n      if (hotkey.route && selectedMailbox) {\n        browserHistory.push(hotkey.route(selectedMailbox));\n        dispatchAction(commandControlHide(undefined));\n        return;\n      }\n    }\n  }\n\n  handleFlagAction = (hotkey: Hotkey) => {\n    const { selectedThread } = this.props;\n    if (!selectedThread) {\n      return;\n    }\n\n    let commitMeta: ThreadCommitMeta = {};\n    switch (hotkey.name) {\n      case HotkeyAction.ToggleStar:\n        commitMeta = { starred: !selectedThread.starred };\n        break;\n      case HotkeyAction.ToggleUnread:\n        commitMeta = { read: !selectedThread.read };\n        break;\n      case HotkeyAction.MuteConversation:\n      case HotkeyAction.UnmuteConversation:\n        commitMeta = { singleResource: selectedThread.id, muted: !selectedThread.muted };\n        break;\n      default:\n        break;\n    }\n\n    if (commitMeta) {\n      this.props.dispatchAction(threadCommitsSubmit(commitMeta));\n    }\n  }\n\n  handleMoveAction = (hotkey: Hotkey) => {\n    const { selectedThread } = this.props;\n    if (!selectedThread) {\n      return;\n    }\n\n    let commitMeta: ThreadCommitMeta = {};\n\n    switch (hotkey.name) {\n      case HotkeyAction.CancelFollowup:\n        commitMeta = { singleResource: selectedThread.id, waiting: null };\n        this.props.dispatchAction(threadCommitsSubmit(commitMeta));\n        this.props.dispatchAction(\n          toastSet(new ConfirmationError(\n            'Your followup has been canceled!',\n            true,\n          )),\n        );\n        return;\n        break;\n      case HotkeyAction.MarkAsSpam:\n        commitMeta = { box: ThreadBox.Spam };\n        break;\n      case HotkeyAction.Archive:\n        commitMeta = { box: ThreadBox.Archive };\n        break;\n      case HotkeyAction.Trash:\n        commitMeta = { box: ThreadBox.Trash };\n        break;\n      case HotkeyAction.Inbox:\n        commitMeta = { box: ThreadBox.Inbox };\n        break;\n      default:\n        break;\n    }\n\n    if (commitMeta) {\n      this.props.dispatchAction(threadCommitsSubmit(commitMeta));\n    }\n  }\n\n  handleRef = (ref: ControlPopover) => {\n    this.popover = ref;\n  }\n\n  render() {\n    const { onHide, isDefault } = this.props;\n    const { options } = this.state;\n\n    return (\n      <ControlPopover\n        className=\"system-popover\"\n        heading=\"Command Center\"\n        type={CommandControlType.System}\n        options={options}\n        placeholder=\"type an action...\"\n        onHide={onHide}\n        onInputChange={this.handleInputChange}\n        ref={this.handleRef}\n        showOnMount={!isDefault}\n        onSelect={this.handleSelect}\n      />\n    );\n  }\n}\n\nexport default System;\n"]}]}