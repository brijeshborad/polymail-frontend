{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/TeamSection/InviteTeamPopover/InviteTeamPopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/TeamSection/InviteTeamPopover/InviteTeamPopover.tsx","mtime":1675280254020},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvUG9wb3Zlci9Qb3BvdmVyJzsKaW1wb3J0IHsgS2V5Q29kZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgUm91bmRDaGVja21hcmsgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL1JvdW5kQ2hlY2ttYXJrLnN2Zyc7CmltcG9ydCAnLi9JbnZpdGVUZWFtUG9wb3Zlci5zY3NzJzsKaW1wb3J0IGJyb3dzZXJIaXN0b3J5IGZyb20gJ0BzcmMvbGliL2Jyb3dzZXJIaXN0b3J5JzsKaW1wb3J0IExvYWRlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvTG9hZGVyL0xvYWRlcic7CmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgaXNFbWFpbCB9IGZyb20gJ0BzcmMvbGliL3NlYXJjaCc7CmltcG9ydCB7IEFtcGxpdHVkZUV2ZW50cywgbG9nQW1wbGl0dWRlRXZlbnQgfSBmcm9tICdAc3JjL2xpYi9hbXBsaXR1ZGUtYW5hbHl0aWNzJzsKdmFyIEludml0ZVRlYW1Qb3BvdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKEludml0ZVRlYW1Qb3BvdmVyLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gSW52aXRlVGVhbVBvcG92ZXIocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dFJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMuaW5wdXQgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVIaWRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgb25IaWRlID0gX2Eub25IaWRlLCBjbGVhckNvbnRhY3RUeXBlYWhlYWQgPSBfYS5jbGVhckNvbnRhY3RUeXBlYWhlYWQ7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd1NlbmRpbmc6IGZhbHNlLCBzaG93Q29uZmlybWF0aW9uOiBmYWxzZSB9KTsKICAgICAgICAgICAgaWYgKG9uSGlkZSkgewogICAgICAgICAgICAgICAgb25IaWRlKCk7CiAgICAgICAgICAgICAgICBjbGVhckNvbnRhY3RUeXBlYWhlYWQoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlVmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7CiAgICAgICAgICAgIF90aGlzLmNvbnRhY3RUeXBlYWhlYWREZWJvdW5jZWQodmFsdWUpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvdyA9IGZ1bmN0aW9uICh0b3ApIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGRvbWFpbnMgPSBfYS5kb21haW5zLCBjb250YWN0VHlwZWFoZWFkQnlEb21haW4gPSBfYS5jb250YWN0VHlwZWFoZWFkQnlEb21haW47CiAgICAgICAgICAgIGlmICghX3RoaXMuaW5wdXQgfHwgIV90aGlzLmlucHV0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICBjb250YWN0VHlwZWFoZWFkQnlEb21haW4oZG9tYWlucyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB0b3A6IHRvcCB9LCBfdGhpcy5wb3BvdmVyLnNob3cpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlT25Qb3BvdmVyU2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLmlucHV0KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dC5mb2N1cygpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnZpdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBpbnZpdGVUZWFtTWVtYmVyID0gX3RoaXMucHJvcHMuaW52aXRlVGVhbU1lbWJlcjsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuc3RhdGUsIHNlbGVjdGVkSW5kZXggPSBfYS5zZWxlY3RlZEluZGV4LCBjb250YWN0cyA9IF9hLmNvbnRhY3RzLCBzaG93U2VuZGluZyA9IF9hLnNob3dTZW5kaW5nOwogICAgICAgICAgICBpZiAoc2hvd1NlbmRpbmcpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgZW1haWwgPSBfdGhpcy5pbnB1dCAmJiBfdGhpcy5pbnB1dC52YWx1ZTsKICAgICAgICAgICAgaWYgKGNvbnRhY3RzW3NlbGVjdGVkSW5kZXhdKSB7CiAgICAgICAgICAgICAgICBlbWFpbCA9IGNvbnRhY3RzW3NlbGVjdGVkSW5kZXhdLmVtYWlsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKCFpc0VtYWlsKGVtYWlsKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGludml0ZVRlYW1NZW1iZXIoZW1haWwpOwogICAgICAgICAgICBsb2dBbXBsaXR1ZGVFdmVudChBbXBsaXR1ZGVFdmVudHMuU2VuZEludml0ZVRvVGVhbU1lbWJlcik7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd1NlbmRpbmc6IHRydWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDsKICAgICAgICAgICAgdmFyIGluZGV4ID0gdGFyZ2V0ICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTsKICAgICAgICAgICAgaWYgKGluZGV4KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW5kZXg6IHBhcnNlSW50KGluZGV4LCAxMCkgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zdGF0ZSwgc2VsZWN0ZWRJbmRleCA9IF9hLnNlbGVjdGVkSW5kZXgsIGNvbnRhY3RzID0gX2EuY29udGFjdHM7CiAgICAgICAgICAgIGlmIChjb250YWN0cy5sZW5ndGggJiYgZS5rZXlDb2RlID09PSBLZXlDb2RlLkRvd24pIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbmRleDogTWF0aC5taW4oc2VsZWN0ZWRJbmRleCArIDEsIGNvbnRhY3RzLmxlbmd0aCAtIDEpIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjcm9sbFNlbGVjdGVkSW5kZXhJbnRvVmlldyh0cnVlKTsgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSBLZXlDb2RlLlVwKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW5kZXg6IE1hdGgubWF4KDAsIHNlbGVjdGVkSW5kZXggLSAxKSB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY3JvbGxTZWxlY3RlZEluZGV4SW50b1ZpZXcoZmFsc2UpOyB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IEtleUNvZGUuRW50ZXIpIHsKICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUludml0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zY3JvbGxTZWxlY3RlZEluZGV4SW50b1ZpZXcgPSBmdW5jdGlvbiAoc2Nyb2xsRG93bikgewogICAgICAgICAgICBpZiAoX3RoaXMudGltZW91dCkgewogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudHlwZWFoZWFkQ29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gX3RoaXMudHlwZWFoZWFkQ29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbnRhY3QnKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzICYmIGVsZW1lbnRzW190aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXhdOwogICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJSZWN0ID0gX3RoaXMudHlwZWFoZWFkQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIHNjcm9sbERvd24gJiYKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHlwZWFoZWFkQ29udGFpbmVyLnNjcm9sbFRvcCArIGNvbnRhaW5lclJlY3QuaGVpZ2h0IDwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub2Zmc2V0VG9wICsgZWxlbWVudC5vZmZzZXRIZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHlwZWFoZWFkQ29udGFpbmVyLnNjcm9sbFRvcCA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm9mZnNldFRvcCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gY29udGFpbmVyUmVjdC5oZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW1lbnQgJiYgIXNjcm9sbERvd24gJiYKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCAmJiBfdGhpcy50eXBlYWhlYWRDb250YWluZXIuc2Nyb2xsVG9wID4gZWxlbWVudC5vZmZzZXRUb3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHlwZWFoZWFkQ29udGFpbmVyLnNjcm9sbFRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDb250YWluZXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLnR5cGVhaGVhZENvbnRhaW5lciA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVBlbmRpbmdJbnZpdGVzQ2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5wb3BvdmVyKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zZXR0aW5ncy90ZWFtJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUludml0ZU1vcmVDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93Q29uZmlybWF0aW9uOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZURvbmVDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnBvcG92ZXIpIHsKICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5yZW5kZXJDb25maXJtYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB0ZWFtSW52aXRlcyA9IF9hLnRlYW1JbnZpdGVzLCB0ZWFtID0gX2EudGVhbTsKICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFBvcG92ZXIsIHsgY2xhc3NOYW1lOiAiaW52aXRlLXRlYW0tcG9wb3ZlciIsIHJlZjogX3RoaXMuaGFuZGxlUmVmLCBvbkhpZGU6IF90aGlzLmhhbmRsZUhpZGUsIHN0eWxlOiB7IHRvcDogdG9wIH0gfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29uZmlybWF0aW9uIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGl0bGUiIH0sICJZb3VyIGludml0YXRpb24gaGFzIGJlZW4gc2VudCEiKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdW5kQ2hlY2ttYXJrLCB7IGhlaWdodDogIjI0cHgiLCB3aWR0aDogIjI0cHgiLCBjbGFzc05hbWU6ICJjb25maXJtLWljb24iIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJZb3UndmUgaW52aXRlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogImJvbGRlZCIgfSwgIiAiICsgdGVhbUludml0ZXMubGVuZ3RoICsgIiBtZW1iZXJzICIpLAogICAgICAgICAgICAgICAgICAgICAgICAiIHRvICIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRlYW0gJiYgdGVhbS5uYW1lIHx8ICd5b3VyIHRlYW0nLAogICAgICAgICAgICAgICAgICAgICAgICAiLiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWN0aW9uLWJ1dHRvbnMiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAicGVuZGluZyIsIG9uQ2xpY2s6IF90aGlzLmhhbmRsZVBlbmRpbmdJbnZpdGVzQ2xpY2sgfSwgIlZpZXcgUGVuZGluZyBJbnZpdGVzIiksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiaW52aXRlLW1vcmUiLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVJbnZpdGVNb3JlQ2xpY2sgfSwgIkludml0ZSBNb3JlIFBlb3BsZSIpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImRvbmUtYnV0dG9uIiwgb25DbGljazogX3RoaXMuaGFuZGxlRG9uZUNsaWNrIH0sICJEb25lIikpKSkpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuY29udGFjdFR5cGVhaGVhZERlYm91bmNlZCA9IGRlYm91bmNlKGZ1bmN0aW9uIChxdWVyeSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgY29udGFjdFR5cGVhaGVhZCA9IF9hLmNvbnRhY3RUeXBlYWhlYWQsIGNvbnRhY3RUeXBlYWhlYWRCeURvbWFpbiA9IF9hLmNvbnRhY3RUeXBlYWhlYWRCeURvbWFpbiwgZG9tYWlucyA9IF9hLmRvbWFpbnM7CiAgICAgICAgICAgIGlmIChxdWVyeSkgewogICAgICAgICAgICAgICAgY29udGFjdFR5cGVhaGVhZChxdWVyeSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBjb250YWN0VHlwZWFoZWFkQnlEb21haW4oZG9tYWlucyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAyMDApOwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBzZWxlY3RlZEluZGV4OiAwLAogICAgICAgICAgICBjb250YWN0czogcHJvcHMudHlwZWFoZWFkQ29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnVzZXIgIT09IHVuZGVmaW5lZDsgfSksCiAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgc2hvd0NvbmZpcm1hdGlvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dTZW5kaW5nOiBmYWxzZSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIEludml0ZVRlYW1Qb3BvdmVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBkb21haW5zID0gX2EuZG9tYWlucywgY29udGFjdFR5cGVhaGVhZEJ5RG9tYWluID0gX2EuY29udGFjdFR5cGVhaGVhZEJ5RG9tYWluOwogICAgICAgIGNvbnRhY3RUeXBlYWhlYWRCeURvbWFpbihkb21haW5zKTsKICAgIH07CiAgICBJbnZpdGVUZWFtUG9wb3Zlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jb250YWN0VHlwZWFoZWFkRGVib3VuY2VkLmNhbmNlbCgpOwogICAgfTsKICAgIEludml0ZVRlYW1Qb3BvdmVyLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICBpZiAobmV4dFByb3BzLnR5cGVhaGVhZENvbnRhY3RzICE9PSB0aGlzLnByb3BzLnR5cGVhaGVhZENvbnRhY3RzKSB7CiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgY29udGFjdHM6IG5leHRQcm9wcy50eXBlYWhlYWRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMudXNlciAhPT0gdW5kZWZpbmVkOyB9KSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIEludml0ZVRlYW1Qb3BvdmVyLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAob2xkUHJvcHMpIHsKICAgICAgICBpZiAodGhpcy5wcm9wcy50ZWFtSW52aXRlcy5sZW5ndGggPiBvbGRQcm9wcy50ZWFtSW52aXRlcy5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb25maXJtYXRpb246IHRydWUsIHNob3dTZW5kaW5nOiBmYWxzZSB9KTsKICAgICAgICB9CiAgICB9OwogICAgSW52aXRlVGVhbVBvcG92ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsIHNlbGVjdGVkSW5kZXggPSBfYS5zZWxlY3RlZEluZGV4LCBjb250YWN0cyA9IF9hLmNvbnRhY3RzLCB0b3AgPSBfYS50b3AsIHNob3dDb25maXJtYXRpb24gPSBfYS5zaG93Q29uZmlybWF0aW9uLCBzaG93U2VuZGluZyA9IF9hLnNob3dTZW5kaW5nOwogICAgICAgIHZhciBzaG93UHJvcmF0aW9uQ29weSA9IHRoaXMucHJvcHMuc2hvd1Byb3JhdGlvbkNvcHk7CiAgICAgICAgLy8gUmVuZGVyIGNvbmZpcm1hdGlvbiBpZiBzdGF0ZSBpcyBzZXQKICAgICAgICBpZiAoc2hvd0NvbmZpcm1hdGlvbikgewogICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDb25maXJtYXRpb24oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFBvcG92ZXIsIHsgY2xhc3NOYW1lOiAiaW52aXRlLXRlYW0tcG9wb3ZlciIsIHJlZjogdGhpcy5oYW5kbGVSZWYsIHN0eWxlOiB7IHRvcDogdG9wIH0sIG9uSGlkZTogdGhpcy5oYW5kbGVIaWRlLCBvblNob3c6IHRoaXMuaGFuZGxlT25Qb3BvdmVyU2hvdywgYXV0b0ZvY3VzT2ZmOiB0cnVlIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaGVhZGluZyIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIkludml0ZSBUZWFtIE1lbWJlcnMiKSwKICAgICAgICAgICAgICAgIHNob3dTZW5kaW5nICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGVyLCBudWxsKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogInNlcGFyYXRvciIgfSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImlucHV0IiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7IGRpcjogImF1dG8iLCB0eXBlOiAidGV4dCIsIHJlZjogdGhpcy5oYW5kbGVJbnB1dFJlZiwgcGxhY2Vob2xkZXI6ICJzZWFyY2ggbmFtZSBvciBlbWFpbC4uLiIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlLCBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93biB9KSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGVhbS1jb250YWN0cyIsIHJlZjogdGhpcy5oYW5kbGVDb250YWluZXJSZWYgfSwgY29udGFjdHMKICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGNvbnRhY3QsIGkpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7ICJkYXRhLWluZGV4IjogaSwga2V5OiBjb250YWN0LmlkLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2NvbnRhY3QnLCB7IHNlbGVjdGVkOiBpID09PSBzZWxlY3RlZEluZGV4IH0pLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVJbnZpdGUsIG9uTW91c2VFbnRlcjogX3RoaXMuaGFuZGxlTW91c2VFbnRlciB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwaG90byIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogY29udGFjdC5waG90b1VybCB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm5hbWUiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDQiLCBudWxsLCBjb250YWN0LmZ1bGxOYW1lKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsIGNvbnRhY3QuZW1haWwpKSkpOyB9KSksCiAgICAgICAgICAgIHNob3dQcm9yYXRpb25Db3B5ICYmCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRpc2NsYWltZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgIllvdVx1MjAxOWxsIGJlIGNoYXJnZWQgYSBwcm9yYXRlZCBhbW91bnQgZm9yIGVhY2ggbmV3IG1lbWJlci4iLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7IGhyZWY6ICJodHRwczovL2hlbHAucG9seW1haWwuaW8vcGxhbnMtYW5kLWJpbGxpbmcvcGxhbnMvcG9seW1haWwtdGVhbXMiLCB0YXJnZXQ6ICJfYmxhbmsiIH0sICJMZWFybiBtb3JlIikpKSk7CiAgICB9OwogICAgcmV0dXJuIEludml0ZVRlYW1Qb3BvdmVyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgSW52aXRlVGVhbVBvcG92ZXI7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/TeamSection/InviteTeamPopover/InviteTeamPopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/TeamSection/InviteTeamPopover/InviteTeamPopover.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,UAAU,MAAM,YAAY,CAAC;AACpC,OAAO,OAAO,MAAM,iCAAiC,CAAC;AACtD,OAAO,EAAE,OAAO,EAA6B,MAAM,YAAY,CAAC;AAChE,OAAO,cAAc,MAAM,0CAA0C,CAAC;AAEtE,OAAO,0BAA0B,CAAC;AAClC,OAAO,cAAc,MAAM,yBAAyB,CAAC;AACrD,OAAO,MAAM,MAAM,+BAA+B,CAAC;AACnD,OAAO,EAAE,QAAQ,EAAE,MAAM,QAAQ,CAAC;AAClC,OAAO,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAC1C,OAAO,EAAE,eAAe,EAAE,iBAAiB,EAAE,MAAM,8BAA8B,CAAC;AA8BlF;IAAgC,qCAA8D;IAO5F,2BAAY,KAAyC;QAArD,YACE,kBAAM,KAAK,CAAC,SAsBb;QAyBD,oBAAc,GAAG,UAAC,GAAqB;YACrC,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QACnB,CAAC,CAAA;QAED,gBAAU,GAAG;YACL,IAAA,gBAA8C,EAA5C,kBAAM,EAAE,gDAAoC,CAAC;YACrD,KAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC;YAE/D,IAAI,MAAM,EAAE;gBACV,MAAM,EAAE,CAAC;gBACT,qBAAqB,EAAE,CAAC;aACzB;QACH,CAAC,CAAA;QAED,uBAAiB,GAAG,UAAC,CAAyC;YAC5D,IAAM,KAAK,GAAG,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC;YAEpC,KAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;QACxC,CAAC,CAAA;QAED,UAAI,GAAG,UAAC,GAAW;YACX,IAAA,gBAAkD,EAAhD,oBAAO,EAAE,sDAAuC,CAAC;YAEzD,IAAI,CAAC,KAAI,CAAC,KAAK,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBACpC,wBAAwB,CAAC,OAAO,CAAC,CAAC;aACnC;YACD,KAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,KAAA,EAAE,EAAE,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC5C,CAAC,CAAA;QAED,eAAS,GAAG,UAAC,GAAY;YACvB,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACrB,CAAC,CAAA;QAED,yBAAmB,GAAG;YACpB,IAAI,KAAI,CAAC,KAAK,EAAE;gBACd,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;aACpB;QACH,CAAC,CAAA;QAED,kBAAY,GAAG;YACL,IAAA,+CAAgB,CAAgB;YAClC,IAAA,gBAAqD,EAAnD,gCAAa,EAAE,sBAAQ,EAAE,4BAA0B,CAAC;YAC5D,IAAI,WAAW,EAAE;gBACf,OAAO;aACR;YAED,IAAI,KAAK,GAAG,KAAI,CAAC,KAAK,IAAI,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YAC3C,IAAI,QAAQ,CAAC,aAAa,CAAC,EAAE;gBAC3B,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;aACvC;iBAAM,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBAC1B,OAAO;aACR;YAED,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACxB,iBAAiB,CAAC,eAAe,CAAC,sBAAsB,CAAC,CAAC;YAC1D,KAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;QACvC,CAAC,CAAA;QAED,sBAAgB,GAAG,UAAC,CAA0C;YAC5D,IAAM,MAAM,GAAG,CAAC,CAAC,aAAa,CAAC;YAC/B,IAAM,KAAK,GAAG,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;YAE1D,IAAI,KAAK,EAAE;gBACT,KAAI,CAAC,QAAQ,CAAC,EAAE,aAAa,EAAE,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;aACvD;QACH,CAAC,CAAA;QAED,mBAAa,GAAG,UAAC,CAAwC;YACjD,IAAA,gBAAwC,EAAtC,gCAAa,EAAE,sBAAuB,CAAC;YAE/C,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,IAAI,EAAE;gBACjD,KAAI,CAAC,QAAQ,CACX,EAAE,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EACnE,cAAM,OAAA,KAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,EAAtC,CAAsC,CAC7C,CAAC;aACH;iBAAM,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,EAAE;gBACnC,KAAI,CAAC,QAAQ,CACX,EAAE,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,aAAa,GAAG,CAAC,CAAC,EAAE,EACjD,cAAM,OAAA,KAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,EAAvC,CAAuC,CAC9C,CAAC;aACH;iBAAM,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,KAAK,EAAE;gBACtC,KAAI,CAAC,YAAY,EAAE,CAAC;aACrB;QACH,CAAC,CAAA;QAED,iCAA2B,GAAG,UAAC,UAAmB;YAChD,IAAI,KAAI,CAAC,OAAO,EAAE;gBAChB,YAAY,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;aAC5B;YAED,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAC9B;gBACE,IAAI,KAAI,CAAC,kBAAkB,EAAE;oBAC3B,IAAM,QAAQ,GAAG,KAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;oBAC3E,IAAM,OAAO,GAAG,QAAQ,IAAI,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,CAAgB,CAAC;oBAC9E,IAAM,aAAa,GAAG,KAAI,CAAC,kBAAkB,CAAC,qBAAqB,EAAE,CAAC;oBAEtE,IAAI,OAAO,IAAI,UAAU;wBACvB,KAAI,CAAC,kBAAkB,CAAC,SAAS,GAAG,aAAa,CAAC,MAAM;4BACxD,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,YAAY,EAAE;wBAC1C,KAAI,CAAC,kBAAkB,CAAC,SAAS;4BAC/B,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC,MAAM,CAAC;qBACnE;yBAAM,IAAI,OAAO,IAAI,CAAC,UAAU;wBAC/B,OAAO,IAAI,KAAI,CAAC,kBAAkB,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,EAAE;wBAClE,KAAI,CAAC,kBAAkB,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;qBACvD;iBACF;YACH,CAAC,EACD,CAAC,CACF,CAAC;QACJ,CAAC,CAAA;QAED,wBAAkB,GAAG,UAAC,GAAmB;YACvC,KAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;QAChC,CAAC,CAAA;QAED,+BAAyB,GAAG;YAC1B,IAAI,KAAI,CAAC,OAAO,EAAE;gBAChB,KAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;gBACpB,cAAc,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aACvC;QACH,CAAC,CAAA;QAED,2BAAqB,GAAG;YACtB,KAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7C,CAAC,CAAA;QAED,qBAAe,GAAG;YAChB,IAAI,KAAI,CAAC,OAAO,EAAE;gBAChB,KAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;aACrB;QACH,CAAC,CAAA;QAED,wBAAkB,GAAG;YACb,IAAA,gBAAkC,EAAhC,4BAAW,EAAE,cAAmB,CAAC;YACzC,OAAO,CACL,oBAAC,OAAO,IACN,SAAS,EAAC,qBAAqB,EAC/B,GAAG,EAAE,KAAI,CAAC,SAAS,EACnB,MAAM,EAAE,KAAI,CAAC,UAAU,EACvB,KAAK,EAAE,EAAE,GAAG,KAAA,EAAE;gBAEd,6BAAK,SAAS,EAAC,cAAc;oBAC3B,6BAAK,SAAS,EAAC,OAAO,qCAEhB;oBACN,oBAAC,cAAc,IAAC,MAAM,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,SAAS,EAAC,cAAc,GAAG;oBACtE,6BAAK,SAAS,EAAC,aAAa;;wBAE1B,8BAAM,SAAS,EAAC,QAAQ,IACrB,MAAI,WAAW,CAAC,MAAM,cAAW,CAC7B;;wBAAK,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,WAAW;4BACxC;oBACN,6BAAK,SAAS,EAAC,gBAAgB;wBAC7B,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,KAAI,CAAC,yBAAyB,2BAE1D;wBACT,gCAAQ,SAAS,EAAC,aAAa,EAAC,OAAO,EAAE,KAAI,CAAC,qBAAqB,yBAE1D;wBACT,gCAAQ,SAAS,EAAC,aAAa,EAAC,OAAO,EAAE,KAAI,CAAC,eAAe,WAEpD,CACL,CACF,CACE,CACX,CAAC;QACJ,CAAC,CAAA;QApNC,KAAI,CAAC,yBAAyB,GAAG,QAAQ,CACvC,UAAC,KAAa;YACN,IAAA,gBAAoE,EAAlE,sCAAgB,EAAE,sDAAwB,EAAE,oBAAsB,CAAC;YAE3E,IAAI,KAAK,EAAE;gBACT,gBAAgB,CAAC,KAAK,CAAC,CAAC;aACzB;iBAAM;gBACL,wBAAwB,CAAC,OAAO,CAAC,CAAC;aACnC;QACH,CAAC,EACD,GAAG,CACJ,CAAC;QAEF,KAAI,CAAC,KAAK,GAAG;YACX,aAAa,EAAE,CAAC;YAChB,QAAQ,EAAE,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,KAAK,SAAS,EAApB,CAAoB,CAAC;YACnE,GAAG,EAAE,CAAC;YACN,gBAAgB,EAAE,KAAK;YACvB,WAAW,EAAE,KAAK;SACnB,CAAC;;IACJ,CAAC;IAED,6CAAiB,GAAjB;QACQ,IAAA,eAAkD,EAAhD,oBAAO,EAAE,sDAAuC,CAAC;QACzD,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IAED,gDAAoB,GAApB;QACE,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,CAAC;IAC1C,CAAC;IAED,4DAAgC,GAAhC,UAAiC,SAA6C;QAC5E,IAAI,SAAS,CAAC,iBAAiB,KAAK,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE;YAChE,IAAI,CAAC,QAAQ,CAAC;gBACZ,QAAQ,EAAE,SAAS,CAAC,iBAAiB,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,KAAK,SAAS,EAApB,CAAoB,CAAC;aACxE,CAAC,CAAC;SACJ;IACH,CAAC;IAED,8CAAkB,GAAlB,UAAmB,QAA4C;QAC7D,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,QAAQ,CAAC,WAAW,CAAC,MAAM,EAAE;YAC/D,IAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC;SAC/D;IACH,CAAC;IA2KD,kCAAM,GAAN;QAAA,iBAkEC;QAjEO,IAAA,eAA4E,EAA1E,gCAAa,EAAE,sBAAQ,EAAE,YAAG,EAAE,sCAAgB,EAAE,4BAA0B,CAAC;QAC3E,IAAA,gDAAiB,CAAgB;QAEzC,sCAAsC;QACtC,IAAI,gBAAgB,EAAE;YACpB,OAAO,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAClC;QAED,OAAO,CACL,oBAAC,OAAO,IACN,SAAS,EAAC,qBAAqB,EAC/B,GAAG,EAAE,IAAI,CAAC,SAAS,EACnB,KAAK,EAAE,EAAE,GAAG,KAAA,EAAE,EACd,MAAM,EAAE,IAAI,CAAC,UAAU,EACvB,MAAM,EAAE,IAAI,CAAC,mBAAmB,EAChC,YAAY;YAEZ,6BAAK,SAAS,EAAC,SAAS;gBACtB,sDAA4B;gBAC3B,WAAW,IAAI,oBAAC,MAAM,OAAG;gBAC1B,8BAAM,SAAS,EAAC,WAAW,GAAG,CAC1B;YACN,6BAAK,SAAS,EAAC,OAAO;gBACpB,+BACE,GAAG,EAAC,MAAM,EACV,IAAI,EAAC,MAAM,EACX,GAAG,EAAE,IAAI,CAAC,cAAc,EACxB,WAAW,EAAC,yBAAyB,EACrC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,EAChC,SAAS,EAAE,IAAI,CAAC,aAAa,GAC7B,CACE;YACN,6BAAK,SAAS,EAAC,eAAe,EAAC,GAAG,EAAE,IAAI,CAAC,kBAAkB,IACxD,QAAQ;iBACN,GAAG,CAAC,UAAC,OAAO,EAAE,CAAC,IAAK,OAAA,CACnB,8CACc,CAAC,EACb,GAAG,EAAE,OAAO,CAAC,EAAE,EACf,SAAS,EAAE,UAAU,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,CAAC,KAAK,aAAa,EAAE,CAAC,EACnE,OAAO,EAAE,KAAI,CAAC,YAAY,EAC1B,YAAY,EAAE,KAAI,CAAC,gBAAgB;gBAEnC,6BAAK,SAAS,EAAC,OAAO;oBACpB,6BAAK,GAAG,EAAE,OAAO,CAAC,QAAQ,GAAI,CAC1B;gBACN,6BAAK,SAAS,EAAC,MAAM;oBACnB,gCAAK,OAAO,CAAC,QAAQ,CAAM;oBAC3B,gCAAK,OAAO,CAAC,KAAK,CAAM,CACpB,CACC,CACV,EAhBoB,CAgBpB,CAAC,CACA;YACL,iBAAiB;gBAChB,6BAAK,SAAS,EAAC,YAAY;;oBAEzB,2BACE,IAAI,EAAC,iEAAiE,EACtE,MAAM,EAAC,QAAQ,iBAGb,CACA,CAEA,CACX,CAAC;IACJ,CAAC;IACH,wBAAC;AAAD,CAAC,AAnSD,CAAgC,KAAK,CAAC,aAAa,GAmSlD;AAED,eAAe,iBAAiB,CAAC","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport Popover from '@src/components/Popover/Popover';\nimport { KeyCode, Contact, TeamInvite, Team } from '@src/types';\nimport RoundCheckmark from '@src/components/Icons/RoundCheckmark.svg';\n\nimport './InviteTeamPopover.scss';\nimport browserHistory from '@src/lib/browserHistory';\nimport Loader from '@src/components/Loader/Loader';\nimport { debounce } from 'lodash';\nimport { isEmail } from '@src/lib/search';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\n\nexport interface Props {\n  team?: Team;\n  onHide?: () => void;\n}\n\nexport interface StateProps {\n  teamInvites: TeamInvite[];\n  typeaheadContacts: Contact[];\n  showProrationCopy: boolean;\n  domains: string[];\n}\n\nexport interface DispatchProps {\n  inviteTeamMember: (email: string) => void;\n  contactTypeahead: (query: string) => void;\n  contactTypeaheadByDomain: (domains: string[]) => void;\n  clearContactTypeahead: () => void;\n}\n\ninterface State {\n  selectedIndex: number;\n  contacts: Contact[];\n  top: number;\n\n  showConfirmation: boolean;\n  showSending: boolean;\n}\n\nclass InviteTeamPopover extends React.PureComponent<Props & StateProps & DispatchProps, State> {\n  popover: Popover;\n  timeout: NodeJS.Timer;\n  typeaheadContainer: HTMLDivElement;\n  input: HTMLInputElement;\n  contactTypeaheadDebounced: any;\n\n  constructor(props: Props & DispatchProps & StateProps) {\n    super(props);\n\n    this.contactTypeaheadDebounced = debounce(\n      (query: string) => {\n        const { contactTypeahead, contactTypeaheadByDomain, domains } = this.props;\n\n        if (query) {\n          contactTypeahead(query);\n        } else {\n          contactTypeaheadByDomain(domains);\n        }\n      },\n      200,\n    );\n\n    this.state = {\n      selectedIndex: 0,\n      contacts: props.typeaheadContacts.filter(c => c.user !== undefined),\n      top: 0,\n      showConfirmation: false,\n      showSending: false,\n    };\n  }\n\n  componentDidMount() {\n    const { domains, contactTypeaheadByDomain } = this.props;\n    contactTypeaheadByDomain(domains);\n  }\n\n  componentWillUnmount() {\n    this.contactTypeaheadDebounced.cancel();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props & StateProps & DispatchProps) {\n    if (nextProps.typeaheadContacts !== this.props.typeaheadContacts) {\n      this.setState({\n        contacts: nextProps.typeaheadContacts.filter(c => c.user !== undefined),\n      });\n    }\n  }\n\n  componentDidUpdate(oldProps: Props & DispatchProps & StateProps) {\n    if (this.props.teamInvites.length > oldProps.teamInvites.length) {\n      this.setState({ showConfirmation: true, showSending: false });\n    }\n  }\n\n  handleInputRef = (ref: HTMLInputElement) => {\n    this.input = ref;\n  }\n\n  handleHide = () => {\n    const { onHide, clearContactTypeahead } = this.props;\n    this.setState({ showSending: false, showConfirmation: false });\n\n    if (onHide) {\n      onHide();\n      clearContactTypeahead();\n    }\n  }\n\n  handleValueChange = (e: React.SyntheticEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n\n    this.contactTypeaheadDebounced(value);\n  }\n\n  show = (top: number) => {\n    const { domains, contactTypeaheadByDomain } = this.props;\n\n    if (!this.input || !this.input.value) {\n      contactTypeaheadByDomain(domains);\n    }\n    this.setState({ top }, this.popover.show);\n  }\n\n  handleRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  handleOnPopoverShow = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n  }\n\n  handleInvite = () => {\n    const { inviteTeamMember } = this.props;\n    const { selectedIndex, contacts, showSending } = this.state;\n    if (showSending) {\n      return;\n    }\n\n    let email = this.input && this.input.value;\n    if (contacts[selectedIndex]) {\n      email = contacts[selectedIndex].email;\n    } else if (!isEmail(email)) {\n      return;\n    }\n\n    inviteTeamMember(email);\n    logAmplitudeEvent(AmplitudeEvents.SendInviteToTeamMember);\n    this.setState({ showSending: true });\n  }\n\n  handleMouseEnter = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const target = e.currentTarget;\n    const index = target && target.getAttribute('data-index');\n\n    if (index) {\n      this.setState({ selectedIndex: parseInt(index, 10) });\n    }\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    const { selectedIndex, contacts } = this.state;\n\n    if (contacts.length && e.keyCode === KeyCode.Down) {\n      this.setState(\n        { selectedIndex: Math.min(selectedIndex + 1, contacts.length - 1) },\n        () => this.scrollSelectedIndexIntoView(true),\n      );\n    } else if (e.keyCode === KeyCode.Up) {\n      this.setState(\n        { selectedIndex: Math.max(0, selectedIndex - 1) },\n        () => this.scrollSelectedIndexIntoView(false),\n      );\n    } else if (e.keyCode === KeyCode.Enter) {\n      this.handleInvite();\n    }\n  }\n\n  scrollSelectedIndexIntoView = (scrollDown: boolean) => {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = global.setTimeout(\n      () => {\n        if (this.typeaheadContainer) {\n          const elements = this.typeaheadContainer.getElementsByClassName('contact');\n          const element = elements && elements[this.state.selectedIndex] as HTMLElement;\n          const containerRect = this.typeaheadContainer.getBoundingClientRect();\n\n          if (element && scrollDown &&\n            this.typeaheadContainer.scrollTop + containerRect.height <\n            element.offsetTop + element.offsetHeight) {\n            this.typeaheadContainer.scrollTop =\n              element.offsetTop + element.offsetHeight - containerRect.height;\n          } else if (element && !scrollDown &&\n            element && this.typeaheadContainer.scrollTop > element.offsetTop) {\n            this.typeaheadContainer.scrollTop = element.offsetTop;\n          }\n        }\n      },\n      0,\n    );\n  }\n\n  handleContainerRef = (ref: HTMLDivElement) => {\n    this.typeaheadContainer = ref;\n  }\n\n  handlePendingInvitesClick = () => {\n    if (this.popover) {\n      this.popover.hide();\n      browserHistory.push('/settings/team');\n    }\n  }\n\n  handleInviteMoreClick = () => {\n    this.setState({ showConfirmation: false });\n  }\n\n  handleDoneClick = () => {\n    if (this.popover) {\n      this.popover.hide();\n    }\n  }\n\n  renderConfirmation = () => {\n    const { teamInvites, team } = this.props;\n    return (\n      <Popover\n        className=\"invite-team-popover\"\n        ref={this.handleRef}\n        onHide={this.handleHide}\n        style={{ top }}\n      >\n        <div className=\"confirmation\">\n          <div className=\"title\">\n            Your invitation has been sent!\n          </div>\n          <RoundCheckmark height=\"24px\" width=\"24px\" className=\"confirm-icon\" />\n          <div className=\"description\">\n            You've invited\n            <span className=\"bolded\">\n              {` ${teamInvites.length} members `}\n            </span> to {team && team.name || 'your team'}.\n          </div>\n          <div className=\"action-buttons\">\n            <button className=\"pending\" onClick={this.handlePendingInvitesClick}>\n              View Pending Invites\n            </button>\n            <button className=\"invite-more\" onClick={this.handleInviteMoreClick}>\n              Invite More People\n            </button>\n            <button className=\"done-button\" onClick={this.handleDoneClick}>\n              Done\n            </button>\n          </div>\n        </div>\n      </Popover>\n    );\n  }\n\n  render() {\n    const { selectedIndex, contacts, top, showConfirmation, showSending } = this.state;\n    const { showProrationCopy } = this.props;\n\n    // Render confirmation if state is set\n    if (showConfirmation) {\n      return this.renderConfirmation();\n    }\n\n    return (\n      <Popover\n        className=\"invite-team-popover\"\n        ref={this.handleRef}\n        style={{ top }}\n        onHide={this.handleHide}\n        onShow={this.handleOnPopoverShow}\n        autoFocusOff\n      >\n        <div className=\"heading\">\n          <h5>Invite Team Members</h5>\n          {showSending && <Loader />}\n          <span className=\"separator\" />\n        </div>\n        <div className=\"input\">\n          <input\n            dir=\"auto\"\n            type=\"text\"\n            ref={this.handleInputRef}\n            placeholder=\"search name or email...\"\n            onChange={this.handleValueChange}\n            onKeyDown={this.handleKeyDown}\n          />\n        </div>\n        <div className=\"team-contacts\" ref={this.handleContainerRef}>\n          {contacts\n            .map((contact, i) => (\n              <button\n                data-index={i}\n                key={contact.id}\n                className={classnames('contact', { selected: i === selectedIndex })}\n                onClick={this.handleInvite}\n                onMouseEnter={this.handleMouseEnter}\n              >\n                <div className=\"photo\">\n                  <img src={contact.photoUrl} />\n                </div>\n                <div className=\"name\">\n                  <h4>{contact.fullName}</h4>\n                  <h5>{contact.email}</h5>\n                </div>\n              </button>\n            ))}\n        </div>\n        {showProrationCopy &&\n          <div className=\"disclaimer\">\n            Youâ€™ll be charged a prorated amount for each new member.\n            <a\n              href=\"https://help.polymail.io/plans-and-billing/plans/polymail-teams\"\n              target=\"_blank\"\n            >\n              Learn more\n            </a>\n          </div>\n        }\n      </Popover>\n    );\n  }\n}\n\nexport default InviteTeamPopover;\n"]}]}