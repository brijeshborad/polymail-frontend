{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/RecipientsPane/RecipientsPane.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/RecipientsPane/RecipientsPane.tsx","mtime":1675280254042},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNhcGl0YWxpemUgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJzsKaW1wb3J0IHsgYWRkcmVzc1RvRW1haWwgfSBmcm9tICdAc3JjL2xpYi9hZGRyZXNzJzsKaW1wb3J0IFBvcG91dCBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvUG9wb3V0LnN2Zyc7CmltcG9ydCBNZW50aW9ucyBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvTWVudGlvbnMuc3ZnJzsKaW1wb3J0IFJlY2lwaWVudHNFZGl0b3IgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vUmVjaXBpZW50c0VkaXRvcic7CmltcG9ydCB7IEVkaXRvclR5cGUgfSBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9SZWNpcGllbnRzRWRpdG9yL1JlY2lwaWVudHNFZGl0b3InOwppbXBvcnQgJy4vUmVjaXBpZW50c1BhbmUuc2Nzcyc7CmltcG9ydCBIb3ZlclRpcCBmcm9tICdAc3JjL2NvbXBvbmVudHMvQmFzZS9Ib3ZlclRpcCc7CmltcG9ydCBEcm9wZG93biBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9Ecm9wZG93bic7CmV4cG9ydCB2YXIgUmVjaXBpZW50RWRpdG9yVHlwZTsKKGZ1bmN0aW9uIChSZWNpcGllbnRFZGl0b3JUeXBlKSB7CiAgICBSZWNpcGllbnRFZGl0b3JUeXBlWyJUbyJdID0gInRvIjsKICAgIFJlY2lwaWVudEVkaXRvclR5cGVbIkNjIl0gPSAiY2MiOwogICAgUmVjaXBpZW50RWRpdG9yVHlwZVsiQmNjIl0gPSAiYmNjIjsKfSkoUmVjaXBpZW50RWRpdG9yVHlwZSB8fCAoUmVjaXBpZW50RWRpdG9yVHlwZSA9IHt9KSk7CnZhciBSZWNpcGllbnRzUGFuZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhSZWNpcGllbnRzUGFuZSwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIFJlY2lwaWVudHNQYW5lKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxTZWxlY3QgPSBmdW5jdGlvbiAoZW1haWwpIHsKICAgICAgICAgICAgX3RoaXMucHJvcHMub25TZW5kZXJTZWxlY3QoZW1haWwpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRnJvbUJ1dHRvblJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMuZnJvbURyb3Bkb3duID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvd0VkaXRvciA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHt9OwogICAgICAgICAgICBuZXdTdGF0ZVsic2hvdyIgKyBjYXBpdGFsaXplKGUuY3VycmVudFRhcmdldC5pZCldID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzLmZvY3VzKCk7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNlYXJjaCA9IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBvcG92ZXJTaG93bjogaWQgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVFZGl0b3JCbHVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBvcG92ZXJTaG93bjogdW5kZWZpbmVkIH0pOwogICAgICAgIH07CiAgICAgICAgLy8gSGFuZGxlcyBmb2N1cyBkaXJlY3Rpb24gd2hlbiB0YWJiaW5nLiBSZXR1cm5zIHRydWUgaWYgaGFuZGxlZCwgZmFsc2UgaWYgbm90CiAgICAgICAgX3RoaXMuaGFuZGxlVGFiRGlyZWN0aW9uID0gZnVuY3Rpb24gKGZvcndhcmQpIHsKICAgICAgICAgICAgaWYgKGZvcndhcmQgPT09IHZvaWQgMCkgeyBmb3J3YXJkID0gdHJ1ZTsgfQogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zdGF0ZSwgc2hvd0JjYyA9IF9hLnNob3dCY2MsIHNob3dDYyA9IF9hLnNob3dDYywgcG9wb3ZlclNob3duID0gX2EucG9wb3ZlclNob3duOwogICAgICAgICAgICBpZiAoIXBvcG92ZXJTaG93bikgewogICAgICAgICAgICAgICAgX3RoaXMuZm9jdXMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzd2l0Y2ggKHBvcG92ZXJTaG93bikgewogICAgICAgICAgICAgICAgY2FzZSBFZGl0b3JUeXBlLlRvOgogICAgICAgICAgICAgICAgICAgIGlmICghZm9yd2FyZCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dDYykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lZGl0b3JSZWZzLmNjLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd0JjYykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lZGl0b3JSZWZzLmJjYy5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgY2FzZSBFZGl0b3JUeXBlLkNjOgogICAgICAgICAgICAgICAgICAgIGlmICghZm9yd2FyZCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lZGl0b3JSZWZzLnRvLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd0JjYykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lZGl0b3JSZWZzLmJjYy5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgY2FzZSBFZGl0b3JUeXBlLkJjYzoKICAgICAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChzaG93Q2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZWRpdG9yUmVmcy5jYy5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZWRpdG9yUmVmcy50by5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVRhYlByZXNzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgb25UYWJQcmVzcyA9IF90aGlzLnByb3BzLm9uVGFiUHJlc3M7CiAgICAgICAgICAgIHZhciBoYW5kbGVkID0gX3RoaXMuaGFuZGxlVGFiRGlyZWN0aW9uKHRydWUpOwogICAgICAgICAgICBpZiAoIWhhbmRsZWQgJiYgb25UYWJQcmVzcykgewogICAgICAgICAgICAgICAgb25UYWJQcmVzcygpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTaGlmdFRhYlByZXNzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5oYW5kbGVUYWJEaXJlY3Rpb24oZmFsc2UpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuZm9jdXMgPSBmdW5jdGlvbiAodHlwZSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zdGF0ZSwgc2hvd0JjYyA9IF9hLnNob3dCY2MsIHNob3dDYyA9IF9hLnNob3dDYzsKICAgICAgICAgICAgdmFyIGVkaXRvcjsKICAgICAgICAgICAgLy8gU2V0IGVkaXRvciBpZiBwYXNzZWQgaW4gdmlhIHBhcmFtCiAgICAgICAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIFJlY2lwaWVudEVkaXRvclR5cGUuQ2M6CiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvciA9IF90aGlzLmVkaXRvclJlZnMuY2M7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgUmVjaXBpZW50RWRpdG9yVHlwZS5CY2M6CiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvciA9IF90aGlzLmVkaXRvclJlZnMuYmNjOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBGYWxsYmFjayB2YWx1ZXMgYmFzZWQgb2ZmIG9mIHN0YXRlCiAgICAgICAgICAgIGlmICghZWRpdG9yKSB7CiAgICAgICAgICAgICAgICBpZiAoc2hvd0JjYykgewogICAgICAgICAgICAgICAgICAgIGVkaXRvciA9IF90aGlzLmVkaXRvclJlZnMuYmNjOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hvd0NjKSB7CiAgICAgICAgICAgICAgICAgICAgZWRpdG9yID0gX3RoaXMuZWRpdG9yUmVmcy5jYzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVkaXRvciA9IF90aGlzLmVkaXRvclJlZnMudG87CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGVkaXRvcikgewogICAgICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlZnMgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIGlmIChyZWYpIHsKICAgICAgICAgICAgICAgIF90aGlzLmVkaXRvclJlZnNbcmVmLnByb3BzLmlkXSA9IHJlZi5nZXRXcmFwcGVkSW5zdGFuY2UoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRHJhZnRQb3BvdXQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgcG9wb3V0TGluayA9IF90aGlzLnByb3BzLnBvcG91dExpbms7CiAgICAgICAgICAgIGlmIChwb3BvdXRMaW5rKSB7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4ocG9wb3V0TGluaywgJ19ibGFuaycsICdoZWlnaHQ9NTAwLHdpZHRoPTgwMCcpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5yZW5kZXJQb3BPdXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChIb3ZlclRpcCwgeyB0b3A6ICItMzJweCIsIGxlZnQ6ICItMTBweCIsIGNvcHk6ICJQb3AgT3V0IERyYWZ0IiwgYW5jaG9yQm90dG9tOiB0cnVlIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAicG9wb3V0Iiwgb25Nb3VzZURvd246IF90aGlzLmhhbmRsZURyYWZ0UG9wb3V0IH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBvcG91dCwgbnVsbCkpKSk7IH07CiAgICAgICAgX3RoaXMuZWRpdG9yUmVmcyA9IHt9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBzaG93Q2M6IGZhbHNlLAogICAgICAgICAgICBzaG93QmNjOiBmYWxzZSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFJlY2lwaWVudHNQYW5lLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICBpZiAoKG5leHRQcm9wcy5leHBhbmRlZCAmJiAhdGhpcy5wcm9wcy5leHBhbmRlZCkgfHwKICAgICAgICAgICAgKG5leHRQcm9wcy5jYyAhPT0gdGhpcy5wcm9wcy5jYyB8fCBuZXh0UHJvcHMuYmNjICE9PSB0aGlzLnByb3BzLmJjYykpIHsKICAgICAgICAgICAgLy8gQWxsb3cgY29sbGFwc2UgdG8gaGFwcGVuIGlmIGZvY3VzIGlzIG5vIGxvbmdlciBvbiB0aGUgZWRpdG9ycyAmJiBmaWVsZHMgYXJlIGVtcHR5CiAgICAgICAgICAgIHZhciBpZ25vcmVDb2xsYXBzZV8xID0gZmFsc2U7CiAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5lZGl0b3JSZWZzKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICBpZiAoci5oYXNGb2N1cygpKSB7CiAgICAgICAgICAgICAgICAgICAgaWdub3JlQ29sbGFwc2VfMSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoIWlnbm9yZUNvbGxhcHNlXzEpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgIHNob3dDYzogISFuZXh0UHJvcHMuY2MubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIHNob3dCY2M6ICEhbmV4dFByb3BzLmJjYy5sZW5ndGgsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBSZWNpcGllbnRzUGFuZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgIHNob3dDYzogISF0aGlzLnByb3BzLmNjLmxlbmd0aCwKICAgICAgICAgICAgc2hvd0JjYzogISF0aGlzLnByb3BzLmJjYy5sZW5ndGgsCiAgICAgICAgfSk7CiAgICAgICAgLy8gSEFDSyhTSElOKTogRm9jdXMgcmVjaXBpZW50cyBwYW5lIGlmIFRPIHJlY2lwaWVudHMgaGFzIG5vdCBiZWVuIHNldCBvbiBtb3VudAogICAgICAgIGlmICghdGhpcy5wcm9wcy50by5sZW5ndGggJiYgdGhpcy5wcm9wcy5hdXRvZm9jdXMpIHsKICAgICAgICAgICAgdGhpcy5mb2N1cygpOwogICAgICAgIH0KICAgIH07CiAgICBSZWNpcGllbnRzUGFuZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsIHNob3dDYyA9IF9hLnNob3dDYywgc2hvd0JjYyA9IF9hLnNob3dCY2MsIHBvcG92ZXJTaG93biA9IF9hLnBvcG92ZXJTaG93bjsKICAgICAgICB2YXIgX2IgPSB0aGlzLnByb3BzLCBleHBhbmRlZCA9IF9iLmV4cGFuZGVkLCB0byA9IF9iLnRvLCBiY2MgPSBfYi5iY2MsIGNjID0gX2IuY2MsIHNlbmRlciA9IF9iLnNlbmRlciwgc2VuZGVyRW1haWxzID0gX2Iuc2VuZGVyRW1haWxzLCBoaWRlQWRkb25zID0gX2IuaGlkZUFkZG9ucywgb25Db21tZW50Q2xpY2sgPSBfYi5vbkNvbW1lbnRDbGljaywgb25QcmV2aWV3Q2xpY2sgPSBfYi5vblByZXZpZXdDbGljaywgb25SZWNpcGllbnRzQ2hhbmdlID0gX2Iub25SZWNpcGllbnRzQ2hhbmdlLCBvbkNvbnRhY3RHcm91cEFkZCA9IF9iLm9uQ29udGFjdEdyb3VwQWRkLCBzaG93UG9wb3V0ID0gX2Iuc2hvd1BvcG91dCwgbmV3RHJhZnQgPSBfYi5uZXdEcmFmdCwgZHJhZnRLZXkgPSBfYi5kcmFmdEtleTsKICAgICAgICB2YXIgdG9FbWFpbCA9IHRvLmxlbmd0aCA/IGFkZHJlc3NUb0VtYWlsKHRvWzBdKSA6IHVuZGVmaW5lZDsKICAgICAgICB2YXIgb3RoZXJzID0gKHRvLmxlbmd0aCA/IHRvLmxlbmd0aCAtIDEgOiAwKSArIChjYy5sZW5ndGggPyBjYy5sZW5ndGggOiAwKQogICAgICAgICAgICArIChiY2MubGVuZ3RoID8gYmNjLmxlbmd0aCA6IDApOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ3JlY2lwaWVudHMtcGFuZScsIHsgJ25ldy1kcmFmdCc6IG5ld0RyYWZ0IH0pIH0sCiAgICAgICAgICAgICFleHBhbmRlZCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInByZXZpZXciIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogIm1haW4iLCBvbkNsaWNrOiBvblByZXZpZXdDbGljayB9LAogICAgICAgICAgICAgICAgICAgIHNlbmRlciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgc2VuZGVyKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgInRvIiksCiAgICAgICAgICAgICAgICAgICAgdG9FbWFpbCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgdG9FbWFpbCksCiAgICAgICAgICAgICAgICAgICAgISFvdGhlcnMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICJhbmQgIiwKICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJzLAogICAgICAgICAgICAgICAgICAgICAgICAiIG90aGVycyIpKSwKICAgICAgICAgICAgICAgIHNob3dQb3BvdXQgJiYgdGhpcy5yZW5kZXJQb3BPdXQoKSksCiAgICAgICAgICAgIGV4cGFuZGVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibWFpbiIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidG8gaW5wdXQiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsgY2xhc3NOYW1lOiAiaGVhZGluZyIgfSwgIlRvOiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogIm1haW4iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVjaXBpZW50c0VkaXRvciwgeyBpZDogRWRpdG9yVHlwZS5Ubywga2V5OiBkcmFmdEtleSwgcmVmOiB0aGlzLmhhbmRsZVJlZnMsIHJlY2lwaWVudHM6IHRvLCBvblJlY2lwaWVudHNDaGFuZ2U6IG9uUmVjaXBpZW50c0NoYW5nZSwgb25TZWFyY2g6IHRoaXMuaGFuZGxlU2VhcmNoLCBmb2N1c2VkOiBwb3BvdmVyU2hvd24gPT09IEVkaXRvclR5cGUuVG8sIG9uQ29udGFjdEdyb3VwQWRkOiBvbkNvbnRhY3RHcm91cEFkZCwgb25UYWJQcmVzczogdGhpcy5oYW5kbGVUYWJQcmVzcywgb25TaGlmdFRhYlByZXNzOiB0aGlzLmhhbmRsZVNoaWZ0VGFiUHJlc3MsIG9uRm9jdXM6IHRoaXMuaGFuZGxlU2VhcmNoLCBvbkJsdXI6IHRoaXMuaGFuZGxlRWRpdG9yQmx1ciB9KSksCiAgICAgICAgICAgICAgICAgICAgIXNob3dDYyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGlkOiAiY2MiLCBvbkNsaWNrOiB0aGlzLnNob3dFZGl0b3IgfSwgIkNDIiksCiAgICAgICAgICAgICAgICAgICAgIXNob3dCY2MgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBpZDogImJjYyIsIG9uQ2xpY2s6IHRoaXMuc2hvd0VkaXRvciB9LCAiQkNDIikpLAogICAgICAgICAgICAgICAgc2hvd0NjICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY2MgaW5wdXQiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsgY2xhc3NOYW1lOiAiaGVhZGluZyIgfSwgIkNjOiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogIm1haW4iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVjaXBpZW50c0VkaXRvciwgeyBpZDogRWRpdG9yVHlwZS5DYywgcmVmOiB0aGlzLmhhbmRsZVJlZnMsIHJlY2lwaWVudHM6IGNjLCBvblJlY2lwaWVudHNDaGFuZ2U6IG9uUmVjaXBpZW50c0NoYW5nZSwgb25TZWFyY2g6IHRoaXMuaGFuZGxlU2VhcmNoLCBmb2N1c2VkOiBwb3BvdmVyU2hvd24gPT09IEVkaXRvclR5cGUuQ2MsIG9uQ29udGFjdEdyb3VwQWRkOiBvbkNvbnRhY3RHcm91cEFkZCwgb25UYWJQcmVzczogdGhpcy5oYW5kbGVUYWJQcmVzcywgb25TaGlmdFRhYlByZXNzOiB0aGlzLmhhbmRsZVNoaWZ0VGFiUHJlc3MsIG9uRm9jdXM6IHRoaXMuaGFuZGxlU2VhcmNoLCBvbkJsdXI6IHRoaXMuaGFuZGxlRWRpdG9yQmx1ciB9KSkpLAogICAgICAgICAgICAgICAgc2hvd0JjYyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImJjYyBpbnB1dCIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJoZWFkaW5nIiB9LCAiQmNjOiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogIm1haW4iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVjaXBpZW50c0VkaXRvciwgeyBpZDogRWRpdG9yVHlwZS5CY2MsIHJlZjogdGhpcy5oYW5kbGVSZWZzLCByZWNpcGllbnRzOiBiY2MsIG9uUmVjaXBpZW50c0NoYW5nZTogb25SZWNpcGllbnRzQ2hhbmdlLCBvblNlYXJjaDogdGhpcy5oYW5kbGVTZWFyY2gsIGZvY3VzZWQ6IHBvcG92ZXJTaG93biA9PT0gRWRpdG9yVHlwZS5CY2MsIG9uQ29udGFjdEdyb3VwQWRkOiBvbkNvbnRhY3RHcm91cEFkZCwgb25UYWJQcmVzczogdGhpcy5oYW5kbGVUYWJQcmVzcywgb25TaGlmdFRhYlByZXNzOiB0aGlzLmhhbmRsZVNoaWZ0VGFiUHJlc3MsIG9uRm9jdXM6IHRoaXMuaGFuZGxlU2VhcmNoLCBvbkJsdXI6IHRoaXMuaGFuZGxlRWRpdG9yQmx1ciB9KSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmcm9tIGlucHV0IiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogImhlYWRpbmciIH0sICJGcm9tOiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd24sIHsgY2xhc3NOYW1lOiAibWFpbiIsIHJlZjogdGhpcy5oYW5kbGVGcm9tQnV0dG9uUmVmLCBvblNlbGVjdDogdGhpcy5oYW5kbGVFbWFpbFNlbGVjdCwgdmFsdWU6IHNlbmRlciwgdmFsdWVzOiBzZW5kZXJFbWFpbHMsIHJlYWRPbmx5OiBmYWxzZSwgdHlwZWFoZWFkOiB0cnVlLCBoaWRlRGlzY2xvc3VyZTogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgICAgICAhaGlkZUFkZG9ucyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogIm1lbnRpb24iLCBvbkNsaWNrOiBvbkNvbW1lbnRDbGljayB9LAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnRpb25zLCBudWxsKSksCiAgICAgICAgICAgICAgICAgICAgc2hvd1BvcG91dCAmJiB0aGlzLnJlbmRlclBvcE91dCgpKSkpKTsKICAgIH07CiAgICBSZWNpcGllbnRzUGFuZS5kZWZhdWx0UHJvcHMgPSB7CiAgICAgICAgdG86IFtdLAogICAgICAgIGJjYzogW10sCiAgICAgICAgY2M6IFtdLAogICAgfTsKICAgIHJldHVybiBSZWNpcGllbnRzUGFuZTsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7Ci8vIFRPRE8oU0hJTik6IEJldGEgLSBQbGFjZSBhdCBlbmQgb2YgcmVjaXBpZW50cyBwcmV2aWV3IHBhbmUgZm9yIGNvbW1lbnQgYW5kIHBvcCBvdXQKLy8gPGJ1dHRvbiBjbGFzc05hbWU9Im1lbnRpb24iIG9uQ2xpY2s9e29uQ29tbWVudENsaWNrfT4KLy8gICA8TWVudGlvbnMgLz4KLy8gPC9idXR0b24+Ci8vIDxidXR0b24gY2xhc3NOYW1lPSJ3aW5kb3ciPgovLyAgIDxXaW5kb3cgLz4KLy8gPC9idXR0b24+CmV4cG9ydCBkZWZhdWx0IFJlY2lwaWVudHNQYW5lOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/RecipientsPane/RecipientsPane.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/RecipientsPane/RecipientsPane.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { capitalize } from 'lodash';\nimport classnames from 'classnames';\nimport { addressToEmail } from '@src/lib/address';\n\nimport Popout from '@src/components/Icons/Popout.svg';\nimport Mentions from '@src/components/Icons/Mentions.svg';\nimport RecipientsEditor from '@src/components/Form/RecipientsEditor';\nimport RecipientsEditorComponent, { EditorType } from '@src/components/Form/RecipientsEditor/RecipientsEditor';\n\nimport './RecipientsPane.scss';\nimport { ContactGroup } from '@src/types';\nimport HoverTip from '@src/components/Base/HoverTip';\nimport Dropdown from '@src/components/Form/Dropdown';\n\ninterface Props {\n  to: string[];\n  bcc: string[];\n  cc: string[];\n  sender: string;\n  senderEmails: string[];\n  expanded: boolean;\n  draftKey?: string;\n  hideAddons?: boolean;\n  showPopout?: boolean;\n  newDraft?: boolean;\n  popoutLink?: string;\n\n  onCommentClick: () => void;\n  onSenderSelect: (email: string) => void;\n  onRecipientsChange: (list: string, recipients: string[]) => void;\n  onContactGroupAdd: (list: string, contactGroup: ContactGroup) => void;\n  onPreviewClick: () => void;\n  onTabPress?: () => void;\n  autofocus?: boolean;\n}\n\ninterface State {\n  showCc: boolean;\n  showBcc: boolean;\n  popoverShown?: EditorType;\n}\n\nexport enum RecipientEditorType {\n  To = 'to',\n  Cc = 'cc',\n  Bcc = 'bcc',\n}\n\nclass RecipientsPane extends React.PureComponent<Props, State>  {\n  static defaultProps = {\n    to: [],\n    bcc: [],\n    cc: [],\n  };\n\n  fromDropdown: Dropdown;\n  private editorRefs: { [id: string]: RecipientsEditorComponent};\n\n  constructor() {\n    super();\n\n    this.editorRefs = {};\n\n    this.state = {\n      showCc: false,\n      showBcc: false,\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    if (\n      (nextProps.expanded && !this.props.expanded) ||\n      (nextProps.cc !== this.props.cc || nextProps.bcc !== this.props.bcc)\n    ) {\n\n      // Allow collapse to happen if focus is no longer on the editors && fields are empty\n      let ignoreCollapse = false;\n      Object.values(this.editorRefs).forEach((r) => {\n        if (r.hasFocus()) {\n          ignoreCollapse = true;\n        }\n      });\n\n      if (!ignoreCollapse) {\n        this.setState({\n          showCc: !!nextProps.cc.length,\n          showBcc: !!nextProps.bcc.length,\n        });\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      showCc: !!this.props.cc.length,\n      showBcc: !!this.props.bcc.length,\n    });\n\n    // HACK(SHIN): Focus recipients pane if TO recipients has not been set on mount\n    if (!this.props.to.length && this.props.autofocus) {\n      this.focus();\n    }\n  }\n\n  handleEmailSelect = (email: string) => {\n    this.props.onSenderSelect(email);\n  }\n\n  handleFromButtonRef = (ref: Dropdown) => {\n    this.fromDropdown = ref;\n  }\n\n  showEditor = (e: React.MouseEvent<HTMLButtonElement>) => {\n    const newState = {};\n    newState[`show${capitalize(e.currentTarget.id)}`] = true;\n    this.setState(\n      newState,\n      () => {\n        this.focus();\n        e.preventDefault();\n        e.stopPropagation();\n      },\n   );\n  }\n\n  handleSearch = (id: EditorType) => {\n    this.setState({ popoverShown: id });\n  }\n\n  handleEditorBlur = () => {\n    this.setState({ popoverShown: undefined });\n  }\n\n  // Handles focus direction when tabbing. Returns true if handled, false if not\n  handleTabDirection = (forward: boolean = true): boolean => {\n    const { showBcc, showCc, popoverShown } = this.state;\n    if (!popoverShown) {\n      this.focus();\n    }\n\n    switch (popoverShown) {\n      case EditorType.To:\n        if (!forward) {\n          return true;\n        }\n        if (showCc) {\n          this.editorRefs.cc.focus();\n          return true;\n        }\n\n        if (showBcc) {\n          this.editorRefs.bcc.focus();\n          return true;\n        }\n\n        return false;\n      case EditorType.Cc:\n        if (!forward) {\n          this.editorRefs.to.focus();\n          return true;\n        }\n\n        if (showBcc) {\n          this.editorRefs.bcc.focus();\n          return true;\n        }\n\n        return false;\n\n      case EditorType.Bcc:\n        if (forward) {\n          return false;\n        }\n\n        if (showCc) {\n          this.editorRefs.cc.focus();\n          return true;\n        }\n\n        this.editorRefs.to.focus();\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  handleTabPress = () => {\n    const { onTabPress } = this.props;\n    const handled = this.handleTabDirection(true);\n    if (!handled && onTabPress) {\n      onTabPress();\n    }\n  }\n\n  handleShiftTabPress = () => {\n    this.handleTabDirection(false);\n  }\n\n  focus = (type?: RecipientEditorType) => {\n    const { showBcc, showCc } = this.state;\n    let editor: any;\n\n    // Set editor if passed in via param\n    if (type) {\n      switch (type) {\n        case RecipientEditorType.Cc:\n          editor = this.editorRefs.cc;\n          break;\n        case RecipientEditorType.Bcc:\n          editor = this.editorRefs.bcc;\n          break;\n        default: break;\n      }\n    }\n\n    // Fallback values based off of state\n    if (!editor) {\n      if (showBcc) {\n        editor = this.editorRefs.bcc;\n      } else if (showCc) {\n        editor = this.editorRefs.cc;\n      } else {\n        editor = this.editorRefs.to;\n      }\n    }\n\n    if (editor) {\n      editor.focus();\n    }\n  }\n\n  handleRefs = (ref: any) => {\n    if (ref) {\n      this.editorRefs[ref.props.id] = ref.getWrappedInstance();\n    }\n  }\n\n  handleDraftPopout = (e: React.SyntheticEvent<HTMLElement>) => {\n    const { popoutLink } = this.props;\n\n    if (popoutLink) {\n      e.stopPropagation();\n      e.preventDefault();\n      window.open(popoutLink, '_blank', 'height=500,width=800');\n    }\n  }\n\n  renderPopOut = () => (\n    <HoverTip\n      top=\"-32px\"\n      left=\"-10px\"\n      copy=\"Pop Out Draft\"\n      anchorBottom\n    >\n      <button\n        className=\"popout\"\n        onMouseDown={this.handleDraftPopout}\n      >\n        <Popout />\n      </button>\n    </HoverTip>\n  )\n\n  render() {\n    const {\n      showCc,\n      showBcc,\n      popoverShown,\n    } = this.state;\n    const {\n      expanded,\n      to,\n      bcc,\n      cc,\n      sender,\n      senderEmails,\n      hideAddons,\n      onCommentClick,\n      onPreviewClick,\n      onRecipientsChange,\n      onContactGroupAdd,\n      showPopout,\n      newDraft,\n      draftKey,\n    } = this.props;\n    const toEmail = to.length ? addressToEmail(to[0]) : undefined;\n    const others = (to.length ? to.length - 1 : 0) + (cc.length ? cc.length : 0)\n      + (bcc.length ? bcc.length : 0);\n\n    return (\n      <div className={classnames('recipients-pane', { 'new-draft': newDraft })}>\n        {!expanded && <div className=\"preview\">\n          <button className=\"main\" onClick={onPreviewClick}>\n            {sender && <span>\n              {sender}\n            </span>}\n            <span>to</span>\n            {toEmail && <span>{toEmail}</span>}\n            {!!others && <span>and {others} others</span>}\n          </button>\n          {showPopout && this.renderPopOut()}\n        </div>}\n        {expanded && <div className=\"main\">\n          <div className=\"to input\">\n            <span className=\"heading\">To:</span>\n            <span className=\"main\">\n              <RecipientsEditor\n                id={EditorType.To}\n                key={draftKey}\n                ref={this.handleRefs}\n                recipients={to}\n                onRecipientsChange={onRecipientsChange}\n                onSearch={this.handleSearch}\n                focused={popoverShown === EditorType.To}\n                onContactGroupAdd={onContactGroupAdd}\n                onTabPress={this.handleTabPress}\n                onShiftTabPress={this.handleShiftTabPress}\n                onFocus={this.handleSearch}\n                onBlur={this.handleEditorBlur}\n              />\n            </span>\n            {!showCc && <button id=\"cc\" onClick={this.showEditor}>CC</button>}\n            {!showBcc && <button id=\"bcc\" onClick={this.showEditor}>BCC</button>}\n          </div>\n          {showCc && <div className=\"cc input\">\n            <span className=\"heading\">Cc:</span>\n            <span className=\"main\">\n              <RecipientsEditor\n                id={EditorType.Cc}\n                ref={this.handleRefs}\n                recipients={cc}\n                onRecipientsChange={onRecipientsChange}\n                onSearch={this.handleSearch}\n                focused={popoverShown === EditorType.Cc}\n                onContactGroupAdd={onContactGroupAdd}\n                onTabPress={this.handleTabPress}\n                onShiftTabPress={this.handleShiftTabPress}\n                onFocus={this.handleSearch}\n                onBlur={this.handleEditorBlur}\n              />\n            </span>\n          </div>}\n          {showBcc && <div className=\"bcc input\">\n            <span className=\"heading\">Bcc:</span>\n            <span className=\"main\">\n              <RecipientsEditor\n                id={EditorType.Bcc}\n                ref={this.handleRefs}\n                recipients={bcc}\n                onRecipientsChange={onRecipientsChange}\n                onSearch={this.handleSearch}\n                focused={popoverShown === EditorType.Bcc}\n                onContactGroupAdd={onContactGroupAdd}\n                onTabPress={this.handleTabPress}\n                onShiftTabPress={this.handleShiftTabPress}\n                onFocus={this.handleSearch}\n                onBlur={this.handleEditorBlur}\n              />\n            </span>\n          </div>}\n          <div className=\"from input\">\n            <span className=\"heading\">From:</span>\n            <Dropdown\n              className=\"main\"\n              ref={this.handleFromButtonRef}\n              onSelect={this.handleEmailSelect}\n              value={sender}\n              values={senderEmails}\n              readOnly={false}\n              typeahead\n              hideDisclosure\n            />\n            {!hideAddons && <button className=\"mention\" onClick={onCommentClick}>\n              <Mentions />\n            </button>}\n            {showPopout && this.renderPopOut()}\n          </div>\n        </div>}\n      </div>\n    );\n  }\n}\n\n// TODO(SHIN): Beta - Place at end of recipients preview pane for comment and pop out\n// <button className=\"mention\" onClick={onCommentClick}>\n//   <Mentions />\n// </button>\n// <button className=\"window\">\n//   <Window />\n// </button>\n\nexport default RecipientsPane;\n"]}]}