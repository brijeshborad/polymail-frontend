{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Team/Team.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Team/Team.tsx","mtime":1675280254111},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHsKICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7CiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkKICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdDsKICAgIH07CiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJzsKaW1wb3J0IE5hdmlnYXRpb25IZWFkZXIgZnJvbSAnQHNyYy9yb3V0ZXMvU2V0dGluZ3MvY29tcG9uZW50cy9OYXZpZ2F0aW9uSGVhZGVyJzsKaW1wb3J0IHsgVGVhbUludml0ZVN0YXR1cywgS2V5Q29kZSwgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0ICcuL1RlYW0uc2Nzcyc7CmltcG9ydCB7IHNpemUsIG1hcCwgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgRHJvcGRvd24gZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vRHJvcGRvd24nOwppbXBvcnQgQ2xvc2UgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0Nsb3NlLnN2Zyc7CmltcG9ydCB7IGlzRW1haWwgfSBmcm9tICdAc3JjL2xpYi9zZWFyY2gnOwppbXBvcnQgRWRpdGFibGVJbnB1dCBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9FZGl0YWJsZUlucHV0L0VkaXRhYmxlSW5wdXQnOwovLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoCmltcG9ydCBCaWxsaW5nRGF0YVByb3ZpZGVyIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL3JvdXRlcy9CaWxsaW5nL2NvbXBvbmVudHMvQmlsbGluZ0RhdGFQcm92aWRlcic7CmltcG9ydCBEcm9wZG93bkNlbGwgZnJvbSAnQHNyYy9yb3V0ZXMvU2V0dGluZ3MvY29tcG9uZW50cy9Ecm9wZG93bkNlbGwnOwppbXBvcnQgeyBCaWxsaW5nQ3ljbGUgfSBmcm9tICdAc3JjL3R5cGVzL2JpbGxpbmcnOwovLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoCmltcG9ydCBDb250YWN0VHlwZWFoZWFkUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9SZWNpcGllbnRzRWRpdG9yL2NvbXBvbmVudHMvQ29udGFjdFR5cGVhaGVhZFBvcG92ZXInOwppbXBvcnQgQ29uZmlybSBmcm9tICdAc3JjL2NvbXBvbmVudHMvQmFzZS9Db25maXJtJzsKdmFyIFRlYW1Sb2xlOwooZnVuY3Rpb24gKFRlYW1Sb2xlKSB7CiAgICBUZWFtUm9sZVsiQWRtaW4iXSA9ICJBZG1pbiI7CiAgICBUZWFtUm9sZVsiTWVtYmVyIl0gPSAiTWVtYmVyIjsKfSkoVGVhbVJvbGUgfHwgKFRlYW1Sb2xlID0ge30pKTsKdmFyIFRFQU1fUk9MRVMgPSBbVGVhbVJvbGUuQWRtaW4sIFRlYW1Sb2xlLk1lbWJlcl07CnZhciBUZWFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFRlYW0sIF9zdXBlcik7CiAgICBmdW5jdGlvbiBUZWFtKHByb3BzKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVVcGRhdGVSb2xlID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgaWQpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHJlbW92ZVRlYW1BZG1pbiA9IF9hLnJlbW92ZVRlYW1BZG1pbiwgYWRkVGVhbUFkbWluID0gX2EuYWRkVGVhbUFkbWluOwogICAgICAgICAgICBpZiAoaWQgJiYgdmFsdWUgPT09IFRlYW1Sb2xlLkFkbWluKSB7CiAgICAgICAgICAgICAgICBhZGRUZWFtQWRtaW4oaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGlkKSB7CiAgICAgICAgICAgICAgICByZW1vdmVUZWFtQWRtaW4oaWQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZXNlbmQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgcmVzZW5kVGVhbUludml0ZSA9IF90aGlzLnByb3BzLnJlc2VuZFRlYW1JbnZpdGU7CiAgICAgICAgICAgIHZhciBpZCA9IGUuY3VycmVudFRhcmdldC5uYW1lOwogICAgICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgICAgICAgIHJlc2VuZFRlYW1JbnZpdGUoaWQpOwogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgIHJlc2VudDogX3RoaXMuc3RhdGUucmVzZW50LmNvbmNhdChbaWRdKSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQudmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZGVib3VuY2VkKF90aGlzLnN0YXRlLmVtYWlsKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnZpdGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgZW1haWwgPSBfdGhpcy5zdGF0ZS5lbWFpbDsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHNldFRvYXN0ID0gX2Euc2V0VG9hc3QsIGludml0ZVRlYW1NZW1iZXIgPSBfYS5pbnZpdGVUZWFtTWVtYmVyOwogICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICAgICAgaWYgKGUpIHsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWVtYWlsIHx8ICFpc0VtYWlsKGVtYWlsKSkgewogICAgICAgICAgICAgICAgc2V0VG9hc3QobmV3IEVycm9yKCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsOiAnJyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnZpdGVUZWFtTWVtYmVyKGVtYWlsKTsgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTZXQgPSBmdW5jdGlvbiAocHJvcGVydHksIHRleHQpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHRlYW0gPSBfYS50ZWFtLCB1cGRhdGVUZWFtID0gX2EudXBkYXRlVGVhbTsKICAgICAgICAgICAgaWYgKHRleHQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRlYW1OYW1lOiB0ZWFtID8gdGVhbS5uYW1lIDogJycgfSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRlYW0pIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdGVhbU5hbWU6IHRleHQgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRlYW0oeyB0ZWFtOiB0ZWFtLmlkLCBuYW1lOiB0ZXh0IH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVRlYW1BY2NvdW50U2VsZWN0ID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgaWQpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHVwZGF0ZUFjY291bnQgPSBfYS51cGRhdGVBY2NvdW50LCB0ZWFtQWNjb3VudCA9IF9hLnRlYW1BY2NvdW50LCBhY2NvdW50cyA9IF9hLmFjY291bnRzLCB0ZWFtID0gX2EudGVhbTsKICAgICAgICAgICAgaWYgKHRlYW0gJiYgKCF0ZWFtQWNjb3VudCB8fCB2YWx1ZSAhPT0gdGVhbUFjY291bnQuZW1haWwpKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVBY2NvdW50KF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY2NvdW50c1tpbmRleF0pLCB7IHRlYW06IHRlYW0uaWQgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZW1vdmVUZWFtTWVtYmVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHJlbW92ZVRlYW1NZW1iZXIgPSBfYS5yZW1vdmVUZWFtTWVtYmVyLCB0ZWFtTWVtYmVycyA9IF9hLnRlYW1NZW1iZXJzLCBpc0FkbWluID0gX2EuaXNBZG1pbjsKICAgICAgICAgICAgdmFyIGlkID0gZS5jdXJyZW50VGFyZ2V0Lm5hbWU7CiAgICAgICAgICAgIGlmIChpZCAmJiB0ZWFtTWVtYmVycyAmJiB0ZWFtTWVtYmVyc1tpZF0gJiYgaXNBZG1pbikgewogICAgICAgICAgICAgICAgdmFyIGZ1bGxOYW1lID0gdGVhbU1lbWJlcnNbaWRdLmZpcnN0TmFtZSArICcgJyArIHRlYW1NZW1iZXJzW2lkXS5sYXN0TmFtZTsKICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IGZ1bGxOYW1lLnRyaW0oKSB8fCB0ZWFtTWVtYmVyc1tpZF0uZW1haWw7CiAgICAgICAgICAgICAgICB2YXIgY29uZmlybVByb3BzID0gewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUmVtb3ZpbmcgIiArIGRpc3BsYXlOYW1lLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlICIgKyBkaXNwbGF5TmFtZSArICIgZnJvbSB5b3VyIHRlYW0/IiwKICAgICAgICAgICAgICAgICAgICBjb25maXJtQ29weTogJ1JlbW92ZScsCiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQ29weTogJ0NhbmNlbCcsCiAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRlYW1NZW1iZXIoaWQpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1Qcm9wczogdW5kZWZpbmVkIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNldFN0YXRlKHsgY29uZmlybVByb3BzOiB1bmRlZmluZWQgfSk7IH0sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb25maXJtUHJvcHM6IGNvbmZpcm1Qcm9wcyB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVtb3ZlVGVhbUludml0ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCByZW1vdmVUZWFtSW52aXRlID0gX2EucmVtb3ZlVGVhbUludml0ZSwgdGVhbUludml0ZXMgPSBfYS50ZWFtSW52aXRlcywgZ2V0Q29udGFjdCA9IF9hLmdldENvbnRhY3Q7CiAgICAgICAgICAgIHZhciBpZCA9IGUuY3VycmVudFRhcmdldC5uYW1lOwogICAgICAgICAgICBpZiAoaWQgJiYgdGVhbUludml0ZXMpIHsKICAgICAgICAgICAgICAgIHZhciBpbnZpdGUgPSB0ZWFtSW52aXRlcy5maW5kKGZ1bmN0aW9uICh0aSkgeyByZXR1cm4gdGkuaWQgPT09IGlkOyB9KTsKICAgICAgICAgICAgICAgIGlmIChpbnZpdGUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdCA9IGdldENvbnRhY3QoaW52aXRlLmVtYWlsKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZnVsbE5hbWUgPSBjb250YWN0LmdpdmVuTmFtZSArICcgJyArIGNvbnRhY3QuZmFtaWx5TmFtZTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSBmdWxsTmFtZS50cmltKCkgfHwgY29udGFjdC5lbWFpbDsKICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybVByb3BzID0gewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlJlbW92aW5nICIgKyBkaXNwbGF5TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgIiArIGRpc3BsYXlOYW1lICsgIidzIHBlbmRpbmcgaW52aXRlPyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1Db3B5OiAnUmVtb3ZlJywKICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQ29weTogJ0NhbmNlbCcsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGVhbUludml0ZShpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1Qcm9wczogdW5kZWZpbmVkIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBjb25maXJtUHJvcHM6IHVuZGVmaW5lZCB9KTsgfSwKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgY29uZmlybVByb3BzOiBjb25maXJtUHJvcHMgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvbnRhY3RTZWxlY3QgPSBmdW5jdGlvbiAoY29udGFjdCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsOiBjb250YWN0LmVtYWlsIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmhhbmRsZUludml0ZSgpOyB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVBvcG92ZXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLnBvcG92ZXIgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHR5cGVhaGVhZENvbnRhY3RzID0gX3RoaXMucHJvcHMudHlwZWFoZWFkQ29udGFjdHM7CiAgICAgICAgICAgIHZhciBoYW5kbGVkID0gZmFsc2U7CiAgICAgICAgICAgIGlmICghX3RoaXMucG9wb3ZlciB8fCAhdHlwZWFoZWFkQ29udGFjdHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5VcDoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyLm9uVXBBcnJvdygpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkRvd246CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5vbkRvd25BcnJvdygpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkVudGVyOgogICAgICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIub25FbnRlcigpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaGFuZGxlZCkgewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuZGVib3VuY2VkID0gZGVib3VuY2UocHJvcHMuY29udGFjdFR5cGVhaGVhZCwgMjAwKTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICB0ZWFtTmFtZTogcHJvcHMudGVhbSA/IHByb3BzLnRlYW0ubmFtZSA6ICcnLAogICAgICAgICAgICByZXNlbnQ6IFtdLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgVGVhbS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgbGlzdFRlYW1JbnZpdGUgPSBfYS5saXN0VGVhbUludml0ZSwgdGVhbUludml0ZXMgPSBfYS50ZWFtSW52aXRlcywgZmV0Y2hUZWFtTWVtYmVycyA9IF9hLmZldGNoVGVhbU1lbWJlcnM7CiAgICAgICAgaWYgKCF0ZWFtSW52aXRlcykgewogICAgICAgICAgICBsaXN0VGVhbUludml0ZSgpOwogICAgICAgIH0KICAgICAgICBmZXRjaFRlYW1NZW1iZXJzKCk7CiAgICB9OwogICAgVGVhbS5wcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7CiAgICAgICAgaWYgKHRoaXMucHJvcHMudGVhbSAhPT0gbmV4dFByb3BzLnRlYW0gJiYgbmV4dFByb3BzLnRlYW0pIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRlYW1OYW1lOiBuZXh0UHJvcHMudGVhbS5uYW1lIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5wcm9wcy50eXBlYWhlYWRDb250YWN0cyAhPT0gbmV4dFByb3BzLnR5cGVhaGVhZENvbnRhY3RzKSB7CiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMudHlwZWFoZWFkQ29udGFjdHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBvcG92ZXIuc2hvdygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBUZWFtLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCB0ZWFtID0gX2EudGVhbSwgdGVhbUludml0ZXMgPSBfYS50ZWFtSW52aXRlcywgdGVhbU1lbWJlcnMgPSBfYS50ZWFtTWVtYmVycywgaXNBZG1pbiA9IF9hLmlzQWRtaW4sIGdldENvbnRhY3QgPSBfYS5nZXRDb250YWN0LCBhY2NvdW50cyA9IF9hLmFjY291bnRzLCB0ZWFtQWNjb3VudCA9IF9hLnRlYW1BY2NvdW50LCB0eXBlYWhlYWRDb250YWN0cyA9IF9hLnR5cGVhaGVhZENvbnRhY3RzLCBiaWxsaW5nU3Vic2NyaXB0aW9uID0gX2EuYmlsbGluZ1N1YnNjcmlwdGlvbjsKICAgICAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLCBlbWFpbCA9IF9iLmVtYWlsLCB0ZWFtTmFtZSA9IF9iLnRlYW1OYW1lLCByZXNlbnQgPSBfYi5yZXNlbnQsIGNvbmZpcm1Qcm9wcyA9IF9iLmNvbmZpcm1Qcm9wczsKICAgICAgICB2YXIgYWNjb3VudEVtYWlscyA9IGFjY291bnRzLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5lbWFpbDsgfSk7CiAgICAgICAgaWYgKCF0ZWFtIHx8ICF0ZWFtSW52aXRlcykgewogICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCk7CiAgICAgICAgfQogICAgICAgIHZhciBwZW5kaW5nVGVhbUludml0ZXMgPSB0ZWFtSW52aXRlcy5maWx0ZXIoZnVuY3Rpb24gKHRpKSB7IHJldHVybiB0aS5zdGF0dXMgPT09IFRlYW1JbnZpdGVTdGF0dXMuUGVuZGluZzsgfSk7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJpbGxpbmdEYXRhUHJvdmlkZXIsIG51bGwsCiAgICAgICAgICAgIGNvbmZpcm1Qcm9wcyAmJgogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb25maXJtLCBfX2Fzc2lnbih7fSwgY29uZmlybVByb3BzKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdzZXR0aW5ncy1wYW5lbCBwcmVmZXJlbmNlcy10ZWFtJywgewogICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBpc0FkbWluLAogICAgICAgICAgICAgICAgfSkgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkhlYWRlciwgeyB0aXRsZTogIlRlYW0gJiBVc2VycyIsIGlzTW9iaWxlOiB0aGlzLnByb3BzLmlzTW9iaWxlLCBjb2xsYXBzZWRNb2JpbGU6IHRoaXMucHJvcHMuY29sbGFwc2VkTW9iaWxlLCBjb2xsYXBzZUxzYjogdGhpcy5wcm9wcy5jb2xsYXBzZUxzYiB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaGVhZGluZyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRhYmxlSW5wdXQsIHsgY2xhc3NOYW1lOiAidGVhbS1uYW1lIiwgdGV4dDogdGVhbU5hbWUsIHByb3BlcnR5OiAidGVhbU5hbWUiLCBvblNldDogdGhpcy5oYW5kbGVTZXQsIHBsYWNlaG9sZGVyOiAiQWRkIHRlYW0gbmFtZSIsIHJlYWRPbmx5OiAhaXNBZG1pbiB9KSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInN1YnRpdGxlIiB9LCBzaXplKHRlYW1NZW1iZXJzKSArICIgbWVtYmVyIiArIChzaXplKHRlYW1NZW1iZXJzKSA/ICdzJyA6ICcnKSArIChwZW5kaW5nVGVhbUludml0ZXMubGVuZ3RoID8KICAgICAgICAgICAgICAgICAgICAgICAgIiwgIiArIHBlbmRpbmdUZWFtSW52aXRlcy5sZW5ndGggKyAiIHBlbmRpbmcgaW52aXRhdGlvbnMiIDogJycpKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRlYW0tYWNjb3VudCIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duQ2VsbCwgeyB0aXRsZTogIlRlYW0gYWNjb3VudCIsIHN1YnRpdGxlOiAiVGhlIHByaW1hcnkgZW1haWwgYWNjb3VudCBhc3NvY2lhdGVkIHdpdGggeW91ciB0ZWFtLiIsIHZhbHVlczogYWNjb3VudEVtYWlscywgb25TZWxlY3Q6IHRoaXMuaGFuZGxlVGVhbUFjY291bnRTZWxlY3QsIHN0YXJ0SW5kZXg6IHRlYW1BY2NvdW50ID8gYWNjb3VudEVtYWlscy5pbmRleE9mKHRlYW1BY2NvdW50LmVtYWlsKSA6IHVuZGVmaW5lZCB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImludml0ZS1tZW1iZXJzIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibGFiZWwiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJJbnZpdGUgdGVhbW1hdGVzIHRvICIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRlYW0ubmFtZSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZm9ybSIsIHsgY2xhc3NOYW1lOiAiaW5wdXQtY29udGFpbmVyIiwgb25TdWJtaXQ6IHRoaXMuaGFuZGxlSW52aXRlIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImlucHV0IiwgeyBkaXI6ICJhdXRvIiwgdHlwZTogInRleHQiLCB2YWx1ZTogZW1haWwsIHBsYWNlaG9sZGVyOiAiZW50ZXIgZW1haWwuLi4iLCBjbGFzc05hbWU6ICJlbWFpbC1pbnB1dCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLCBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93biB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgISFlbWFpbCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IHR5cGU6ICJzdWJtaXQiLCBjbGFzc05hbWU6ICJpbnZpdGUtYnV0dG9uIiB9LCAiSW52aXRlIikpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFjdFR5cGVhaGVhZFBvcG92ZXIsIHsgY29udGFjdHM6IHR5cGVhaGVhZENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy51c2VyICE9PSB1bmRlZmluZWQ7IH0pLCBvblNlbGVjdDogdGhpcy5oYW5kbGVDb250YWN0U2VsZWN0LCByZWY6IHRoaXMuaGFuZGxlUG9wb3ZlclJlZiB9KSwKICAgICAgICAgICAgICAgICAgICAhIWJpbGxpbmdTdWJzY3JpcHRpb24gJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzdWJ0aXRsZSIgfSwgIllvdVx1MjAxOWxsIGJlIGJpbGxlZCBhbiBhZGRpdGlvbmFsICQiICsgKChiaWxsaW5nU3Vic2NyaXB0aW9uLmNvc3QgLyAxMDApICsgJyAnKSArICJcbiAgICAgICAgICAgICAgICBwZXIgIiArIChiaWxsaW5nU3Vic2NyaXB0aW9uLmJpbGxpbmdDeWNsZSA9PT0gQmlsbGluZ0N5Y2xlLk1vbnRobHkgPyAnbW9udGgnIDogJ2FubnVhbCcpICsgIiAocHJvLXJhdGVkKSBmb3IgZWFjaCB0ZWFtIG1lbWJlciBhZGRlZC4iICsgKGJpbGxpbmdTdWJzY3JpcHRpb24uY291cG9uID8gJyBBbnkgYWN0aXZlIGRpc2NvdW50cyB3aWxsIGJlIGFwcGxpZWQuJyA6ICcnKSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZWFtLW1lbWJlcnMgc2VjdGlvbiIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImhlYWRlciIgfSwgc2l6ZSh0ZWFtTWVtYmVycykgKyAiIFRlYW0gTWVtYmVyIiArIChzaXplKHRlYW1NZW1iZXJzKSA/ICdzJyA6ICcnKSksCiAgICAgICAgICAgICAgICAgICAgbWFwKHRlYW1NZW1iZXJzLCBmdW5jdGlvbiAodG0pIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRlYW0tbWVtYmVyIGNlbGwiLCBrZXk6IHRtLmlkIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYXZhdGFyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW1nIiwgeyBzcmM6IHRtLnBob3RvVXJsIH0pKSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJuYW1lIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDQiLCBudWxsLCB0bS5maXJzdE5hbWUgKyAiICIgKyB0bS5sYXN0TmFtZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsIHRtLmVtYWlsKSksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd24sIHsgaWQ6IHRtLmlkLCB2YWx1ZXM6IFRFQU1fUk9MRVMsIHN0YXJ0SW5kZXg6IHRlYW0uYWRtaW5zLmluZGV4T2YodG0uaWQpID4gLTEgPyAwIDogMSwgb25TZWxlY3Q6IF90aGlzLmhhbmRsZVVwZGF0ZVJvbGUsIHJlYWRPbmx5OiAhaXNBZG1pbiwgdmFsdWU6IHRlYW0uYWRtaW5zLmluZGV4T2YodG0uaWQpID4gLTEgPyBUZWFtUm9sZS5BZG1pbiA6IFRlYW1Sb2xlLk1lbWJlciB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBuYW1lOiB0bS5pZCwgY2xhc3NOYW1lOiAiY2xvc2UtaWNvbiIsIG9uQ2xpY2s6IF90aGlzLmhhbmRsZVJlbW92ZVRlYW1NZW1iZXIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xvc2UsIHsgY2xhc3NOYW1lOiAiaWNvbiIgfSkpKSk7IH0pKSwKICAgICAgICAgICAgICAgIHBlbmRpbmdUZWFtSW52aXRlcyAmJiAhIXBlbmRpbmdUZWFtSW52aXRlcy5sZW5ndGggJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRlYW0taW52aXRlcyBzZWN0aW9uIiB9LAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImhlYWRlciIgfSwgcGVuZGluZ1RlYW1JbnZpdGVzLmxlbmd0aCArICIgUGVuZGluZyBJbnZpdGF0aW9uIiArIChwZW5kaW5nVGVhbUludml0ZXMubGVuZ3RoID8gJ3MnIDogJycpKSwKICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1RlYW1JbnZpdGVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0aSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBnZXRDb250YWN0KHRpLmVtYWlsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZWFtLWludml0ZS1jZWxsIGNlbGwiLCBrZXk6IHRpLmlkIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhdmF0YXIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImltZyIsIHsgc3JjOiBjb250YWN0LnBob3RvVXJsIH0pKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm5hbWUiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg0IiwgbnVsbCwgY29udGFjdC5naXZlbk5hbWUgKyAiICIgKyBjb250YWN0LmZhbWlseU5hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsIGNvbnRhY3QuZW1haWwpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNlbnQtdGltZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImludml0ZWQgIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9tZW50KHRpLnVwZGF0ZWQpLmZyb21Ob3coKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZW50LmluZGV4T2YodGkuaWQpID09PSAtMSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogInJlc2VuZC1idXR0b24iLCBuYW1lOiB0aS5pZCwgb25DbGljazogX3RoaXMuaGFuZGxlUmVzZW5kIH0sICJSZXNlbmQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNlbnQuaW5kZXhPZih0aS5pZCkgPiAtMSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInJlc2VudCIgfSwgIlJlc2VudCEiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IG5hbWU6IHRpLmlkLCBjbGFzc05hbWU6ICJjbG9zZS1pY29uIiwgb25DbGljazogX3RoaXMuaGFuZGxlUmVtb3ZlVGVhbUludml0ZSB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlLCB7IGNsYXNzTmFtZTogImljb24iIH0pKSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9KSkpKSk7CiAgICB9OwogICAgcmV0dXJuIFRlYW07Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBUZWFtOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Team/Team.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Team/Team.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport classnames from 'classnames';\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport {\n  Team as TeamType,\n  TeamInvite,\n  TeamMembers,\n  Contact,\n  TeamInviteStatus,\n  Account,\n  KeyCode,\n} from '@src/types';\nimport './Team.scss';\nimport { size, map, debounce } from 'lodash';\nimport Dropdown from '@src/components/Form/Dropdown';\nimport Close from '@src/components/Icons/Close.svg';\nimport { isEmail } from '@src/lib/search';\nimport EditableInput from '@src/components/Form/EditableInput/EditableInput';\nimport { TeamUpdateMeta } from '@src/ducks/team';\n// tslint:disable-next-line:max-line-length\nimport BillingDataProvider from '@src/routes/Settings/routes/Billing/components/BillingDataProvider';\nimport DropdownCell from '@src/routes/Settings/components/DropdownCell';\nimport { BillingCycle, BillingSubscription } from '@src/types/billing';\n// tslint:disable-next-line:max-line-length\nimport ContactTypeaheadPopover from '@src/components/Form/RecipientsEditor/components/ContactTypeaheadPopover';\nimport Confirm, { Props as ConfirmProps } from '@src/components/Base/Confirm';\n\nexport interface StateProps {\n  team?: TeamType;\n  teamInvites?: TeamInvite[];\n  teamMembers: TeamMembers;\n  isAdmin: boolean;\n  getContact: (email: string) => Contact;\n  accounts: Account[];\n  teamAccount?: Account;\n  billingSubscription?: BillingSubscription;\n  typeaheadContacts: Contact[];\n  isMobile?: boolean;\n  collapsedMobile?: boolean;\n}\n\nexport interface DispatchProps {\n  listTeamInvite: () => void;\n  fetchTeamMembers: () => void;\n  addTeamAdmin: (user: string) => void;\n  removeTeamAdmin: (user: string) => void;\n  resendTeamInvite: (invite: string) => void;\n  setToast: (e: Error) => void;\n  inviteTeamMember: (email: string) => void;\n  updateTeam: (meta: TeamUpdateMeta) => void;\n  updateAccount: (account: Account) => void;\n  removeTeamMember: (user: string) => void;\n  contactTypeahead: (partial: string) => void;\n  clearContactTypeahead: () => void;\n  removeTeamInvite: (invite: string) => void;\n  collapseLsb?: (collapse: boolean) => void;\n}\n\nconst enum TeamRole {\n  Admin = 'Admin',\n  Member = 'Member',\n}\n\ninterface State {\n  email: string;\n  teamName: string;\n  resent: string[];\n  confirmProps?: ConfirmProps;\n}\n\nconst TEAM_ROLES = [TeamRole.Admin, TeamRole.Member];\nclass Team extends React.PureComponent<StateProps & DispatchProps, State> {\n  private debounced: any;\n  private popover: ContactTypeaheadPopover;\n\n  constructor(props: StateProps & DispatchProps) {\n    super();\n\n    this.debounced = debounce(props.contactTypeahead, 200);\n    this.state = {\n      email: '',\n      teamName: props.team ? props.team.name : '',\n      resent: [],\n    };\n  }\n\n  componentDidMount() {\n    const { listTeamInvite, teamInvites, fetchTeamMembers } = this.props;\n\n    if (!teamInvites) {\n      listTeamInvite();\n    }\n\n    fetchTeamMembers();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: StateProps & DispatchProps) {\n    if (this.props.team !== nextProps.team && nextProps.team) {\n      this.setState({ teamName: nextProps.team.name });\n    }\n\n    if (this.props.typeaheadContacts !== nextProps.typeaheadContacts) {\n      if (nextProps.typeaheadContacts.length) {\n        this.popover.show();\n      } else {\n        this.popover.hide();\n      }\n    }\n  }\n\n  handleUpdateRole = (value: string, index: number, id?: string) => {\n    const { removeTeamAdmin, addTeamAdmin } = this.props;\n\n    if (id && value === TeamRole.Admin) {\n      addTeamAdmin(id);\n    } else if (id) {\n      removeTeamAdmin(id);\n    }\n  }\n\n  handleResend = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { resendTeamInvite } = this.props;\n    const id = e.currentTarget.name;\n\n    if (id) {\n      resendTeamInvite(id);\n      this.setState({\n        resent: this.state.resent.concat([id]),\n      });\n    }\n  }\n\n  handleInputChange = (e: React.SyntheticEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value !== undefined) {\n      this.setState({ email: e.currentTarget.value }, () =>\n        this.debounced(this.state.email));\n    }\n  }\n\n  handleInvite = (e?: React.FormEvent<HTMLFormElement>) => {\n    const { email } = this.state;\n    const { setToast, inviteTeamMember } = this.props;\n\n    this.popover.hide();\n\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (!email || !isEmail(email)) {\n      setToast(new Error('Please enter a valid email address.'));\n      return;\n    }\n\n    this.setState({ email: '' }, () => inviteTeamMember(email));\n  }\n\n  handleSet = (property: string, text: string) => {\n    const { team, updateTeam } = this.props;\n\n    if (text === '') {\n      this.setState({ teamName: team ? team.name : '' });\n      return;\n    }\n\n    if (team) {\n      this.setState({ teamName: text }, () => {\n        updateTeam({ team: team.id, name: text });\n      });\n    }\n  }\n\n  handleTeamAccountSelect = (value: string, index: number, id?: string) => {\n    const { updateAccount, teamAccount, accounts, team } = this.props;\n\n    if (team && (!teamAccount || value !== teamAccount.email)) {\n      updateAccount({ ...accounts[index], team: team.id });\n    }\n  }\n\n  handleRemoveTeamMember = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { removeTeamMember, teamMembers, isAdmin } = this.props;\n    const id = e.currentTarget.name;\n\n    if (id && teamMembers && teamMembers[id] && isAdmin) {\n      const fullName = teamMembers[id].firstName + ' ' + teamMembers[id].lastName;\n      const displayName = fullName.trim() || teamMembers[id].email;\n      const confirmProps: ConfirmProps = {\n        title: `Removing ${displayName}`,\n        message: `Are you sure you want to remove ${displayName} from your team?`,\n        confirmCopy: 'Remove',\n        cancelCopy: 'Cancel',\n        onConfirm: () => {\n          removeTeamMember(id);\n          this.setState({ confirmProps: undefined });\n        },\n        onCancel: () => this.setState({ confirmProps: undefined }),\n      };\n\n      this.setState({ confirmProps });\n    }\n  }\n\n  handleRemoveTeamInvite = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { removeTeamInvite, teamInvites, getContact } = this.props;\n    const id = e.currentTarget.name;\n\n    if (id && teamInvites) {\n      const invite = teamInvites.find(ti => ti.id === id);\n\n      if (invite) {\n        const contact = getContact(invite.email);\n        const fullName = contact.givenName + ' ' + contact.familyName;\n        const displayName = fullName.trim() || contact.email;\n\n        const confirmProps: ConfirmProps = {\n          title: `Removing ${displayName}`,\n          message: `Are you sure you want to remove ${displayName}'s pending invite?`,\n          confirmCopy: 'Remove',\n          cancelCopy: 'Cancel',\n          onConfirm: () => {\n            removeTeamInvite(id);\n            this.setState({ confirmProps: undefined });\n          },\n          onCancel: () => this.setState({ confirmProps: undefined }),\n        };\n\n        this.setState({ confirmProps });\n      }\n    }\n  }\n\n  handleContactSelect = (contact: Contact) => {\n    this.setState({ email: contact.email }, () => this.handleInvite());\n  }\n\n  handlePopoverRef = (ref: ContactTypeaheadPopover) => {\n    this.popover = ref;\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    const { typeaheadContacts } = this.props;\n    let handled = false;\n\n    if (!this.popover || !typeaheadContacts.length) {\n      return;\n    }\n\n    switch (e.keyCode) {\n      case KeyCode.Up:\n        this.popover.onUpArrow();\n        handled = true;\n        break;\n      case KeyCode.Down:\n        this.popover.onDownArrow();\n        handled = true;\n        break;\n      case KeyCode.Enter:\n        this.popover.onEnter();\n        handled = true;\n        break;\n      default:\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  render () {\n    const {\n      team,\n      teamInvites,\n      teamMembers,\n      isAdmin,\n      getContact,\n      accounts,\n      teamAccount,\n      typeaheadContacts,\n      billingSubscription,\n    } = this.props;\n    const { email, teamName, resent, confirmProps } = this.state;\n    const accountEmails = accounts.map(a => a.email);\n\n    if (!team || !teamInvites) {\n      return <div />;\n    }\n\n    const pendingTeamInvites = teamInvites.filter(ti => ti.status === TeamInviteStatus.Pending);\n\n    return (\n      <BillingDataProvider>\n        {confirmProps &&\n          <Confirm\n            {...confirmProps}\n          />\n        }\n        <div\n          className={classnames('settings-panel preferences-team', {\n            editable: isAdmin,\n          })}\n        >\n          <NavigationHeader\n            title=\"Team & Users\"\n            isMobile={this.props.isMobile}\n            collapsedMobile={this.props.collapsedMobile}\n            collapseLsb={this.props.collapseLsb}\n          />\n          <div className=\"heading\">\n            <EditableInput\n              className=\"team-name\"\n              text={teamName}\n              property=\"teamName\"\n              onSet={this.handleSet}\n              placeholder=\"Add team name\"\n              readOnly={!isAdmin}\n            />\n            <div className=\"subtitle\">\n              {`${size(teamMembers)} member${size(teamMembers) ? 's' : ''}${\n                pendingTeamInvites.length ?\n                  `, ${pendingTeamInvites.length} pending invitations` : ''\n                }`}\n            </div>\n          </div>\n          <div className=\"team-account\">\n            <DropdownCell\n              title=\"Team account\"\n              subtitle=\"The primary email account associated with your team.\"\n              values={accountEmails}\n              onSelect={this.handleTeamAccountSelect}\n              startIndex={teamAccount ? accountEmails.indexOf(teamAccount.email) : undefined}\n            />\n          </div>\n          <div className=\"invite-members\">\n            <div className=\"label\">\n              Invite teammates to {team.name}\n            </div>\n            <form className=\"input-container\" onSubmit={this.handleInvite}>\n              <input\n                dir=\"auto\"\n                type=\"text\"\n                value={email}\n                placeholder=\"enter email...\"\n                className=\"email-input\"\n                onChange={this.handleInputChange}\n                onKeyDown={this.handleKeyDown}\n              />\n              {!!email && <button type=\"submit\" className=\"invite-button\">\n                Invite\n              </button>}\n            </form>\n            <ContactTypeaheadPopover\n              contacts={typeaheadContacts.filter(c => c.user !== undefined)}\n              onSelect={this.handleContactSelect}\n              ref={this.handlePopoverRef}\n            />\n            {!!billingSubscription && <div className=\"subtitle\">\n              {`Youâ€™ll be billed an additional $${(billingSubscription.cost / 100) + ' '}\n                per ${\n                  billingSubscription.billingCycle === BillingCycle.Monthly ? 'month' : 'annual'\n                } (pro-rated) for each team member added.${\n                  billingSubscription.coupon ? ' Any active discounts will be applied.' : ''\n                }`}\n            </div>}\n          </div>\n          <div className=\"team-members section\">\n            <div className=\"header\">\n              {`${size(teamMembers)} Team Member${size(teamMembers) ? 's' : ''}`}\n            </div>\n            {map(teamMembers, tm => (\n              <div className=\"team-member cell\" key={tm.id}>\n                <div className=\"avatar\">\n                  <img src={tm.photoUrl} />\n                </div>\n                <div className=\"name\">\n                  <h4>{`${tm.firstName} ${tm.lastName}`}</h4>\n                  <h5>{tm.email}</h5>\n                </div>\n                <Dropdown\n                  id={tm.id}\n                  values={TEAM_ROLES}\n                  startIndex={team.admins.indexOf(tm.id) > -1 ? 0 : 1}\n                  onSelect={this.handleUpdateRole}\n                  readOnly={!isAdmin}\n                  value={team.admins.indexOf(tm.id) > -1 ? TeamRole.Admin : TeamRole.Member}\n                />\n                <button\n                  name={tm.id}\n                  className=\"close-icon\"\n                  onClick={this.handleRemoveTeamMember}\n                >\n                  <Close className=\"icon\" />\n                </button>\n              </div>\n            ))}\n          </div>\n          {pendingTeamInvites && !!pendingTeamInvites.length &&\n            <div className=\"team-invites section\">\n              <div className=\"header\">\n                {`${pendingTeamInvites.length} Pending Invitation${\n                  pendingTeamInvites.length ? 's' : ''}`}\n              </div>\n              {pendingTeamInvites\n                .map((ti) => {\n                  const contact = getContact(ti.email);\n\n                  return (\n                    <div className=\"team-invite-cell cell\" key={ti.id}>\n                      <div className=\"avatar\">\n                        <img src={contact.photoUrl} />\n                      </div>\n                      <div className=\"name\">\n                        <h4>{`${contact.givenName} ${contact.familyName}`}</h4>\n                        <h5>{contact.email}</h5>\n                      </div>\n                      <div className=\"sent-time\">\n                        invited {moment(ti.updated).fromNow()}\n                      </div>\n                      {resent.indexOf(ti.id) === -1 && <button\n                        className=\"resend-button\"\n                        name={ti.id}\n                        onClick={this.handleResend}\n                      >\n                        Resend\n                      </button>}\n                      {resent.indexOf(ti.id) > -1 && <div className=\"resent\">\n                        Resent!\n                      </div>}\n                      <button\n                        name={ti.id}\n                        className=\"close-icon\"\n                        onClick={this.handleRemoveTeamInvite}\n                      >\n                        <Close className=\"icon\" />\n                      </button>\n                    </div>\n                  );\n                })}\n            </div>}\n        </div>\n      </BillingDataProvider>\n    );\n  }\n}\n\nexport default Team;\n"]}]}