{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/Salesforce.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/Salesforce.tsx","mtime":1675280254032},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHsKICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7CiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkKICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdDsKICAgIH07CiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFVwZ3JhZGUgZnJvbSAnLi9jb21wb25lbnRzL1VwZ3JhZGUvVXBncmFkZSc7CmltcG9ydCBOb3RFbmFibGVkIGZyb20gJy4vY29tcG9uZW50cy9Ob3RFbmFibGVkL05vdEVuYWJsZWQnOwppbXBvcnQgU2VjdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvU2VjdGlvbi9TZWN0aW9uJzsKaW1wb3J0IFRhYnMsIHsgU2FsZXNmb3JjZVRhYnMgfSBmcm9tICcuL2NvbXBvbmVudHMvVGFicy9UYWJzJzsKaW1wb3J0IFRhc2tzVGFibGUgZnJvbSAnLi9jb21wb25lbnRzL1RhYnMvVGFza3NUYWJsZSc7CmltcG9ydCBBY3Rpdml0eVRhYmxlIGZyb20gJy4vY29tcG9uZW50cy9UYWJzL0FjdGl2aXR5VGFibGUnOwppbXBvcnQgT3Bwb3J0dW5pdGllc1RhYmxlIGZyb20gJy4vY29tcG9uZW50cy9UYWJzL09wcG9ydHVuaXRpZXNUYWJsZSc7CmltcG9ydCBFbXB0eVN0YXRlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9SaWdodFNpZGViYXIvY29tcG9uZW50cy9Db250YWN0SW5mby9jb21wb25lbnRzL0VtcHR5U3RhdGUnOwppbXBvcnQgeyBTYWxlc2ZvcmNlVGFza1N0YXR1cywgU09iamVjdFR5cGUsIH0gZnJvbSAnQHNyYy90eXBlcy9zYWxlc2ZvcmNlJzsKaW1wb3J0IENlbnRlcmVkTG9hZGVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Mb2FkZXIvQ2VudGVyZWRMb2FkZXInOwppbXBvcnQgJy4vU2FsZXNmb3JjZS5zY3NzJzsKLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aAppbXBvcnQgTG9nQWN0aXZpdHlQb3BvdmVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9SaWdodFNpZGViYXIvY29tcG9uZW50cy9TYWxlc2ZvcmNlL2NvbXBvbmVudHMvTG9nQWN0aXZpdHlQb3BvdmVyL0xvZ0FjdGl2aXR5UG9wb3Zlcic7Ci8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGgKaW1wb3J0IE5ld1Rhc2tQb3BvdmVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9SaWdodFNpZGViYXIvY29tcG9uZW50cy9TYWxlc2ZvcmNlL2NvbXBvbmVudHMvTmV3VGFza1BvcG92ZXIvTmV3VGFza1BvcG92ZXInOwppbXBvcnQgeyBTYWxlc2ZvcmNlU3VtbWFyeU1ldGFUeXBlLCB9IGZyb20gJ0BzcmMvZHVja3Mvc2FsZXNmb3JjZSc7CmltcG9ydCB7IGdldFNhbGVzZm9yY2VTdW1tYXJ5V2hvSWQsIGluZmVyU2FsZXNmb3JjZVN1bW1tYXJ5IH0gZnJvbSAnQHNyYy9saWIvbW9kZWxzL3NhbGVzZm9yY2UnOwovLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoCmltcG9ydCBDcmVhdGVTZWN0aW9uIGZyb20gJ0BzcmMvY29tcG9uZW50cy9SaWdodFNpZGViYXIvY29tcG9uZW50cy9TYWxlc2ZvcmNlL2NvbXBvbmVudHMvU2VjdGlvbi9DcmVhdGVTZWN0aW9uJzsKaW1wb3J0IHsgY2xvbmVEZWVwLCBzaXplIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgSW50ZWdyYXRpb25UeXBlIH0gZnJvbSAnQHNyYy90eXBlcyc7CnZhciBTYWxlc2ZvcmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFNhbGVzZm9yY2UsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBTYWxlc2ZvcmNlKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0VGFiID0gZnVuY3Rpb24gKHRhYikgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkVGFiOiB0YWIgfSk7CiAgICAgICAgfTsKICAgICAgICAvLyBDcmVhdGVzIGxlYWQgb2JqZWN0IGFuZCB0cmllcyB0byBzYXZlIGltbWVkaWF0ZWx5CiAgICAgICAgX3RoaXMuaGFuZGxlQ3JlYXRlTGVhZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGNvbnRhY3QgPSBfYS5jb250YWN0LCBlbWFpbCA9IF9hLmVtYWlsLCB1cGRhdGVQZW5kaW5nID0gX2EudXBkYXRlUGVuZGluZywgY3JlYXRlU3VtbWFyeSA9IF9hLmNyZWF0ZVN1bW1hcnk7CiAgICAgICAgICAgIHZhciBzY2hlbWEgPSBjbG9uZURlZXAoX3RoaXMucHJvcHMuc2NoZW1hc1tTT2JqZWN0VHlwZS5MZWFkXSk7CiAgICAgICAgICAgIGlmICghc2NoZW1hIHx8ICFlbWFpbCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBzdW1tYXJ5TWV0YSA9IGluZmVyU2FsZXNmb3JjZVN1bW1tYXJ5KHNjaGVtYSwgU2FsZXNmb3JjZVN1bW1hcnlNZXRhVHlwZS5MZWFkLCBlbWFpbCB8fCAnbm8tZW1haWwnLCBjb250YWN0KTsKICAgICAgICAgICAgdXBkYXRlUGVuZGluZyhzdW1tYXJ5TWV0YSk7CiAgICAgICAgICAgIGNyZWF0ZVN1bW1hcnkoc3VtbWFyeU1ldGEpOwogICAgICAgIH07CiAgICAgICAgLy8gQ3JlYXRlcyBjb250YWN0IG9iamVjdCBhbmQgdHJpZXMgdG8gc2F2ZSBpbW1lZGlhdGVseQogICAgICAgIF90aGlzLmhhbmRsZUNyZWF0ZUNvbnRhY3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBjb250YWN0ID0gX2EuY29udGFjdCwgZW1haWwgPSBfYS5lbWFpbCwgdXBkYXRlUGVuZGluZyA9IF9hLnVwZGF0ZVBlbmRpbmcsIGNyZWF0ZVN1bW1hcnkgPSBfYS5jcmVhdGVTdW1tYXJ5OwogICAgICAgICAgICB2YXIgc2NoZW1hID0gY2xvbmVEZWVwKF90aGlzLnByb3BzLnNjaGVtYXNbU09iamVjdFR5cGUuTGVhZF0pOwogICAgICAgICAgICBpZiAoIXNjaGVtYSB8fCAhZW1haWwpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgc3VtbWFyeU1ldGEgPSBpbmZlclNhbGVzZm9yY2VTdW1tbWFyeShzY2hlbWEsIFNhbGVzZm9yY2VTdW1tYXJ5TWV0YVR5cGUuQ29udGFjdCwgZW1haWwgfHwgJ25vLWVtYWlsJywgY29udGFjdCk7CiAgICAgICAgICAgIHVwZGF0ZVBlbmRpbmcoc3VtbWFyeU1ldGEpOwogICAgICAgICAgICBjcmVhdGVTdW1tYXJ5KHN1bW1hcnlNZXRhKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvbnZlcnRUb0NvbnRhY3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5lbWFpbCkgewogICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuY29udmVydFRvQ29udGFjdChfdGhpcy5wcm9wcy5lbWFpbCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUFjY291bnRGaWVsZENoYW5nZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5oYW5kbGVGaWVsZENoYW5nZShTYWxlc2ZvcmNlU3VtbWFyeU1ldGFUeXBlLkFjY291bnQsIG5hbWUsIHZhbHVlKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvbnRhY3RGaWVsZENoYW5nZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5oYW5kbGVGaWVsZENoYW5nZShTYWxlc2ZvcmNlU3VtbWFyeU1ldGFUeXBlLkNvbnRhY3QsIG5hbWUsIHZhbHVlKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUxlYWRGaWVsZENoYW5nZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5oYW5kbGVGaWVsZENoYW5nZShTYWxlc2ZvcmNlU3VtbWFyeU1ldGFUeXBlLkxlYWQsIG5hbWUsIHZhbHVlKTsKICAgICAgICB9OwogICAgICAgIC8vIEhhbmRsZXMgdXBkYXRlcyB0byBhIGNyZWF0YWJsZSBvYmplY3QKICAgICAgICBfdGhpcy5oYW5kbGVDcmVhdGVGaWVsZENoYW5nZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICB2YXIgdXBkYXRlUGVuZGluZyA9IF90aGlzLnByb3BzLnVwZGF0ZVBlbmRpbmc7CiAgICAgICAgICAgIHZhciBwZW5kaW5nU3VtbWFyeSA9IGNsb25lRGVlcChfdGhpcy5wcm9wcy5wZW5kaW5nU3VtbWFyeSk7CiAgICAgICAgICAgIGlmICghcGVuZGluZ1N1bW1hcnkpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocGVuZGluZ1N1bW1hcnkgJiYgcGVuZGluZ1N1bW1hcnkuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGRzID0gcGVuZGluZ1N1bW1hcnkuZmllbGRzOwogICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRGaWVsZHMgPSBmaWVsZHMubWFwKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRPYmplY3QgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcGVuZGluZ1N1bW1hcnkpLCB7IGZpZWxkczogdXBkYXRlZEZpZWxkcyB9KTsKICAgICAgICAgICAgICAgIHVwZGF0ZVBlbmRpbmcodXBkYXRlZE9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUZpZWxkQ2hhbmdlID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBzYWxlc2ZvcmNlID0gX2Euc2FsZXNmb3JjZSwgZW1haWwgPSBfYS5lbWFpbDsKICAgICAgICAgICAgaWYgKCFzYWxlc2ZvcmNlIHx8ICFlbWFpbCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBpZCA9IGVtYWlsOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gU2FsZXNmb3JjZVN1bW1hcnlNZXRhVHlwZS5BY2NvdW50ICYmIHNhbGVzZm9yY2UuYWNjb3VudCkgewogICAgICAgICAgICAgICAgaWQgPSAoc2FsZXNmb3JjZS5hY2NvdW50LmZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7IHJldHVybiBmaWVsZC5uYW1lID09PSAnSWQnOyB9KVswXQogICAgICAgICAgICAgICAgICAgIHx8IHsgdmFsdWU6IF90aGlzLnByb3BzLmVtYWlsIH0pLnZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnByb3BzLnVwZGF0ZUZpZWxkKHsgdHlwZTogdHlwZSwgaWQ6IGlkLCBlbWFpbDogZW1haWwsIG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNhbmNlbExvZ0FjdGl2aXR5UG9wdXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd0xvZ0FjdGl2aXR5UG9wdXA6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ2FuY2VsTmV3VGFza1BvcHVwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dOZXdUYXNrUG9wdXA6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTG9nQWN0aXZpdHkgPSBmdW5jdGlvbiAoc3ViamVjdCwgY29tbWVudCkgewogICAgICAgICAgICBpZiAoIV90aGlzLnByb3BzLnNhbGVzZm9yY2UgfHwgIV90aGlzLnByb3BzLmVtYWlsKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHdob0lkID0gZ2V0U2FsZXNmb3JjZVN1bW1hcnlXaG9JZChfdGhpcy5wcm9wcy5zYWxlc2ZvcmNlKTsKICAgICAgICAgICAgaWYgKCF3aG9JZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnByb3BzLmNyZWF0ZVRhc2soewogICAgICAgICAgICAgICAgRW1haWw6IF90aGlzLnByb3BzLmVtYWlsLAogICAgICAgICAgICAgICAgV2hvSWQ6IHdob0lkLAogICAgICAgICAgICAgICAgU3ViamVjdDogc3ViamVjdCwKICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uOiBjb21tZW50LAogICAgICAgICAgICAgICAgU3RhdHVzOiBTYWxlc2ZvcmNlVGFza1N0YXR1cy5Db21wbGV0ZWQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dMb2dBY3Rpdml0eVBvcHVwOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU5ld1Rhc2sgPSBmdW5jdGlvbiAoc3ViamVjdCwgZHVlRGF0ZSkgewogICAgICAgICAgICBpZiAoIV90aGlzLnByb3BzLnNhbGVzZm9yY2UgfHwgIV90aGlzLnByb3BzLmVtYWlsKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHdob0lkID0gZ2V0U2FsZXNmb3JjZVN1bW1hcnlXaG9JZChfdGhpcy5wcm9wcy5zYWxlc2ZvcmNlKTsKICAgICAgICAgICAgaWYgKCF3aG9JZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnByb3BzLmNyZWF0ZVRhc2soewogICAgICAgICAgICAgICAgRW1haWw6IF90aGlzLnByb3BzLmVtYWlsLAogICAgICAgICAgICAgICAgV2hvSWQ6IHdob0lkLAogICAgICAgICAgICAgICAgU3ViamVjdDogc3ViamVjdCwKICAgICAgICAgICAgICAgIEFjdGl2aXR5RGF0ZTogZHVlRGF0ZSA/IGR1ZURhdGUudG9EYXRlKCkgOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICBTdGF0dXM6IFNhbGVzZm9yY2VUYXNrU3RhdHVzLk5vdFN0YXJ0ZWQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dOZXdUYXNrUG9wdXA6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvd0xvZ0FjdGl2aXR5UG9wdXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd0xvZ0FjdGl2aXR5UG9wdXA6IHRydWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zaG93TmV3VGFza1BvcHVwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dOZXdUYXNrUG9wdXA6IHRydWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDcmVhdGVDYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIENsZWFyIG9iamVjdCBpbiByZWR1eCBzdGF0ZQogICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMucGVuZGluZ1N1bW1hcnkpIHsKICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLmNsZWFyUGVuZGluZyhfdGhpcy5wcm9wcy5wZW5kaW5nU3VtbWFyeSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNyZWF0ZVNhdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBjcmVhdGVTdW1tYXJ5ID0gX2EuY3JlYXRlU3VtbWFyeSwgdXBkYXRlUGVuZGluZyA9IF9hLnVwZGF0ZVBlbmRpbmcsIHBlbmRpbmdTdW1tYXJ5ID0gX2EucGVuZGluZ1N1bW1hcnk7CiAgICAgICAgICAgIGlmIChwZW5kaW5nU3VtbWFyeSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChwZW5kaW5nU3VtbWFyeS50eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBTYWxlc2ZvcmNlU3VtbWFyeU1ldGFUeXBlLkxlYWQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlbmRpbmcocGVuZGluZ1N1bW1hcnkpOwogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTdW1tYXJ5KHBlbmRpbmdTdW1tYXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBTYWxlc2ZvcmNlU3VtbWFyeU1ldGFUeXBlLkNvbnRhY3Q6CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlbmRpbmcocGVuZGluZ1N1bW1hcnkpOwogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTdW1tYXJ5KHBlbmRpbmdTdW1tYXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBzZWxlY3RlZFRhYjogU2FsZXNmb3JjZVRhYnMuQWN0aXZpdHksCiAgICAgICAgICAgIHNob3dOZXdUYXNrUG9wdXA6IGZhbHNlLAogICAgICAgICAgICBzaG93TG9nQWN0aXZpdHlQb3B1cDogZmFsc2UsCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICAvLyBIYW5kbGUgZmV0Y2hpbmcgc2NoZW1hcwogICAgU2FsZXNmb3JjZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgc2NoZW1hcyA9IF9hLnNjaGVtYXMsIHNhbGVzZm9yY2VFbmFibGVkID0gX2Euc2FsZXNmb3JjZUVuYWJsZWQsIGhhc0VudGVycHJpc2UgPSBfYS5oYXNFbnRlcnByaXNlLCBnZXRTY2hlbWFzID0gX2EuZ2V0U2NoZW1hcywgcGVuZGluZ1N1bW1hcnkgPSBfYS5wZW5kaW5nU3VtbWFyeSwgbG9hZGluZyA9IF9hLmxvYWRpbmcsIGZldGNoU3VtbWFyeSA9IF9hLmZldGNoU3VtbWFyeSwgZW1haWwgPSBfYS5lbWFpbCwgc2FsZXNmb3JjZSA9IF9hLnNhbGVzZm9yY2U7CiAgICAgICAgaWYgKCFzaXplKHNjaGVtYXMpICYmIHNhbGVzZm9yY2VFbmFibGVkICYmIGhhc0VudGVycHJpc2UpIHsKICAgICAgICAgICAgZ2V0U2NoZW1hcyhTT2JqZWN0VHlwZS5Db250YWN0KTsKICAgICAgICAgICAgZ2V0U2NoZW1hcyhTT2JqZWN0VHlwZS5MZWFkKTsKICAgICAgICB9CiAgICAgICAgLy8gSGFuZGxlIGZldGNoaW5nIGVtYWlsIGlmIG5vdCBleGlzdHMKICAgICAgICBpZiAoc2FsZXNmb3JjZUVuYWJsZWQgJiYgaGFzRW50ZXJwcmlzZSAmJiAhbG9hZGluZyAmJiAhcGVuZGluZ1N1bW1hcnkgJiYgZW1haWwgJiYgIXNhbGVzZm9yY2UpIHsKICAgICAgICAgICAgZmV0Y2hTdW1tYXJ5KGVtYWlsKTsKICAgICAgICB9CiAgICB9OwogICAgU2FsZXNmb3JjZS5wcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7CiAgICAgICAgdmFyIHNhbGVzZm9yY2VFbmFibGVkID0gbmV4dFByb3BzLnNhbGVzZm9yY2VFbmFibGVkLCBoYXNFbnRlcnByaXNlID0gbmV4dFByb3BzLmhhc0VudGVycHJpc2UsIGxvYWRpbmcgPSBuZXh0UHJvcHMubG9hZGluZywgc2FsZXNmb3JjZSA9IG5leHRQcm9wcy5zYWxlc2ZvcmNlOwogICAgICAgIC8vIGhhbmRsZSBjYXNlIHdoZXJlIHRyYW5zaXRpb25pbmcgdG8gYSBzYWxlc2ZvcmNlIHN1bW1hcnkgdGhhdCBkb2Vzbid0IGhhdmUgYSBjb250YWN0CiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRUYWIgPT09IFNhbGVzZm9yY2VUYWJzLk9wcG9ydHVuaXRpZXMKICAgICAgICAgICAgJiYgbmV4dFByb3BzLnNhbGVzZm9yY2UgJiYgbmV4dFByb3BzLnNhbGVzZm9yY2UuY29udGFjdCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFRhYjogU2FsZXNmb3JjZVRhYnMuQWN0aXZpdHkgfSk7CiAgICAgICAgfQogICAgICAgIC8vIFJlc2V0IHN0YXRlIHdoZW4gb2JqZWN0IGhhcyBiZWVuIGNyZWF0ZWQgb3IgZW1haWwgY2hhbmdlcwogICAgICAgIHZhciBlbWFpbENoYW5nZWQgPSBuZXh0UHJvcHMuZW1haWwgJiYgdGhpcy5wcm9wcy5lbWFpbCAhPT0gbmV4dFByb3BzLmVtYWlsIHx8IGZhbHNlOwogICAgICAgIC8vIEhhbmRsZSBmZXRjaGluZyBlbWFpbCBpZiBlbWFpbCBoYXMgY2hhbmdlZAogICAgICAgIHZhciBuZXh0RW1haWwgPSBuZXh0UHJvcHMuZW1haWw7CiAgICAgICAgdmFyIHVwZGF0ZUNhc2UgPSBlbWFpbENoYW5nZWQgfHwgKCFuZXh0UHJvcHMucGVuZGluZ1N1bW1hcnkgJiYgISF0aGlzLnByb3BzLnBlbmRpbmdTdW1tYXJ5KTsKICAgICAgICBpZiAoIXNhbGVzZm9yY2UgJiYgc2FsZXNmb3JjZUVuYWJsZWQgJiYgaGFzRW50ZXJwcmlzZSAmJiAhbG9hZGluZyAmJgogICAgICAgICAgICAhbmV4dFByb3BzLnBlbmRpbmdTdW1tYXJ5ICYmIHVwZGF0ZUNhc2UgJiYgbmV4dEVtYWlsKSB7CiAgICAgICAgICAgIHRoaXMucHJvcHMuZmV0Y2hTdW1tYXJ5KG5leHRFbWFpbCk7CiAgICAgICAgfQogICAgfTsKICAgIFNhbGVzZm9yY2UucHJvdG90eXBlLnJlbmRlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgbG9hZGluZyA9IF9hLmxvYWRpbmcsIGVycm9yID0gX2EuZXJyb3IsIHNhbGVzZm9yY2UgPSBfYS5zYWxlc2ZvcmNlLCBlbWFpbCA9IF9hLmVtYWlsLCB0YXNrcyA9IF9hLnRhc2tzLCBwZW5kaW5nU3VtbWFyeSA9IF9hLnBlbmRpbmdTdW1tYXJ5OwogICAgICAgIGlmICghZW1haWwpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIC8vIExvYWRpbmcgc3RhdGUKICAgICAgICBpZiAobG9hZGluZykgewogICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VudGVyZWRMb2FkZXIsIG51bGwpKTsKICAgICAgICB9CiAgICAgICAgLy8gU2hvdyBDcmVhdGUgT2JqZWN0IENvbnRhaW5lcgogICAgICAgIGlmIChwZW5kaW5nU3VtbWFyeSAmJiBwZW5kaW5nU3VtbWFyeS5maWVsZHMpIHsKICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNhbGVzZm9yY2UtY29udGFpbmVyIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpbmZvIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ3JlYXRlU2VjdGlvbiwgeyB0aXRsZTogIkNyZWF0ZSAiICsgcGVuZGluZ1N1bW1hcnkudHlwZSwgZW1haWw6IHRoaXMucHJvcHMuZW1haWwgfHwgJ25vLWVtYWlsJywgZmllbGRzOiBwZW5kaW5nU3VtbWFyeS5maWVsZHMgfHwgW10sIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNyZWF0ZUZpZWxkQ2hhbmdlLCBvbkNhbmNlbDogdGhpcy5oYW5kbGVDcmVhdGVDYW5jZWwsIG9uU2F2ZTogdGhpcy5oYW5kbGVDcmVhdGVTYXZlLCBlcnJvcjogZXJyb3IgfSkpKSk7CiAgICAgICAgfQogICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgICAvLyBDb250YWN0IGRvZXNuJ3QgZXhpc3Qgb24gU2FsZXNmb3JjZQogICAgICAgICAgICAvLyBUT0RPKFNISU4pOiBCZXR0ZXIgQ3JlYXRpb24gc3RhdGUgZm9yIHNhbGVzZm9yY2UgYWNjb3VudCBpbiByZW5kZXIKICAgICAgICAgICAgLy8gVE9ETyhTSElOKTogQ3JlYXRlIFNPT2JqZWN0IHRoYXQgaXMgYSBzY2hlbWEgdG8gcGFzcyBpbnRvIENyZWF0ZSBTZWN0aW9uCiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSA0MDQpIHsKICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBzaG93IHN0YXJ0IGNvbnRhaW5lcgogICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNhbGVzZm9yY2Utbm90LWZvdW5kIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImgxIiwgbnVsbCwgIk5vIHJlY29yZCBpbiBTYWxlc2ZvcmNlIiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJlbWFpbCIgfSwgZW1haWwpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgb25DbGljazogdGhpcy5oYW5kbGVDcmVhdGVMZWFkIH0sICJDcmVhdGUgTGVhZCIpKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ3JlYXRlQ29udGFjdCB9LCAiQ3JlYXRlIENvbnRhY3QiKSkpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBEaXNwbGF5IGVycm9yCiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJlcnJvci1zdGF0ZSIgfSwKICAgICAgICAgICAgICAgICJcdTI2QTBcdUZFMEYiLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnIiLCBudWxsKSwKICAgICAgICAgICAgICAgIGVycm9yLnRvU3RyaW5nKCkpKTsKICAgICAgICB9CiAgICAgICAgLy8gU2FsZXNmb3JjZSBkYXRhIGxvYWRpbmcgbm90IHlldCB0cmlnZ2VyZWQKICAgICAgICBpZiAoIXNhbGVzZm9yY2UpIHsKICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENlbnRlcmVkTG9hZGVyLCBudWxsKSk7CiAgICAgICAgfQogICAgICAgIC8vIERpc3BsYXkgU2FsZXNmb3JjZSBjb250ZW50CiAgICAgICAgdmFyIHNob3dPcHBvcnR1bml0aWVzID0gc2FsZXNmb3JjZS5jb250YWN0ICE9PSB1bmRlZmluZWQ7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNhbGVzZm9yY2UtY29udGFpbmVyIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImluZm8iIH0sCiAgICAgICAgICAgICAgICBzYWxlc2ZvcmNlLmxlYWQgJiYgIXNhbGVzZm9yY2UuY29udGFjdCAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VjdGlvbiwgeyB0aXRsZTogIkxlYWQiLCBkYXRhOiBzYWxlc2ZvcmNlLmxlYWQsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUxlYWRGaWVsZENoYW5nZSwgYnV0dG9uOiAiQ29udmVydCB0byBDb250YWN0Iiwgb25CdXR0b25DbGljazogdGhpcy5oYW5kbGVDb252ZXJ0VG9Db250YWN0IH0pLAogICAgICAgICAgICAgICAgc2FsZXNmb3JjZS5jb250YWN0ICYmCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTZWN0aW9uLCB7IHRpdGxlOiAiQ29udGFjdCIsIGRhdGE6IHNhbGVzZm9yY2UuY29udGFjdCwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ29udGFjdEZpZWxkQ2hhbmdlIH0pLAogICAgICAgICAgICAgICAgc2FsZXNmb3JjZS5hY2NvdW50ICYmCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTZWN0aW9uLCB7IHRpdGxlOiAiQWNjb3VudCIsIGRhdGE6IHNhbGVzZm9yY2UuYWNjb3VudCwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQWNjb3VudEZpZWxkQ2hhbmdlIH0pKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJidXR0b25zIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiB0aGlzLnNob3dMb2dBY3Rpdml0eVBvcHVwIH0sICJMb2cgQWN0aXZpdHkiKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgb25DbGljazogdGhpcy5zaG93TmV3VGFza1BvcHVwIH0sICJOZXcgVGFzayIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMb2dBY3Rpdml0eVBvcG92ZXIsIHsgc2hvdzogdGhpcy5zdGF0ZS5zaG93TG9nQWN0aXZpdHlQb3B1cCwgb25IaWRlOiB0aGlzLmhhbmRsZUNhbmNlbExvZ0FjdGl2aXR5UG9wdXAsIG9uTG9nQWN0aXZpdHk6IHRoaXMuaGFuZGxlTG9nQWN0aXZpdHkgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE5ld1Rhc2tQb3BvdmVyLCB7IHNob3c6IHRoaXMuc3RhdGUuc2hvd05ld1Rhc2tQb3B1cCwgb25IaWRlOiB0aGlzLmhhbmRsZUNhbmNlbE5ld1Rhc2tQb3B1cCwgb25OZXdUYXNrOiB0aGlzLmhhbmRsZU5ld1Rhc2sgfSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYnMsIHsgb25TZWxlY3Q6IHRoaXMuaGFuZGxlU2VsZWN0VGFiLCB2YWx1ZTogdGhpcy5zdGF0ZS5zZWxlY3RlZFRhYiwgdGFza3NDb3VudDogdGFza3MubGVuZ3RoLCBhY3Rpdml0eUNvdW50OiBzYWxlc2ZvcmNlLmFjdGl2aXR5SGlzdG9yeS5sZW5ndGgsIG9wcG9ydHVuaXRpZXNDb3VudDogc2FsZXNmb3JjZS5vcHBvcnR1bml0aWVzLmxlbmd0aCwgc2hvd09wcG9ydHVudGllczogc2hvd09wcG9ydHVuaXRpZXMgfSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGFibGUiIH0sCiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkVGFiID09PSBTYWxlc2ZvcmNlVGFicy5UYXNrcyAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFza3NUYWJsZSwgeyB0YXNrczogdGFza3MgfSksCiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkVGFiID09PSBTYWxlc2ZvcmNlVGFicy5BY3Rpdml0eSAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWN0aXZpdHlUYWJsZSwgeyBhY3Rpdml0eTogc2FsZXNmb3JjZS5hY3Rpdml0eUhpc3RvcnkgfSksCiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkVGFiID09PSBTYWxlc2ZvcmNlVGFicy5PcHBvcnR1bml0aWVzICYmCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChPcHBvcnR1bml0aWVzVGFibGUsIHsgb3Bwb3J0dW5pdGllczogc2FsZXNmb3JjZS5vcHBvcnR1bml0aWVzIH0pKSkpOwogICAgfTsKICAgIFNhbGVzZm9yY2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2FsZXNmb3JjZS1zaWRlYmFyIiB9LAogICAgICAgICAgICAhdGhpcy5wcm9wcy5oYXNFbnRlcnByaXNlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVXBncmFkZSwgbnVsbCksCiAgICAgICAgICAgIHRoaXMucHJvcHMuaGFzRW50ZXJwcmlzZSAmJiAhdGhpcy5wcm9wcy5zYWxlc2ZvcmNlRW5hYmxlZCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChOb3RFbmFibGVkLCB7IGludGVncmF0aW9uVHlwZTogSW50ZWdyYXRpb25UeXBlLlNhbGVzZm9yY2UgfSkpLAogICAgICAgICAgICB0aGlzLnByb3BzLmhhc0VudGVycHJpc2UgJiYgdGhpcy5wcm9wcy5zYWxlc2ZvcmNlRW5hYmxlZCAmJiAhdGhpcy5wcm9wcy5lbWFpbAogICAgICAgICAgICAgICAgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlLCBudWxsKSwKICAgICAgICAgICAgdGhpcy5wcm9wcy5oYXNFbnRlcnByaXNlICYmIHRoaXMucHJvcHMuc2FsZXNmb3JjZUVuYWJsZWQgJiYgdGhpcy5wcm9wcy5lbWFpbAogICAgICAgICAgICAgICAgJiYgdGhpcy5yZW5kZXJDb250ZW50KCkpKTsKICAgIH07CiAgICByZXR1cm4gU2FsZXNmb3JjZTsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IFNhbGVzZm9yY2U7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/Salesforce.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/Salesforce.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAG1B,OAAO,OAAO,MAAM,8BAA8B,CAAC;AACnD,OAAO,UAAU,MAAM,oCAAoC,CAAC;AAC5D,OAAO,OAAO,MAAM,8BAA8B,CAAC;AACnD,OAAO,IAAI,EAAE,EAAE,cAAc,EAAE,MAAM,wBAAwB,CAAC;AAC9D,OAAO,UAAU,MAAM,8BAA8B,CAAC;AACtD,OAAO,aAAa,MAAM,iCAAiC,CAAC;AAC5D,OAAO,kBAAkB,MAAM,sCAAsC,CAAC;AAEtE,OAAO,UAAU,MAAM,2EAA2E,CAAC;AAEnG,OAAO,EAEL,oBAAoB,EAGpB,WAAW,GACZ,MAAM,uBAAuB,CAAC;AAE/B,OAAO,cAAc,MAAM,uCAAuC,CAAC;AAEnE,OAAO,mBAAmB,CAAC;AAG3B,2CAA2C;AAC3C,OAAO,kBAAkB,MAAM,qGAAqG,CAAC;AACrI,2CAA2C;AAC3C,OAAO,cAAc,MAAM,6FAA6F,CAAC;AACzH,OAAO,EAEJ,yBAAyB,GAG3B,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,yBAAyB,EAAE,uBAAuB,EAAE,MAAM,4BAA4B,CAAC;AAChG,2CAA2C;AAC3C,OAAO,aAAa,MAAM,qFAAqF,CAAC;AAChH,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AACzC,OAAO,EAAW,eAAe,EAAE,MAAM,YAAY,CAAC;AAmCtD;IAAyB,8BAAsD;IAC7E;QAAA,YACE,iBAAO,SAMR;QAsDD,qBAAe,GAAG,UAAC,GAAmB;YACpC,KAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,GAAG,EAAE,CAAC,CAAC;QACtC,CAAC,CAAA;QAED,oDAAoD;QACpD,sBAAgB,GAAG;YACX,IAAA,gBAA6D,EAA3D,oBAAO,EAAE,gBAAK,EAAE,gCAAa,EAAE,gCAA4B,CAAC;YACpE,IAAM,MAAM,GAAG,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;YAE/D,IAAI,CAAC,MAAM,IAAI,CAAC,KAAK,EAAE;gBACrB,OAAO;aACR;YAED,IAAM,WAAW,GAAG,uBAAuB,CACzC,MAAM,EACN,yBAAyB,CAAC,IAAI,EAC9B,KAAK,IAAI,UAAU,EACnB,OAAO,CACR,CAAC;YAEF,aAAa,CAAC,WAAW,CAAC,CAAC;YAC3B,aAAa,CAAC,WAAW,CAAC,CAAC;QAC7B,CAAC,CAAA;QAED,uDAAuD;QACvD,yBAAmB,GAAG;YACd,IAAA,gBAA6D,EAA3D,oBAAO,EAAE,gBAAK,EAAE,gCAAa,EAAE,gCAA4B,CAAC;YACpE,IAAM,MAAM,GAAG,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;YAE/D,IAAI,CAAC,MAAM,IAAI,CAAC,KAAK,EAAE;gBACrB,OAAO;aACR;YACD,IAAM,WAAW,GAAG,uBAAuB,CACzC,MAAM,EACN,yBAAyB,CAAC,OAAO,EACjC,KAAK,IAAI,UAAU,EACnB,OAAO,CACR,CAAC;YAEF,aAAa,CAAC,WAAW,CAAC,CAAC;YAC3B,aAAa,CAAC,WAAW,CAAC,CAAC;QAC7B,CAAC,CAAA;QAED,4BAAsB,GAAG;YACvB,IAAI,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBACpB,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aAC/C;QACH,CAAC,CAAA;QAED,8BAAwB,GAAG,UAAC,IAAY,EAAE,KAAU;YAClD,KAAI,CAAC,iBAAiB,CAAC,yBAAyB,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACzE,CAAC,CAAA;QAED,8BAAwB,GAAG,UAAC,IAAY,EAAE,KAAU;YAClD,KAAI,CAAC,iBAAiB,CAAC,yBAAyB,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACzE,CAAC,CAAA;QAED,2BAAqB,GAAG,UAAC,IAAY,EAAE,KAAU;YAC/C,KAAI,CAAC,iBAAiB,CAAC,yBAAyB,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACtE,CAAC,CAAA;QAED,wCAAwC;QACxC,6BAAuB,GAAG,UAAC,IAAY,EAAE,KAAU;YACzC,IAAA,yCAAa,CAAgB;YACrC,IAAM,cAAc,GAAG,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YAC5D,IAAI,CAAC,cAAc,EAAE;gBACnB,OAAO;aACR;YAED,IAAI,cAAc,IAAI,cAAc,CAAC,MAAM,EAAE;gBAC3C,IAAM,MAAM,GAAG,cAAc,CAAC,MAAM,CAAC;gBACrC,IAAM,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK;oBACrC,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,EAAE;wBACvB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;qBACrB;oBACD,OAAO,KAAK,CAAC;gBACf,CAAC,CAAC,CAAC;gBACH,IAAM,aAAa,yBACd,cAAc,KACjB,MAAM,EAAE,aAAa,GACtB,CAAC;gBAEF,aAAa,CAAC,aAAa,CAAC,CAAC;aAC9B;QACH,CAAC,CAAA;QAED,uBAAiB,GAAG,UAAC,IAA+B,EAAE,IAAY,EAAE,KAAU;YACtE,IAAA,gBAAkC,EAAhC,0BAAU,EAAE,gBAAoB,CAAC;YAEzC,IAAI,CAAC,UAAU,IAAI,CAAC,KAAK,EAAE;gBACzB,OAAO;aACR;YAED,IAAI,EAAE,GAAG,KAAK,CAAC;YAEf,IAAI,IAAI,KAAK,yBAAyB,CAAC,OAAO,IAAI,UAAU,CAAC,OAAO,EAAE;gBACpE,EAAE,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,IAAI,KAAK,IAAI,EAAnB,CAAmB,CAAC,CAAC,CAAC,CAAC;uBAClE,EAAE,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC;aACzC;YAED,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,IAAI,MAAA,EAAE,EAAE,IAAA,EAAE,KAAK,OAAA,EAAE,IAAI,MAAA,EAAE,KAAK,OAAA,EAAE,CAAC,CAAC;QAC3D,CAAC,CAAA;QAED,kCAA4B,GAAG;YAC7B,KAAI,CAAC,QAAQ,CAAC,EAAE,oBAAoB,EAAE,KAAK,EAAE,CAAC,CAAC;QACjD,CAAC,CAAA;QAED,8BAAwB,GAAG;YACzB,KAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7C,CAAC,CAAA;QAED,uBAAiB,GAAG,UAAC,OAAe,EAAE,OAAe;YACnD,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBAC/C,OAAO;aACR;YAED,IAAM,KAAK,GAAG,yBAAyB,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YAC/D,IAAI,CAAC,KAAK,EAAE;gBACV,OAAO;aACR;YAED,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC;gBACpB,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK;gBACvB,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,OAAO;gBAChB,WAAW,EAAE,OAAO;gBACpB,MAAM,EAAE,oBAAoB,CAAC,SAAS;aACvC,CAAC,CAAC;YAEH,KAAI,CAAC,QAAQ,CAAC,EAAE,oBAAoB,EAAE,KAAK,EAAE,CAAC,CAAC;QACjD,CAAC,CAAA;QAED,mBAAa,GAAG,UAAC,OAAe,EAAE,OAAuB;YACvD,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBAC/C,OAAO;aACR;YAED,IAAM,KAAK,GAAG,yBAAyB,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YAC/D,IAAI,CAAC,KAAK,EAAE;gBACV,OAAO;aACR;YAED,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC;gBACpB,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK;gBACvB,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,OAAO;gBAChB,YAAY,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS;gBACpD,MAAM,EAAE,oBAAoB,CAAC,UAAU;aACxC,CAAC,CAAC;YACH,KAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7C,CAAC,CAAA;QAED,0BAAoB,GAAG;YACrB,KAAI,CAAC,QAAQ,CAAC,EAAE,oBAAoB,EAAE,IAAI,EAAE,CAAC,CAAC;QAChD,CAAC,CAAA;QAED,sBAAgB,GAAG;YACjB,KAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,IAAI,EAAE,CAAC,CAAC;QAC5C,CAAC,CAAA;QAED,wBAAkB,GAAG;YACnB,8BAA8B;YAC9B,IAAI,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE;gBAC7B,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;aACpD;QACH,CAAC,CAAA;QAED,sBAAgB,GAAG;YACX,IAAA,gBAA6D,EAA3D,gCAAa,EAAE,gCAAa,EAAE,kCAA6B,CAAC;YACpE,IAAI,cAAc,EAAE;gBAClB,QAAQ,cAAc,CAAC,IAAI,EAAE;oBAC3B,KAAK,yBAAyB,CAAC,IAAI;wBACjC,aAAa,CAAC,cAAc,CAAC,CAAC;wBAC9B,aAAa,CAAC,cAAc,CAAC,CAAC;wBAC9B,MAAM;oBACR,KAAK,yBAAyB,CAAC,OAAO;wBACpC,aAAa,CAAC,cAAc,CAAC,CAAC;wBAC9B,aAAa,CAAC,cAAc,CAAC,CAAC;wBAC9B,MAAM;oBACR;wBACE,MAAM;iBACT;aACF;QACH,CAAC,CAAA;QAlPC,KAAI,CAAC,KAAK,GAAG;YACX,WAAW,EAAE,cAAc,CAAC,QAAQ;YACpC,gBAAgB,EAAE,KAAK;YACvB,oBAAoB,EAAE,KAAK;SAC5B,CAAC;;IACJ,CAAC;IAED,0BAA0B;IAC1B,sCAAiB,GAAjB;QACQ,IAAA,eAUQ,EATZ,oBAAO,EACP,wCAAiB,EACjB,gCAAa,EACb,0BAAU,EACV,kCAAc,EACd,oBAAO,EACP,8BAAY,EACZ,gBAAK,EACL,0BACY,CAAC;QAEf,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,iBAAiB,IAAI,aAAa,EAAE;YACxD,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAChC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC9B;QAED,sCAAsC;QACtC,IAAI,iBAAiB,IAAI,aAAa,IAAI,CAAC,OAAO,IAAI,CAAC,cAAc,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE;YAC7F,YAAY,CAAC,KAAK,CAAC,CAAC;SACrB;IACH,CAAC;IAED,qDAAgC,GAAhC,UAAiC,SAAqC;QAElE,IAAA,+CAAiB,EACjB,uCAAa,EACb,2BAAO,EACP,iCAAU,CACE;QAEd,sFAAsF;QACtF,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,cAAc,CAAC,aAAa;eACtD,SAAS,CAAC,UAAU,IAAI,SAAS,CAAC,UAAU,CAAC,OAAO,KAAK,SAAS,EAAE;YACvE,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;SACzD;QAED,4DAA4D;QAC5D,IAAM,YAAY,GAAG,SAAS,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,SAAS,CAAC,KAAK,IAAI,KAAK,CAAC;QAEtF,6CAA6C;QAC7C,IAAM,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC;QAClC,IAAM,UAAU,GAAG,YAAY,IAAI,CAAC,CAAC,SAAS,CAAC,cAAc,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QAE9F,IAAI,CAAC,UAAU,IAAI,iBAAiB,IAAI,aAAa,IAAI,CAAC,OAAO;YAC/D,CAAC,SAAS,CAAC,cAAc,IAAI,UAAU,IAAI,SAAS,EAAE;YACtD,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;SACpC;IACH,CAAC;IA2LD,kCAAa,GAAb;QACQ,IAAA,eAAyE,EAAvE,oBAAO,EAAE,gBAAK,EAAE,0BAAU,EAAE,gBAAK,EAAE,gBAAK,EAAE,kCAA6B,CAAC;QAEhF,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,IAAI,CAAC;SACb;QAED,gBAAgB;QAChB,IAAI,OAAO,EAAE;YACX,OAAO,CACL,oBAAC,cAAc,OAAG,CACnB,CAAC;SACH;QAED,+BAA+B;QAC/B,IAAI,cAAc,IAAI,cAAc,CAAC,MAAM,EAAE;YAC3C,OAAO,CACL,6BAAK,SAAS,EAAC,sBAAsB;gBACnC,6BAAK,SAAS,EAAC,MAAM;oBACnB,oBAAC,aAAa,IACZ,KAAK,EAAE,YAAU,cAAc,CAAC,IAAM,EACtC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,UAAU,EACrC,MAAM,EAAE,cAAc,CAAC,MAAM,IAAI,EAAE,EACnC,QAAQ,EAAE,IAAI,CAAC,uBAAuB,EACtC,QAAQ,EAAE,IAAI,CAAC,kBAAkB,EACjC,MAAM,EAAE,IAAI,CAAC,gBAAgB,EAC7B,KAAK,EAAE,KAAK,GACZ,CACE,CACF,CACP,CAAC;SACH;QAED,IAAI,KAAK,EAAE;YACT,sCAAsC;YACtC,qEAAqE;YACrE,2EAA2E;YAC3E,IAAK,KAAkB,CAAC,IAAI,KAAK,GAAG,EAAE;gBACpC,iCAAiC;gBACjC,OAAO,CACL,6BAAK,SAAS,EAAC,sBAAsB;oBACnC,0DAAgC;oBAChC,6BAAK,SAAS,EAAC,OAAO,IAAE,KAAK,CAAO;oBACpC;wBAAK,gCAAQ,OAAO,EAAE,IAAI,CAAC,gBAAgB,kBAAsB,CAAM;oBACvE;wBAAK,gCAAQ,OAAO,EAAE,IAAI,CAAC,mBAAmB,qBAAyB,CAAM,CACzE,CACP,CAAC;aACH;YAED,gBAAgB;YAChB,OAAO,CACL,6BAAK,SAAS,EAAC,aAAa;;gBACxB,+BAAM;gBACP,KAAK,CAAC,QAAQ,EAAE,CACb,CACP,CAAC;SACH;QAED,4CAA4C;QAC5C,IAAI,CAAC,UAAU,EAAE;YACf,OAAO,CACL,oBAAC,cAAc,OAAG,CACnB,CAAC;SACH;QAED,6BAA6B;QAC7B,IAAM,iBAAiB,GAAG,UAAU,CAAC,OAAO,KAAK,SAAS,CAAC;QAE3D,OAAO,CACL,6BAAK,SAAS,EAAC,sBAAsB;YACnC,6BAAK,SAAS,EAAC,MAAM;gBAClB,UAAU,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO;oBACrC,oBAAC,OAAO,IACN,KAAK,EAAC,MAAM,EACZ,IAAI,EAAE,UAAU,CAAC,IAAI,EACrB,QAAQ,EAAE,IAAI,CAAC,qBAAqB,EACpC,MAAM,EAAC,oBAAoB,EAC3B,aAAa,EAAE,IAAI,CAAC,sBAAsB,GAC1C;gBACH,UAAU,CAAC,OAAO;oBACjB,oBAAC,OAAO,IACN,KAAK,EAAC,SAAS,EACf,IAAI,EAAE,UAAU,CAAC,OAAO,EACxB,QAAQ,EAAE,IAAI,CAAC,wBAAwB,GACvC;gBACH,UAAU,CAAC,OAAO;oBACjB,oBAAC,OAAO,IACN,KAAK,EAAC,SAAS,EACf,IAAI,EAAE,UAAU,CAAC,OAAO,EACxB,QAAQ,EAAE,IAAI,CAAC,wBAAwB,GACvC,CACA;YACN,6BAAK,SAAS,EAAC,SAAS;gBACtB,gCAAQ,OAAO,EAAE,IAAI,CAAC,oBAAoB,mBAAuB;gBACjE,gCAAQ,OAAO,EAAE,IAAI,CAAC,gBAAgB,eAAmB;gBACzD,oBAAC,kBAAkB,IACjB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,oBAAoB,EACrC,MAAM,EAAE,IAAI,CAAC,4BAA4B,EACzC,aAAa,EAAE,IAAI,CAAC,iBAAiB,GACrC;gBACF,oBAAC,cAAc,IACb,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB,EACjC,MAAM,EAAE,IAAI,CAAC,wBAAwB,EACrC,SAAS,EAAE,IAAI,CAAC,aAAa,GAC7B,CACE;YACN,oBAAC,IAAI,IACH,QAAQ,EAAE,IAAI,CAAC,eAAe,EAC9B,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAC7B,UAAU,EAAE,KAAK,CAAC,MAAM,EACxB,aAAa,EAAE,UAAU,CAAC,eAAe,CAAC,MAAM,EAChD,kBAAkB,EAAE,UAAU,CAAC,aAAa,CAAC,MAAM,EACnD,gBAAgB,EAAE,iBAAiB,GACnC;YACF,6BAAK,SAAS,EAAC,OAAO;gBACnB,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,cAAc,CAAC,KAAK;oBAC9C,oBAAC,UAAU,IAAC,KAAK,EAAE,KAAK,GAAI;gBAC7B,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,cAAc,CAAC,QAAQ;oBACjD,oBAAC,aAAa,IAAC,QAAQ,EAAE,UAAU,CAAC,eAAe,GAAI;gBACxD,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,cAAc,CAAC,aAAa;oBACtD,oBAAC,kBAAkB,IAAC,aAAa,EAAE,UAAU,CAAC,aAAa,GAAI,CAC7D,CACF,CACP,CAAC;IACJ,CAAC;IAED,2BAAM,GAAN;QACE,OAAO,CACL,6BAAK,SAAS,EAAC,oBAAoB;YAChC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,oBAAC,OAAO,OAAG;YACxC,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,CAC5D,oBAAC,UAAU,IAAC,eAAe,EAAE,eAAe,CAAC,UAAU,GAAI,CAC5D;YACA,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;mBACzE,oBAAC,UAAU,OAAG;YAClB,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK;mBACxE,IAAI,CAAC,aAAa,EAAE,CACrB,CACP,CAAC;IACJ,CAAC;IACH,iBAAC;AAAD,CAAC,AAnYD,CAAyB,KAAK,CAAC,aAAa,GAmY3C;AAED,eAAe,UAAU,CAAC","sourcesContent":["import React from 'react';\nimport moment from 'moment';\n\nimport Upgrade from './components/Upgrade/Upgrade';\nimport NotEnabled from './components/NotEnabled/NotEnabled';\nimport Section from './components/Section/Section';\nimport Tabs, { SalesforceTabs } from './components/Tabs/Tabs';\nimport TasksTable from './components/Tabs/TasksTable';\nimport ActivityTable from './components/Tabs/ActivityTable';\nimport OpportunitiesTable from './components/Tabs/OpportunitiesTable';\n\nimport EmptyState from '@src/components/RightSidebar/components/ContactInfo/components/EmptyState';\n\nimport {\n  SalesforceSummary,\n  SalesforceTaskStatus,\n  SObject,\n  SObjectSchema,\n  SObjectType,\n} from '@src/types/salesforce';\n\nimport CenteredLoader from '@src/components/Loader/CenteredLoader';\n\nimport './Salesforce.scss';\nimport { ApiError } from '@src/api/base';\n\n// tslint:disable-next-line:max-line-length\nimport LogActivityPopover from '@src/components/RightSidebar/components/Salesforce/components/LogActivityPopover/LogActivityPopover';\n// tslint:disable-next-line:max-line-length\nimport NewTaskPopover from '@src/components/RightSidebar/components/Salesforce/components/NewTaskPopover/NewTaskPopover';\nimport {\n  SalesforceTaskCreateMeta,\n   SalesforceSummaryMetaType,\n   SalesforceSummaryUpdateMeta,\n   SalesforceSummaryCreateMeta,\n} from '@src/ducks/salesforce';\nimport { getSalesforceSummaryWhoId, inferSalesforceSummmary } from '@src/lib/models/salesforce';\n// tslint:disable-next-line:max-line-length\nimport CreateSection from '@src/components/RightSidebar/components/Salesforce/components/Section/CreateSection';\nimport { cloneDeep, size } from 'lodash';\nimport { Contact, IntegrationType } from '@src/types';\n\nexport interface StateProps {\n  hasEnterprise: boolean;\n  salesforceEnabled: boolean;\n  loading: boolean;\n  salesforce?: SalesforceSummary;\n  tasks: SObject[];\n  schemas: { [type: string]: SObjectSchema };\n  error?: Error;\n  email?: string;\n  contact?: Contact;\n\n  pendingSummary?: SalesforceSummaryCreateMeta;\n}\n\nexport interface DispatchProps {\n  createSummary: (meta: SalesforceSummaryCreateMeta) => void;\n  convertToContact: (email: string) => void;\n  updateField: (meta: SalesforceSummaryUpdateMeta) => void;\n  createTask: (meta: SalesforceTaskCreateMeta) => void;\n  getSchemas: (type: SObjectType) => void;\n\n  // Pending updates\n  updatePending: (pending: SalesforceSummaryCreateMeta) => void;\n  clearPending: (pending: SalesforceSummaryCreateMeta) => void;\n  fetchSummary: (email: string) => void;\n}\n\nexport interface State {\n  selectedTab: SalesforceTabs;\n  showNewTaskPopup: boolean;\n  showLogActivityPopup: boolean;\n}\n\nclass Salesforce extends React.PureComponent<StateProps & DispatchProps, State> {\n  constructor() {\n    super();\n    this.state = {\n      selectedTab: SalesforceTabs.Activity,\n      showNewTaskPopup: false,\n      showLogActivityPopup: false,\n    };\n  }\n\n  // Handle fetching schemas\n  componentDidMount() {\n    const {\n      schemas,\n      salesforceEnabled,\n      hasEnterprise,\n      getSchemas,\n      pendingSummary,\n      loading,\n      fetchSummary,\n      email,\n      salesforce,\n    } = this.props;\n\n    if (!size(schemas) && salesforceEnabled && hasEnterprise) {\n      getSchemas(SObjectType.Contact);\n      getSchemas(SObjectType.Lead);\n    }\n\n    // Handle fetching email if not exists\n    if (salesforceEnabled && hasEnterprise && !loading && !pendingSummary && email && !salesforce) {\n      fetchSummary(email);\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: StateProps & DispatchProps) {\n    const {\n      salesforceEnabled,\n      hasEnterprise,\n      loading,\n      salesforce,\n    } = nextProps;\n\n    // handle case where transitioning to a salesforce summary that doesn't have a contact\n    if (this.state.selectedTab === SalesforceTabs.Opportunities\n      && nextProps.salesforce && nextProps.salesforce.contact === undefined) {\n      this.setState({ selectedTab: SalesforceTabs.Activity });\n    }\n\n    // Reset state when object has been created or email changes\n    const emailChanged = nextProps.email && this.props.email !== nextProps.email || false;\n\n    // Handle fetching email if email has changed\n    const nextEmail = nextProps.email;\n    const updateCase = emailChanged || (!nextProps.pendingSummary && !!this.props.pendingSummary);\n\n    if (!salesforce && salesforceEnabled && hasEnterprise && !loading &&\n      !nextProps.pendingSummary && updateCase && nextEmail) {\n      this.props.fetchSummary(nextEmail);\n    }\n  }\n\n  handleSelectTab = (tab: SalesforceTabs) => {\n    this.setState({ selectedTab: tab });\n  }\n\n  // Creates lead object and tries to save immediately\n  handleCreateLead = () => {\n    const { contact, email, updatePending, createSummary } = this.props;\n    const schema = cloneDeep(this.props.schemas[SObjectType.Lead]);\n\n    if (!schema || !email) {\n      return;\n    }\n\n    const summaryMeta = inferSalesforceSummmary(\n      schema,\n      SalesforceSummaryMetaType.Lead,\n      email || 'no-email',\n      contact,\n    );\n\n    updatePending(summaryMeta);\n    createSummary(summaryMeta);\n  }\n\n  // Creates contact object and tries to save immediately\n  handleCreateContact = () => {\n    const { contact, email, updatePending, createSummary } = this.props;\n    const schema = cloneDeep(this.props.schemas[SObjectType.Lead]);\n\n    if (!schema || !email) {\n      return;\n    }\n    const summaryMeta = inferSalesforceSummmary(\n      schema,\n      SalesforceSummaryMetaType.Contact,\n      email || 'no-email',\n      contact,\n    );\n\n    updatePending(summaryMeta);\n    createSummary(summaryMeta);\n  }\n\n  handleConvertToContact = () => {\n    if (this.props.email) {\n      this.props.convertToContact(this.props.email);\n    }\n  }\n\n  handleAccountFieldChange = (name: string, value: any) => {\n    this.handleFieldChange(SalesforceSummaryMetaType.Account, name, value);\n  }\n\n  handleContactFieldChange = (name: string, value: any) => {\n    this.handleFieldChange(SalesforceSummaryMetaType.Contact, name, value);\n  }\n\n  handleLeadFieldChange = (name: string, value: any) => {\n    this.handleFieldChange(SalesforceSummaryMetaType.Lead, name, value);\n  }\n\n  // Handles updates to a creatable object\n  handleCreateFieldChange = (name: string, value: any) => {\n    const { updatePending } = this.props;\n    const pendingSummary = cloneDeep(this.props.pendingSummary);\n    if (!pendingSummary) {\n      return;\n    }\n\n    if (pendingSummary && pendingSummary.fields) {\n      const fields = pendingSummary.fields;\n      const updatedFields = fields.map((field) => {\n        if (field.name === name) {\n          field.value = value;\n        }\n        return field;\n      });\n      const updatedObject = {\n        ...pendingSummary,\n        fields: updatedFields,\n      };\n\n      updatePending(updatedObject);\n    }\n  }\n\n  handleFieldChange = (type: SalesforceSummaryMetaType, name: string, value: any) => {\n    const { salesforce, email } = this.props;\n\n    if (!salesforce || !email) {\n      return;\n    }\n\n    let id = email;\n\n    if (type === SalesforceSummaryMetaType.Account && salesforce.account) {\n      id = (salesforce.account.fields.filter(field => field.name === 'Id')[0]\n        || { value: this.props.email }).value;\n    }\n\n    this.props.updateField({ type, id, email, name, value });\n  }\n\n  handleCancelLogActivityPopup = () => {\n    this.setState({ showLogActivityPopup: false });\n  }\n\n  handleCancelNewTaskPopup = () => {\n    this.setState({ showNewTaskPopup: false });\n  }\n\n  handleLogActivity = (subject: string, comment: string) => {\n    if (!this.props.salesforce || !this.props.email) {\n      return;\n    }\n\n    const whoId = getSalesforceSummaryWhoId(this.props.salesforce);\n    if (!whoId) {\n      return;\n    }\n\n    this.props.createTask({\n      Email: this.props.email,\n      WhoId: whoId,\n      Subject: subject,\n      Description: comment,\n      Status: SalesforceTaskStatus.Completed,\n    });\n\n    this.setState({ showLogActivityPopup: false });\n  }\n\n  handleNewTask = (subject: string, dueDate?: moment.Moment) => {\n    if (!this.props.salesforce || !this.props.email) {\n      return;\n    }\n\n    const whoId = getSalesforceSummaryWhoId(this.props.salesforce);\n    if (!whoId) {\n      return;\n    }\n\n    this.props.createTask({\n      Email: this.props.email,\n      WhoId: whoId,\n      Subject: subject,\n      ActivityDate: dueDate ? dueDate.toDate() : undefined,\n      Status: SalesforceTaskStatus.NotStarted,\n    });\n    this.setState({ showNewTaskPopup: false });\n  }\n\n  showLogActivityPopup = () => {\n    this.setState({ showLogActivityPopup: true });\n  }\n\n  showNewTaskPopup = () => {\n    this.setState({ showNewTaskPopup: true });\n  }\n\n  handleCreateCancel = () => {\n    // Clear object in redux state\n    if (this.props.pendingSummary) {\n      this.props.clearPending(this.props.pendingSummary);\n    }\n  }\n\n  handleCreateSave = () => {\n    const { createSummary, updatePending, pendingSummary } = this.props;\n    if (pendingSummary) {\n      switch (pendingSummary.type) {\n        case SalesforceSummaryMetaType.Lead:\n          updatePending(pendingSummary);\n          createSummary(pendingSummary);\n          break;\n        case SalesforceSummaryMetaType.Contact:\n          updatePending(pendingSummary);\n          createSummary(pendingSummary);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  renderContent() {\n    const { loading, error, salesforce, email, tasks, pendingSummary } = this.props;\n\n    if (!email) {\n      return null;\n    }\n\n    // Loading state\n    if (loading) {\n      return (\n        <CenteredLoader />\n      );\n    }\n\n    // Show Create Object Container\n    if (pendingSummary && pendingSummary.fields) {\n      return (\n        <div className=\"salesforce-container\">\n          <div className=\"info\">\n            <CreateSection\n              title={`Create ${pendingSummary.type}`}\n              email={this.props.email || 'no-email'}\n              fields={pendingSummary.fields || []}\n              onChange={this.handleCreateFieldChange}\n              onCancel={this.handleCreateCancel}\n              onSave={this.handleCreateSave}\n              error={error}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    if (error) {\n      // Contact doesn't exist on Salesforce\n      // TODO(SHIN): Better Creation state for salesforce account in render\n      // TODO(SHIN): Create SOObject that is a schema to pass into Create Section\n      if ((error as ApiError).code === 404) {\n        // Otherwise show start container\n        return (\n          <div className=\"salesforce-not-found\">\n            <h1>No record in Salesforce</h1>\n            <div className=\"email\">{email}</div>\n            <div><button onClick={this.handleCreateLead}>Create Lead</button></div>\n            <div><button onClick={this.handleCreateContact}>Create Contact</button></div>\n          </div>\n        );\n      }\n\n      // Display error\n      return (\n        <div className=\"error-state\">\n          ⚠️<br />\n          {error.toString()}\n        </div>\n      );\n    }\n\n    // Salesforce data loading not yet triggered\n    if (!salesforce) {\n      return (\n        <CenteredLoader />\n      );\n    }\n\n    // Display Salesforce content\n    const showOpportunities = salesforce.contact !== undefined;\n\n    return (\n      <div className=\"salesforce-container\">\n        <div className=\"info\">\n          {salesforce.lead && !salesforce.contact &&\n            <Section\n              title=\"Lead\"\n              data={salesforce.lead}\n              onChange={this.handleLeadFieldChange}\n              button=\"Convert to Contact\"\n              onButtonClick={this.handleConvertToContact}\n            />}\n          {salesforce.contact &&\n            <Section\n              title=\"Contact\"\n              data={salesforce.contact}\n              onChange={this.handleContactFieldChange}\n            />}\n          {salesforce.account &&\n            <Section\n              title=\"Account\"\n              data={salesforce.account}\n              onChange={this.handleAccountFieldChange}\n            />}\n        </div>\n        <div className=\"buttons\">\n          <button onClick={this.showLogActivityPopup}>Log Activity</button>\n          <button onClick={this.showNewTaskPopup}>New Task</button>\n          <LogActivityPopover\n            show={this.state.showLogActivityPopup}\n            onHide={this.handleCancelLogActivityPopup}\n            onLogActivity={this.handleLogActivity}\n          />\n          <NewTaskPopover\n            show={this.state.showNewTaskPopup}\n            onHide={this.handleCancelNewTaskPopup}\n            onNewTask={this.handleNewTask}\n          />\n        </div>\n        <Tabs\n          onSelect={this.handleSelectTab}\n          value={this.state.selectedTab}\n          tasksCount={tasks.length}\n          activityCount={salesforce.activityHistory.length}\n          opportunitiesCount={salesforce.opportunities.length}\n          showOpportunties={showOpportunities}\n        />\n        <div className=\"table\">\n          {this.state.selectedTab === SalesforceTabs.Tasks &&\n            <TasksTable tasks={tasks} />}\n          {this.state.selectedTab === SalesforceTabs.Activity &&\n            <ActivityTable activity={salesforce.activityHistory} />}\n          {this.state.selectedTab === SalesforceTabs.Opportunities &&\n            <OpportunitiesTable opportunities={salesforce.opportunities} />}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"salesforce-sidebar\">\n        {!this.props.hasEnterprise && <Upgrade />}\n        {this.props.hasEnterprise && !this.props.salesforceEnabled && (\n          <NotEnabled integrationType={IntegrationType.Salesforce} />\n        )}\n        {this.props.hasEnterprise && this.props.salesforceEnabled && !this.props.email\n          && <EmptyState />}\n        {this.props.hasEnterprise && this.props.salesforceEnabled && this.props.email\n          && this.renderContent()}\n      </div>\n    );\n  }\n}\n\nexport default Salesforce;\n"]}]}