{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/TeamMemberPopover/TeamMemberPopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/TeamMemberPopover/TeamMemberPopover.tsx","mtime":1675280254041},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOwppbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJzsKaW1wb3J0IFBvcG92ZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL1BvcG92ZXIvUG9wb3Zlcic7CmltcG9ydCAnLi9UZWFtTWVtYmVyUG9wb3Zlci5zY3NzJzsKaW1wb3J0IGJyb3dzZXJIaXN0b3J5IGZyb20gJ0BzcmMvbGliL2Jyb3dzZXJIaXN0b3J5JzsKZXhwb3J0IHZhciBUZWFtTWVtYmVyUG9wb3Zlckl0ZW1UeXBlOwooZnVuY3Rpb24gKFRlYW1NZW1iZXJQb3BvdmVySXRlbVR5cGUpIHsKICAgIFRlYW1NZW1iZXJQb3BvdmVySXRlbVR5cGVbIlRlYW1NZW1iZXIiXSA9ICJ0ZWFtTWVtYmVyIjsKICAgIFRlYW1NZW1iZXJQb3BvdmVySXRlbVR5cGVbIkNvbnRhY3QiXSA9ICJjb250YWN0IjsKfSkoVGVhbU1lbWJlclBvcG92ZXJJdGVtVHlwZSB8fCAoVGVhbU1lbWJlclBvcG92ZXJJdGVtVHlwZSA9IHt9KSk7CnZhciBUZWFtTWVtYmVyUG9wb3ZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhUZWFtTWVtYmVyUG9wb3ZlciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIFRlYW1NZW1iZXJQb3BvdmVyKHByb3BzKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5zaG93KCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oaWRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnVwQXJyb3cgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbmRleDsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEluZGV4OiBNYXRoLm1heCgwLCBzZWxlY3RlZEluZGV4IC0gMSkgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2Nyb2xsU2VsZWN0ZWRJbmRleEludG9WaWV3KGZhbHNlKTsgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5kb3duQXJyb3cgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBpdGVtcyA9IF90aGlzLnByb3BzLml0ZW1zOwogICAgICAgICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IF90aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXg7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbmRleDogTWF0aC5taW4oc2VsZWN0ZWRJbmRleCArIDEsIGl0ZW1zLmxlbmd0aCAtIDEpIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjcm9sbFNlbGVjdGVkSW5kZXhJbnRvVmlldyh0cnVlKTsgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zY3JvbGxTZWxlY3RlZEluZGV4SW50b1ZpZXcgPSBmdW5jdGlvbiAoc2Nyb2xsRG93bikgewogICAgICAgICAgICBpZiAoX3RoaXMudGltZW91dCkgewogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9wb3ZlcikgewogICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBSZWFjdERPTS5maW5kRE9NTm9kZShfdGhpcy5wb3BvdmVyKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZW1iZXInKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzICYmIGVsZW1lbnRzW190aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXhdOwogICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIHNjcm9sbERvd24gJiYKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCArIGNvbnRhaW5lclJlY3QuaGVpZ2h0IDwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub2Zmc2V0VG9wICsgZWxlbWVudC5vZmZzZXRIZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm9mZnNldFRvcCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gY29udGFpbmVyUmVjdC5oZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW1lbnQgJiYgIXNjcm9sbERvd24gJiYKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCAmJiBjb250YWluZXIuc2Nyb2xsVG9wID4gZWxlbWVudC5vZmZzZXRUb3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDsKICAgICAgICAgICAgdmFyIGluZGV4ID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IG51bGwpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbmRleDogcGFyc2VJbnQoaW5kZXgsIDEwKSB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uU2VsZWN0ID0gX2Eub25TZWxlY3QsIGl0ZW1zID0gX2EuaXRlbXM7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbmRleDsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBvblNlbGVjdChpdGVtc1tzZWxlY3RlZEluZGV4XSk7CiAgICAgICAgfTsKICAgICAgICAvLyBIQUNLKFNISU4pOiBGaXhlcyBpc3N1ZSB3aGVyZSBtb3VzZWRvd24gd2FzIGNhdXNpbmcgZWRpdG9yU3RhdGUgY2hhbmdlcyB0byBoYXBwZW4KICAgICAgICAvLyBhbmQgcG9wb3ZlciB0byBiZSBkaXNtaXNzZWQgZHVyaW5nIHNlbGVjdGlvbgogICAgICAgIF90aGlzLmhhbmRsZU1vdXNlRG93bk92ZXJyaWRlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uU2VsZWN0ID0gX2Eub25TZWxlY3QsIGl0ZW1zID0gX2EuaXRlbXM7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbmRleDsKICAgICAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGggJiYgc2VsZWN0ZWRJbmRleCA9PT0gMCkgewogICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlSW52aXRlVGVhbU1lbWJlcnMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvblNlbGVjdChpdGVtc1tzZWxlY3RlZEluZGV4XSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5nZXRGdWxsTmFtZSA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiAoaXRlbS5maXJzdE5hbWUgKyAiICIgKyBpdGVtLmxhc3ROYW1lKS50cmltKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnZpdGVUZWFtTWVtYmVycyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zZXR0aW5ncy90ZWFtJyk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5yZW5kZXJFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSBfdGhpcy5zdGF0ZS5zZWxlY3RlZEluZGV4OwogICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdlbXB0eScsIHsgc2VsZWN0ZWQ6IHNlbGVjdGVkSW5kZXggPT09IDAgfSksIG9uTW91c2VFbnRlcjogX3RoaXMuaGFuZGxlTW91c2VFbnRlciwgImRhdGEtaW5kZXgiOiAiMCIsIG9uQ2xpY2s6IF90aGlzLmhhbmRsZUludml0ZVRlYW1NZW1iZXJzIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1haW4iIH0sICJObyBvbmVcdTIwMTlzIG9uIHlvdXIgdGVhbSB5ZXQhIiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImludml0ZSIgfSwgIkludml0ZSBwZW9wbGUgdG8gbXkgdGVhbSIpKSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsgc2VsZWN0ZWRJbmRleDogMCB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFRlYW1NZW1iZXJQb3BvdmVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAgIH0KICAgIH07CiAgICBUZWFtTWVtYmVyUG9wb3Zlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgaXRlbXMgPSBfYS5pdGVtcywgb25IaWRlID0gX2Eub25IaWRlLCBvblNob3cgPSBfYS5vblNob3csIGlzRW1wdHkgPSBfYS5pc0VtcHR5OwogICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEluZGV4OwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQb3BvdmVyLCB7IGNsYXNzTmFtZTogInRlYW0tbWVtYmVyLXBvcG92ZXIiLCByZWY6IHRoaXMuaGFuZGxlUmVmLCBvbkhpZGU6IG9uSGlkZSwgb25TaG93OiBvblNob3csIGF1dG9Gb2N1c09mZjogdHJ1ZSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRpc2NsYWltZXIiIH0sICJAbWVudGlvbiB0ZWFtbWF0ZXMgdG8gc2hhcmUgdGhpcyBjb252ZXJzYXRpb24gd2l0aCB0aGVtIiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibWVtYmVycyIgfSwKICAgICAgICAgICAgICAgICFpc0VtcHR5ICYmIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsga2V5OiBpLnRvU3RyaW5nKCksIGNsYXNzTmFtZTogY2xhc3NuYW1lcygnbWVtYmVyJywgeyBzZWxlY3RlZDogc2VsZWN0ZWRJbmRleCA9PT0gaSB9KSwgb25Nb3VzZUVudGVyOiBfdGhpcy5oYW5kbGVNb3VzZUVudGVyLCAiZGF0YS1pbmRleCI6IGkudG9TdHJpbmcoKSwgb25DbGljazogX3RoaXMuaGFuZGxlU2VsZWN0LCBvbk1vdXNlRG93bjogX3RoaXMuaGFuZGxlTW91c2VEb3duT3ZlcnJpZGUgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInBob3RvIiB9LAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogaXRlbS5waG90b1VybCB9KSksCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0RnVsbE5hbWUoaXRlbSkgJiYKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJuYW1lIiB9LCBfdGhpcy5nZXRGdWxsTmFtZShpdGVtKSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJlbWFpbCIgfSwgaXRlbS5lbWFpbCksCiAgICAgICAgICAgICAgICAgICAgaXRlbS50eXBlID09PSBUZWFtTWVtYmVyUG9wb3Zlckl0ZW1UeXBlLkNvbnRhY3QgJiYKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpbnZpdGUiIH0sICJpbnZpdGUgdG8gdGVhbSIpKSk7IH0pLAogICAgICAgICAgICAgICAgaXNFbXB0eSAmJiB0aGlzLnJlbmRlckVtcHR5KCkpKSk7CiAgICB9OwogICAgcmV0dXJuIFRlYW1NZW1iZXJQb3BvdmVyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgVGVhbU1lbWJlclBvcG92ZXI7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/TeamMemberPopover/TeamMemberPopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/TeamMemberPopover/TeamMemberPopover.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport classnames from 'classnames';\nimport Popover from '@src/components/Popover/Popover';\nimport './TeamMemberPopover.scss';\nimport browserHistory from '@src/lib/browserHistory';\n\nexport const enum TeamMemberPopoverItemType {\n  TeamMember = 'teamMember',\n  Contact = 'contact',\n}\n\nexport interface TeamMemberPopoverItem {\n  photoUrl: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  id: string;\n  type: TeamMemberPopoverItemType;\n}\n\nexport interface Props {\n  items: TeamMemberPopoverItem[];\n  onSelect: (member: TeamMemberPopoverItem) => void;\n  onShow: () => void;\n  onHide: () => void;\n  isEmpty: boolean;\n}\n\ninterface State {\n  selectedIndex: number;\n}\n\nclass TeamMemberPopover extends React.PureComponent<Props, State> {\n  popover: Popover;\n  timeout: NodeJS.Timer;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = { selectedIndex: 0 };\n  }\n\n  componentWillUnmount() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  handleRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  show = () => {\n    this.popover.show();\n  }\n\n  hide = () => {\n    this.popover.hide();\n  }\n\n  upArrow = () => {\n    const { selectedIndex } = this.state;\n\n    this.setState(\n      { selectedIndex: Math.max(0, selectedIndex - 1) },\n      () => this.scrollSelectedIndexIntoView(false),\n    );\n  }\n\n  downArrow = () => {\n    const { items } = this.props;\n    const { selectedIndex } = this.state;\n\n    this.setState(\n      { selectedIndex: Math.min(selectedIndex + 1, items.length - 1) },\n      () => this.scrollSelectedIndexIntoView(true),\n    );\n  }\n\n  scrollSelectedIndexIntoView = (scrollDown: boolean) => {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = global.setTimeout(\n      () => {\n        if (this.popover) {\n          const container = ReactDOM.findDOMNode(this.popover) as (Element|null);\n          if (!container) {\n            return;\n          }\n\n          const elements = container.getElementsByClassName('member');\n          const element = elements && elements[this.state.selectedIndex] as HTMLElement;\n          const containerRect = container.getBoundingClientRect();\n\n          if (element && scrollDown &&\n            container.scrollTop + containerRect.height <\n            element.offsetTop + element.offsetHeight) {\n            container.scrollTop =\n              element.offsetTop + element.offsetHeight - containerRect.height;\n          } else if (element && !scrollDown &&\n            element && container.scrollTop > element.offsetTop) {\n            container.scrollTop = element.offsetTop;\n          }\n        }\n      },\n      0,\n    );\n  }\n\n  handleMouseEnter = (e: React.MouseEvent<HTMLButtonElement>) => {\n    const target = e.currentTarget;\n    const index = target.getAttribute('data-index');\n\n    if (index !== null) {\n      this.setState({ selectedIndex: parseInt(index, 10) });\n    }\n  }\n\n  handleSelect = (e: React.MouseEvent<HTMLButtonElement>) => {\n    const { onSelect, items } = this.props;\n    const { selectedIndex } = this.state;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    onSelect(items[selectedIndex]);\n  }\n\n  // HACK(SHIN): Fixes issue where mousedown was causing editorState changes to happen\n  // and popover to be dismissed during selection\n  handleMouseDownOverride = (e: React.MouseEvent<any>) => {\n    e.stopPropagation();\n  }\n\n  select = () => {\n    const { onSelect, items } = this.props;\n    const { selectedIndex } = this.state;\n\n    if (!items.length && selectedIndex === 0) {\n      this.handleInviteTeamMembers();\n    }\n\n    onSelect(items[selectedIndex]);\n  }\n\n  getFullName = (item: TeamMemberPopoverItem) => {\n    return `${item.firstName} ${item.lastName}`.trim();\n  }\n\n  handleInviteTeamMembers = (e?: React.MouseEvent<HTMLButtonElement>) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    browserHistory.push('/settings/team');\n  }\n\n  renderEmpty = () => {\n    const { selectedIndex } = this.state;\n\n    return (\n      <button\n        className={classnames('empty', { selected: selectedIndex === 0 })}\n        onMouseEnter={this.handleMouseEnter}\n        data-index=\"0\"\n        onClick={this.handleInviteTeamMembers}\n      >\n        <div className=\"main\">No oneâ€™s on your team yet!</div>\n        <div className=\"invite\">Invite people to my team</div>\n      </button>\n    );\n  }\n\n  render() {\n    const { items, onHide, onShow, isEmpty } = this.props;\n    const { selectedIndex } = this.state;\n\n    return (\n      <Popover\n        className=\"team-member-popover\"\n        ref={this.handleRef}\n        onHide={onHide}\n        onShow={onShow}\n        autoFocusOff\n      >\n        <div className=\"disclaimer\">\n          @mention teammates to share this conversation with them\n        </div>\n        <div className=\"members\">\n          {!isEmpty && items.map((item, i) => (\n            <button\n              key={i.toString()}\n              className={classnames('member', { selected: selectedIndex === i })}\n              onMouseEnter={this.handleMouseEnter}\n              data-index={i.toString()}\n              onClick={this.handleSelect}\n              onMouseDown={this.handleMouseDownOverride}\n            >\n              <div className=\"photo\"><img src={item.photoUrl} /></div>\n              {this.getFullName(item) &&\n                <div className=\"name\">{this.getFullName(item)}</div>}\n              <div className=\"email\">{item.email}</div>\n              {item.type === TeamMemberPopoverItemType.Contact &&\n                <div className=\"invite\">invite to team</div>}\n            </button>\n          ))}\n          {isEmpty && this.renderEmpty()}\n        </div>\n      </Popover>\n    );\n  }\n}\n\nexport default TeamMemberPopover;\n"]}]}