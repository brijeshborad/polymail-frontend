{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/BillingPlans/BillingPlanSection.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/BillingPlans/BillingPlanSection.tsx","mtime":1675280254095},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7CmltcG9ydCAnLi9CaWxsaW5nUGxhblNlY3Rpb24uc2Nzcyc7CmltcG9ydCBDb3N0TGFiZWwgZnJvbSAnQHNyYy9yb3V0ZXMvU2V0dGluZ3Mvcm91dGVzL0JpbGxpbmcvY29tcG9uZW50cy9Db3N0TGFiZWwnOwppbXBvcnQgeyBCaWxsaW5nVGllciB9IGZyb20gJ0BzcmMvdHlwZXMvYmlsbGluZyc7CmltcG9ydCB7IGluZmVyVXBncmFkZVR5cGUsIEJpbGxpbmdVcGdyYWRlVHlwZSB9IGZyb20gJ0BzcmMvbGliL21vZGVscy9iaWxsaW5nJzsKaW1wb3J0IHsgQW1wbGl0dWRlRXZlbnRzLCBsb2dBbXBsaXR1ZGVFdmVudCB9IGZyb20gJ0BzcmMvbGliL2FtcGxpdHVkZS1hbmFseXRpY3MnOwppbXBvcnQgSG92ZXJUaXAgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Jhc2UvSG92ZXJUaXAnOwp2YXIgcGFyc2VGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHsKICAgIHZhciBib2xkZWQgPSBmZWF0dXJlLm1hdGNoKC97e1tefV0rfX0vZyk7CiAgICB2YXIgYm9sZGVkRGljdCA9IHt9OwogICAgaWYgKGJvbGRlZCkgewogICAgICAgIHZhciBzdHJfMTsKICAgICAgICBib2xkZWQuZm9yRWFjaChmdW5jdGlvbiAoYikgewogICAgICAgICAgICBzdHJfMSA9IGIuc2xpY2UoMiwgYi5sZW5ndGggLSAyKTsKICAgICAgICAgICAgYm9sZGVkRGljdFtzdHJfMV0gPSBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJib2xkIiwga2V5OiBzdHJfMSB9LCBzdHJfMSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHNwbGl0ID0gZmVhdHVyZS5zcGxpdCgve3t8fX0vZyk7CiAgICAgICAgcmV0dXJuIHNwbGl0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gISFzOyB9KS5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIGJvbGRlZERpY3Rbc10gfHwgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsga2V5OiBzIH0sIHMpOyB9KTsKICAgIH0KICAgIHJldHVybiBmZWF0dXJlOwp9OwpleHBvcnQgdmFyIEJpbGxpbmdQbGFuU2VjdGlvbiA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIHNob3dQb3B1bGFyID0gcHJvcHMuZXhpc3RpbmdUaWVyICE9PSBCaWxsaW5nVGllci5FbnRlcnByaXNlCiAgICAgICAgJiYgcHJvcHMudGllciA9PT0gQmlsbGluZ1RpZXIuVGVhbTsKICAgIHZhciBleGNlZWRzQWNjb3VudHNMaW1pdCA9IHByb3BzLmFjY291bnRzTGltaXQKICAgICAgICA/IHByb3BzLmFjY291bnRzID4gcHJvcHMuYWNjb3VudHNMaW1pdAogICAgICAgIDogZmFsc2U7CiAgICB2YXIgYWNjb3VudEV4Y2VlZHNDb3VudCA9IGV4Y2VlZHNBY2NvdW50c0xpbWl0ICYmIHByb3BzLmFjY291bnRzTGltaXQKICAgICAgICA/IHByb3BzLmFjY291bnRzIC0gcHJvcHMuYWNjb3VudHNMaW1pdAogICAgICAgIDogMDsKICAgIHZhciB1cGdyYWRlVHlwZSA9IGluZmVyVXBncmFkZVR5cGUocHJvcHMudGllciwgcHJvcHMuZXhpc3RpbmdUaWVyKTsKICAgIHZhciBpc0Rvd25ncmFkZSA9IHVwZ3JhZGVUeXBlID09PSBCaWxsaW5nVXBncmFkZVR5cGUuRG93bmdyYWRlOwogICAgdmFyIGlzQ3VycmVudFBsYW4gPSB1cGdyYWRlVHlwZSA9PT0gQmlsbGluZ1VwZ3JhZGVUeXBlLkN1cnJlbnQ7CiAgICB2YXIgZGlzYWJsZWQgPSBleGNlZWRzQWNjb3VudHNMaW1pdCB8fCBpc0N1cnJlbnRQbGFuOwogICAgdmFyIGN0YUNvcHkgPSB1cGdyYWRlVHlwZTsKICAgIHZhciB0aXBDb3B5ID0gIlRvICIgKyAoIWlzRG93bmdyYWRlID8gJ3NlbGVjdCB0aGlzJyA6ICdkb3duZ3JhZGUgeW91cicpICsgIiBwbGFuLFxuICByZW1vdmUgIiArIGFjY291bnRFeGNlZWRzQ291bnQgKyAiIGNvbm5lY3RlZCAiICsgKGFjY291bnRFeGNlZWRzQ291bnQgPiAxID8gJ2FjY291bnRzJyA6ICdhY2NvdW50Jyk7CiAgICB2YXIgaGFuZGxlQ3RhQ2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGV4Y2VlZHNBY2NvdW50c0xpbWl0KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbG9nQW1wbGl0dWRlRXZlbnQoQW1wbGl0dWRlRXZlbnRzLlNlbGVjdFVwZ3JhZGVQbGFuKTsKICAgICAgICBwcm9wcy5vbkN0YUNsaWNrKHByb3BzLnRpZXIpOwogICAgfTsKICAgIHZhciBjdGFCdG4gPSAoUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVDdGFDbGljaywgZGlzYWJsZWQ6IGRpc2FibGVkICYmICFwcm9wcy5pc01vYmlsZSwgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdjdGEtYnV0dG9uJywgewogICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsCiAgICAgICAgICAgIGN1cnJlbnQ6IHVwZ3JhZGVUeXBlID09PSBCaWxsaW5nVXBncmFkZVR5cGUuQ3VycmVudCwKICAgICAgICAgICAgdXBncmFkZTogdXBncmFkZVR5cGUgPT09IEJpbGxpbmdVcGdyYWRlVHlwZS5VcGdyYWRlCiAgICAgICAgICAgICAgICB8fCB1cGdyYWRlVHlwZSA9PT0gQmlsbGluZ1VwZ3JhZGVUeXBlLlNlbGVjdCwKICAgICAgICAgICAgZG93bmdyYWRlOiBpc0Rvd25ncmFkZSwKICAgICAgICB9KSB9LCBjdGFDb3B5KSk7CiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdiaWxsaW5nLXBsYW4tc2VjdGlvbicsIHsKICAgICAgICAgICAgcG9wdWxhcjogc2hvd1BvcHVsYXIsCiAgICAgICAgICAgIG1vYmlsZTogcHJvcHMuaXNNb2JpbGUsCiAgICAgICAgfSkgfSwKICAgICAgICBzaG93UG9wdWxhciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInBvcHVsYXItdGFnIiB9LCAiTU9TVCBQT1BVTEFSIiksCiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgcHJvcHMudGl0bGUpLAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29zdExhYmVsLCB7IGNvc3Q6IHByb3BzLmNvc3QsIHRpbWVQZXJpb2Q6ICJtbyIgfSksCiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwZXItdXNlciIgfSwgInBlciB1c2VyIiksCiAgICAgICAgZXhjZWVkc0FjY291bnRzTGltaXQgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChIb3ZlclRpcCwgeyB0b3A6IHByb3BzLmlzTW9iaWxlID8gJy0yNnB4JyA6ICctNDJweCcsIGxlZnQ6IHByb3BzLmlzTW9iaWxlID8gJzM2cHgnIDogJzEwcHgnLCBhbmNob3JCb3R0b206IHRydWUsIG11bHRpbGluZTogdHJ1ZSwgY29weTogdGlwQ29weSwgc2hvd09uQ2xpY2s6IHByb3BzLmlzTW9iaWxlIH0sIGN0YUJ0bikpIDogY3RhQnRuLAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmVhdHVyZXMtbGlzdCIgfSwgcHJvcHMuZmVhdHVyZXMubWFwKGZ1bmN0aW9uIChmZWF0dXJlKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBrZXk6IGZlYXR1cmUsIGNsYXNzTmFtZTogImZlYXR1cmUtaXRlbSIgfSwgcGFyc2VGZWF0dXJlKGZlYXR1cmUpKSk7IH0pKSkpOwp9OwpleHBvcnQgZGVmYXVsdCBCaWxsaW5nUGxhblNlY3Rpb247Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/BillingPlans/BillingPlanSection.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/BillingPlans/BillingPlanSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\n\nimport './BillingPlanSection.scss';\nimport CostLabel from '@src/routes/Settings/routes/Billing/components/CostLabel';\nimport { BillingTier } from '@src/types/billing';\nimport { inferUpgradeType, BillingUpgradeType } from '@src/lib/models/billing';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\nimport HoverTip from '@src/components/Base/HoverTip';\n\ninterface Props {\n  title: string;\n  tier: BillingTier;\n  cost: number;\n  description: string;\n  ctaCopy: string;\n  features: string[];\n  seatsUsed: number;\n  existingTier?: BillingTier;\n  onCtaClick: (tier: BillingTier) => void;\n  isMobile?: boolean;\n  accounts: number;\n  accountsLimit?: number;\n}\n\nconst parseFeature = (feature: string) => {\n  const bolded = feature.match(/{{[^}]+}}/g);\n  const boldedDict = {};\n  if (bolded) {\n    let str;\n    bolded.forEach((b) => {\n      str = b.slice(2, b.length - 2);\n      boldedDict[str] = <span className=\"bold\" key={str}>{str}</span>;\n    });\n\n    const split = feature.split(/{{|}}/g);\n    return split.filter(s => !!s).map(s => boldedDict[s] || <span key={s}>{s}</span>);\n  }\n  return feature;\n};\n\nexport const BillingPlanSection: React.SFC<Props> = (props: Props) => {\n  const showPopular = props.existingTier !== BillingTier.Enterprise\n  && props.tier === BillingTier.Team;\n\n  const exceedsAccountsLimit = props.accountsLimit\n    ? props.accounts > props.accountsLimit\n    : false;\n  const accountExceedsCount = exceedsAccountsLimit && props.accountsLimit\n    ? props.accounts - props.accountsLimit\n    : 0;\n\n  const upgradeType = inferUpgradeType(props.tier, props.existingTier);\n  const isDowngrade = upgradeType === BillingUpgradeType.Downgrade;\n  const isCurrentPlan = upgradeType === BillingUpgradeType.Current;\n\n  const disabled = exceedsAccountsLimit || isCurrentPlan;\n\n  const ctaCopy = upgradeType;\n  const tipCopy = `To ${!isDowngrade ? 'select this' : 'downgrade your'} plan,\n  remove ${accountExceedsCount} connected ${accountExceedsCount > 1 ? 'accounts' : 'account'}`;\n\n  const handleCtaClick = () => {\n    if (exceedsAccountsLimit) {\n      return;\n    }\n\n    logAmplitudeEvent(AmplitudeEvents.SelectUpgradePlan);\n    props.onCtaClick(props.tier);\n  };\n\n  const ctaBtn = (<button\n    onClick={handleCtaClick}\n    disabled={disabled && !props.isMobile}\n    className={classnames('cta-button', {\n      disabled,\n      current: upgradeType === BillingUpgradeType.Current,\n      upgrade:\n        upgradeType === BillingUpgradeType.Upgrade\n        || upgradeType === BillingUpgradeType.Select,\n      downgrade: isDowngrade,\n    })}\n  >\n    {ctaCopy}\n  </button>);\n\n  return (\n    <div\n      className={classnames('billing-plan-section', {\n        popular: showPopular,\n        mobile: props.isMobile,\n      })}\n    >\n      {showPopular && <div className=\"popular-tag\">\n        MOST POPULAR\n      </div>}\n      <div className=\"title\">\n        {props.title}\n      </div>\n      <CostLabel\n        cost={props.cost}\n        timePeriod=\"mo\"\n      />\n      <div className=\"per-user\">\n        per user\n      </div>\n      {/* <div className=\"description\">\n        {props.description}\n      </div> */}\n      {exceedsAccountsLimit ? (\n        <HoverTip\n          top={props.isMobile ? '-26px' : '-42px'}\n          left={props.isMobile ? '36px' : '10px'}\n          anchorBottom\n          multiline\n          copy={tipCopy}\n          showOnClick={props.isMobile}\n        >\n          {ctaBtn}\n        </HoverTip>\n      ) : ctaBtn}\n      <div className=\"features-list\">\n        {props.features.map(feature => (\n          <div\n            key={feature}\n            className=\"feature-item\"\n          >\n            {parseFeature(feature)}\n          </div>\n        ),\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BillingPlanSection;\n"]}]}