{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/MailHeader/MailHeader.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/MailHeader/MailHeader.tsx","mtime":1675280254019},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBEaXNjbG9zdXJlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9EaXNjbG9zdXJlLnN2Zyc7CmltcG9ydCBBY2NvdW50Q2hvb3NlclBvcG92ZXIgZnJvbSAnLi9BY2NvdW50Q2hvb3NlclBvcG92ZXInOwppbXBvcnQgJy4vTWFpbEhlYWRlci5zY3NzJzsKLy8gU2VjdGlvbiBIZWFkZXIKdmFyIE1haWxIZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoTWFpbEhlYWRlciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIE1haWxIZWFkZXIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0QWNjb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuY2hvb3Nlci50b2dnbGUoMCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVEaXNjbG9zdXJlQ2xpY2sgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0OwogICAgICAgICAgICB2YXIgYm91bmRpbmdCb3ggPSB0YXJnZXQgJiYgdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIGlmIChib3VuZGluZ0JveCkgewogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIF90aGlzLmNob29zZXIudG9nZ2xlKGJvdW5kaW5nQm94LmJvdHRvbSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgaWYgKHJlZikgewogICAgICAgICAgICAgICAgX3RoaXMuY2hvb3NlciA9IHJlZi5nZXRXcmFwcGVkSW5zdGFuY2UoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgTWFpbEhlYWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHNlbGVjdGVkQWNjb3VudCA9IF9hLnNlbGVjdGVkQWNjb3VudCwgYWNjb3VudHMgPSBfYS5hY2NvdW50czsKICAgICAgICB2YXIgdGl0bGUgPSBzZWxlY3RlZEFjY291bnQuZGVzY3JpcHRpb247CiAgICAgICAgdmFyIEFjY291bnRDaG9vc2VyUG9wb3ZlckNvbm5lY3QgPSBBY2NvdW50Q2hvb3NlclBvcG92ZXI7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1haWwtaGVhZGVyIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImhlYWRpbmciLCBvbkNsaWNrOiB0aGlzLmhhbmRsZURpc2Nsb3N1cmVDbGljayB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJtaWRkbGUiIH0sIHRpdGxlLnRvVXBwZXJDYXNlKCkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJkaXNjbG9zdXJlLWJ1dHRvbiIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpc2Nsb3N1cmUsIG51bGwpKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjb3VudENob29zZXJQb3BvdmVyQ29ubmVjdCwgeyBvblNlbGVjdDogdGhpcy5oYW5kbGVTZWxlY3RBY2NvdW50LCBzZWxlY3RlZEFjY291bnQ6IHNlbGVjdGVkQWNjb3VudCwgYWNjb3VudHM6IGFjY291bnRzLCByZWY6IHRoaXMuaGFuZGxlUmVmIH0pKSk7CiAgICB9OwogICAgcmV0dXJuIE1haWxIZWFkZXI7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBNYWlsSGVhZGVyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/MailHeader/MailHeader.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/components/Section/MailHeader/MailHeader.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,UAAU,MAAM,sCAAsC,CAAC;AAG9D,OAAO,qBAAqB,MAAM,yBAAyB,CAAC;AAG5D,OAAO,mBAAmB,CAAC;AAQ3B,iBAAiB;AACjB;IAAyB,8BAA0B;IAAnD;QAAA,qEA8CC;QA3CC,yBAAmB,GAAG;YACpB,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACzB,CAAC,CAAA;QAED,2BAAqB,GAAG,UAAC,CAAgC;YACvD,IAAM,MAAM,GAAG,CAAC,CAAC,aAAa,CAAC;YAC/B,IAAM,WAAW,GAAG,MAAM,IAAI,MAAM,CAAC,qBAAqB,IAAI,MAAM,CAAC,qBAAqB,EAAE,CAAC;YAE7F,IAAI,WAAW,EAAE;gBACf,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;aACzC;QACH,CAAC,CAAA;QAED,eAAS,GAAG,UAAC,GAAQ;YACnB,IAAI,GAAG,EAAE;gBACP,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC,kBAAkB,EAAE,CAAC;aACzC;QACH,CAAC,CAAA;;IAwBH,CAAC;IAtBC,2BAAM,GAAN;QACQ,IAAA,eAA0C,EAAxC,oCAAe,EAAE,sBAAuB,CAAC;QACjD,IAAM,KAAK,GAAG,eAAe,CAAC,WAAW,CAAC;QAC1C,IAAM,4BAA4B,GAAG,qBAA4B,CAAC;QAElE,OAAO,CACL,6BAAK,SAAS,EAAC,aAAa;YAC1B,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,qBAAqB;gBAC7D,6BAAK,SAAS,EAAC,QAAQ,IAAE,KAAK,CAAC,WAAW,EAAE,CAAO;gBAClD,6BAAK,SAAS,EAAC,mBAAmB;oBACjC,oBAAC,UAAU,OAAG,CACV,CACC;YACT,oBAAC,4BAA4B,IAC3B,QAAQ,EAAE,IAAI,CAAC,mBAAmB,EAClC,eAAe,EAAE,eAAe,EAChC,QAAQ,EAAE,QAAQ,EAClB,GAAG,EAAE,IAAI,CAAC,SAAS,GACnB,CACE,CACP,CAAC;IACJ,CAAC;IACH,iBAAC;AAAD,CAAC,AA9CD,CAAyB,KAAK,CAAC,aAAa,GA8C3C;AAED,eAAe,UAAU,CAAC","sourcesContent":["import React from 'react';\n\nimport Disclosure from '@src/components/Icons/Disclosure.svg';\nimport { Account } from '@src/types';\n\nimport AccountChooserPopover from './AccountChooserPopover';\nimport AccountChooserPopoverInstance from './AccountChooserPopover/AccountChooserPopover';\n\nimport './MailHeader.scss';\n\n// Props passed to LSBSectionHeader\ninterface Props {\n  selectedAccount: Account;\n  accounts: Account[];\n}\n\n// Section Header\nclass MailHeader extends React.PureComponent<Props> {\n  private chooser: AccountChooserPopoverInstance;\n\n  handleSelectAccount = () => {\n    this.chooser.toggle(0);\n  }\n\n  handleDisclosureClick = (e: React.MouseEvent<HTMLElement>) => {\n    const target = e.currentTarget;\n    const boundingBox = target && target.getBoundingClientRect && target.getBoundingClientRect();\n\n    if (boundingBox) {\n      e.stopPropagation();\n      e.preventDefault();\n      this.chooser.toggle(boundingBox.bottom);\n    }\n  }\n\n  handleRef = (ref: any) => {\n    if (ref) {\n      this.chooser = ref.getWrappedInstance();\n    }\n  }\n\n  render() {\n    const { selectedAccount, accounts } = this.props;\n    const title = selectedAccount.description;\n    const AccountChooserPopoverConnect = AccountChooserPopover as any;\n\n    return (\n      <div className=\"mail-header\">\n        <button className=\"heading\" onClick={this.handleDisclosureClick}>\n          <div className=\"middle\">{title.toUpperCase()}</div>\n           <div className=\"disclosure-button\">\n            <Disclosure />\n          </div>\n        </button>\n        <AccountChooserPopoverConnect\n          onSelect={this.handleSelectAccount}\n          selectedAccount={selectedAccount}\n          accounts={accounts}\n          ref={this.handleRef}\n        />\n      </div>\n    );\n  }\n}\n\nexport default MailHeader;\n"]}]}