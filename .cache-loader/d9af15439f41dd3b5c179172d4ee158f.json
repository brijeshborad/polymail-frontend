{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ContactCardPopover/ContactCardPopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ContactCardPopover/ContactCardPopover.tsx","mtime":1675280254038},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7Ci8vIGltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LXRpbWV6b25lJzsKaW1wb3J0IENsaXBib2FyZEpTIGZyb20gJ2NsaXBib2FyZCc7CmltcG9ydCBQb3BvdmVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Qb3BvdmVyL1BvcG92ZXInOwppbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gZnJvbSAnQHNyYy9saWIvZHJhZnQnOwppbXBvcnQgJy4vQ29udGFjdENhcmRQb3BvdmVyLnNjc3MnOwppbXBvcnQgeyBDb250YWN0VHlwZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgeyBSaWdodFNpZGViYXJUYWIsIFJpZ2h0U2lkZWJhclN1YlRhYiwgfSBmcm9tICdAc3JjL3R5cGVzL3JpZ2h0U2lkZWJhcic7CnZhciBQT1BPVkVSX1dJRFRIID0gMjQwOwp2YXIgQ29udGFjdENhcmRQb3BvdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKENvbnRhY3RDYXJkUG9wb3ZlciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIENvbnRhY3RDYXJkUG9wb3Zlcihwcm9wcykgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMubmFtZUNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmRKUygnI0NvbnRhY3RDYXJkUG9wb3Zlci1jb250YWN0TmFtZScpOwogICAgICAgIF90aGlzLmVtYWlsQ2xpcGJvYXJkID0gbmV3IENsaXBib2FyZEpTKCcjQ29udGFjdENhcmRQb3BvdmVyLWNvbnRhY3RFbWFpbCcpOwogICAgICAgIF90aGlzLnNob3cgPSBmdW5jdGlvbiAodG9wLCBsZWZ0KSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdG9wOiB0b3AsIGxlZnQ6IGxlZnQgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucG9wb3Zlci5zaG93KCk7IH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5oaWRlKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLnBvcG92ZXIgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5nZXRTaG93ID0gZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gKCEhX3RoaXMucHJvcHNba2V5XSk7IH07CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5nZXRUaXRsZSA9IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwKICAgICAgICAgICAgICAgICJDb3B5IFwiIiwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBfdGhpcy5wcm9wc1trZXldKSwKICAgICAgICAgICAgICAgICJcIiIpKTsgfTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmNvcHkgPSBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB9OwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvd1Byb2ZpbGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgc2VsZWN0Q29udGFjdCA9IF9hLnNlbGVjdENvbnRhY3QsIGNvbnRhY3RFbWFpbCA9IF9hLmNvbnRhY3RFbWFpbDsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBzZWxlY3RDb250YWN0KGNvbnRhY3RFbWFpbCk7CiAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvd05vdGVzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHNlbGVjdFJpZ2h0U2lkZWJhclRhYiA9IF90aGlzLnByb3BzLnNlbGVjdFJpZ2h0U2lkZWJhclRhYjsKICAgICAgICAgICAgX3RoaXMuc2hvd1Byb2ZpbGUoZSk7CiAgICAgICAgICAgIHNlbGVjdFJpZ2h0U2lkZWJhclRhYihSaWdodFNpZGViYXJUYWIuQ29udGFjdCwgUmlnaHRTaWRlYmFyU3ViVGFiLk5vdGUpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgY3JlYXRlRHJhZnQgPSBfYS5jcmVhdGVEcmFmdCwgY29udGFjdEVtYWlsID0gX2EuY29udGFjdEVtYWlsLCBjb250YWN0TmFtZSA9IF9hLmNvbnRhY3ROYW1lOwogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIC8vIENyZWF0ZXMgZHJhZnQKICAgICAgICAgICAgdmFyIGZ1bGxFbWFpbCA9IGNvbnRhY3ROYW1lICE9PSAnJwogICAgICAgICAgICAgICAgPyBjb250YWN0TmFtZSArICIgPCIgKyBjb250YWN0RW1haWwgKyAiPiIKICAgICAgICAgICAgICAgIDogY29udGFjdEVtYWlsOwogICAgICAgICAgICBjcmVhdGVEcmFmdChDb25maWd1cmF0aW9uLk1haWxUbywgW2Z1bGxFbWFpbF0pOwogICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLm9wdGlvbnMgPSBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6ICdjb250YWN0TmFtZScsCiAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMuZ2V0VGl0bGUoJ2NvbnRhY3ROYW1lJyksCiAgICAgICAgICAgICAgICBhY3Rpb246IF90aGlzLmNvcHkoJ0NvbnRhY3RDYXJkUG9wb3Zlci1jb250YWN0TmFtZScpLAogICAgICAgICAgICAgICAgc2hvdzogX3RoaXMuZ2V0U2hvdygnY29udGFjdE5hbWUnKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWRlbnRpZmllcjogJ2NvbnRhY3RFbWFpbCcsCiAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMuZ2V0VGl0bGUoJ2NvbnRhY3RFbWFpbCcpLAogICAgICAgICAgICAgICAgYWN0aW9uOiBfdGhpcy5jb3B5KCdDb250YWN0Q2FyZFBvcG92ZXItY29udGFjdEVtYWlsJyksCiAgICAgICAgICAgICAgICBzaG93OiBfdGhpcy5nZXRTaG93KCdjb250YWN0RW1haWwnKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGl0bGU6ICdTaG93IENvbnRhY3QgUHJvZmlsZScsCiAgICAgICAgICAgICAgICBhY3Rpb246IF90aGlzLnNob3dQcm9maWxlLAogICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGl0bGU6ICdTZW5kIE5ldyBNZXNzYWdlJywKICAgICAgICAgICAgICAgIGFjdGlvbjogX3RoaXMuc2VuZE1lc3NhZ2UsCiAgICAgICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICB9LAogICAgICAgIF07CiAgICAgICAgLy8gU2hvdyBsaW1pdGVkIHNldCB3aGVuIGFjdGlvbnMgc2hvdWxkIGJlIGhpZGRlbgogICAgICAgIGlmICghIXByb3BzLmhpZGVBY3Rpb25zKSB7CiAgICAgICAgICAgIF90aGlzLm9wdGlvbnMgPSBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogJ2NvbnRhY3ROYW1lJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMuZ2V0VGl0bGUoJ2NvbnRhY3ROYW1lJyksCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBfdGhpcy5jb3B5KCdDb250YWN0Q2FyZFBvcG92ZXItY29udGFjdE5hbWUnKSwKICAgICAgICAgICAgICAgICAgICBzaG93OiBfdGhpcy5nZXRTaG93KCdjb250YWN0TmFtZScpLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiAnY29udGFjdEVtYWlsJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMuZ2V0VGl0bGUoJ2NvbnRhY3RFbWFpbCcpLAogICAgICAgICAgICAgICAgICAgIGFjdGlvbjogX3RoaXMuY29weSgnQ29udGFjdENhcmRQb3BvdmVyLWNvbnRhY3RFbWFpbCcpLAogICAgICAgICAgICAgICAgICAgIHNob3c6IF90aGlzLmdldFNob3coJ2NvbnRhY3RFbWFpbCcpLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXTsKICAgICAgICB9CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7IHRvcDogMCwgbGVmdDogMCB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIENvbnRhY3RDYXJkUG9wb3Zlci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBjb250YWN0ID0gX2EuY29udGFjdCwgZ2V0Q29udGFjdCA9IF9hLmdldENvbnRhY3QsIGNvbnRhY3RFbWFpbCA9IF9hLmNvbnRhY3RFbWFpbDsKICAgICAgICBpZiAoY29udGFjdC50eXBlID09PSBDb250YWN0VHlwZS5EZWZhdWx0KSB7CiAgICAgICAgICAgIGdldENvbnRhY3QoY29udGFjdEVtYWlsKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5uYW1lQ2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZW1haWxDbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5oaWRlKCk7CiAgICAgICAgfSk7CiAgICB9OwogICAgQ29udGFjdENhcmRQb3BvdmVyLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICB2YXIgY29udGFjdCA9IG5leHRQcm9wcy5jb250YWN0LCBnZXRDb250YWN0ID0gbmV4dFByb3BzLmdldENvbnRhY3QsIGNvbnRhY3RFbWFpbCA9IG5leHRQcm9wcy5jb250YWN0RW1haWw7CiAgICAgICAgaWYgKGNvbnRhY3RFbWFpbCAhPT0gdGhpcy5wcm9wcy5jb250YWN0RW1haWwgJiYgY29udGFjdC50eXBlID09PSBDb250YWN0VHlwZS5EZWZhdWx0KSB7CiAgICAgICAgICAgIGdldENvbnRhY3QoY29udGFjdEVtYWlsKTsKICAgICAgICB9CiAgICB9OwogICAgQ29udGFjdENhcmRQb3BvdmVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLm5hbWVDbGlwYm9hcmQuZGVzdHJveSgpOwogICAgICAgIHRoaXMuZW1haWxDbGlwYm9hcmQuZGVzdHJveSgpOwogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgfTsKICAgIC8vIFRPRE8oU0hJTik6IE1vdmUgY2xpcGJvYXJkIGhhbmRsZXIgdG8gYnV0dG9uCiAgICBDb250YWN0Q2FyZFBvcG92ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNvbnRhY3RQaG90b1VybCA9IF9hLmNvbnRhY3RQaG90b1VybCwgY29udGFjdE5hbWUgPSBfYS5jb250YWN0TmFtZSwgY29udGFjdEVtYWlsID0gX2EuY29udGFjdEVtYWlsOwogICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIHRvcCA9IF9iLnRvcCwgbGVmdCA9IF9iLmxlZnQ7CiAgICAgICAgLy8gY29uc3Qgbm93ID0gbW9tZW50KCk7CiAgICAgICAgLy8gY29uc3QgdGltZXpvbmUgPSBtb21lbnQudHouZ3Vlc3MoKTsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wb3ZlciwgeyBjbGFzc05hbWU6ICJjb250YWN0LWNhcmQtcG9wb3ZlciIsIHN0eWxlOiB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0LCB3aWR0aDogUE9QT1ZFUl9XSURUSCB9LCByZWY6IHRoaXMuaGFuZGxlUmVmIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicGhvdG8iLCBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6ICJ1cmwoIiArIGNvbnRhY3RQaG90b1VybCArICIpIiB9IH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImdyYWRpZW50IiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImgzIiwgbnVsbCwgY29udGFjdE5hbWUpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg0IiwgbnVsbCwgY29udGFjdEVtYWlsKSkpLAogICAgICAgICAgICB0aGlzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24sIGluZGV4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBvcHRpb24uc2hvdyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9uLnNob3cgOiBvcHRpb24uc2hvdygpKSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJvcHRpb24iLCBvbkNsaWNrOiBvcHRpb24uYWN0aW9uLCBpZDogISFvcHRpb24uaWRlbnRpZmllciAmJiAiQ29udGFjdENhcmRQb3BvdmVyLSIgKyBvcHRpb24uaWRlbnRpZmllciB8fCB1bmRlZmluZWQsICJkYXRhLWNsaXBib2FyZC10ZXh0IjogISFvcHRpb24uaWRlbnRpZmllciAmJiBfdGhpcy5wcm9wc1tvcHRpb24uaWRlbnRpZmllcl0sIGtleTogb3B0aW9uLmlkZW50aWZpZXIgfHwgImNvbnRhY3Qtb3B0aW9uLSIgKyBpbmRleCB9LCB0eXBlb2Ygb3B0aW9uLnRpdGxlID09PSAnc3RyaW5nJyA/IG9wdGlvbi50aXRsZSA6IG9wdGlvbi50aXRsZSgpKSk7CiAgICAgICAgICAgIH0pKSk7CiAgICB9OwogICAgcmV0dXJuIENvbnRhY3RDYXJkUG9wb3ZlcjsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IENvbnRhY3RDYXJkUG9wb3ZlcjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ContactCardPopover/ContactCardPopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ContactCardPopover/ContactCardPopover.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n// import moment from 'moment-timezone';\nimport ClipboardJS from 'clipboard';\nimport Popover from '@src/components/Popover/Popover';\nimport { Configuration } from '@src/lib/draft';\nimport './ContactCardPopover.scss';\nimport { Contact, ContactType } from '@src/types';\nimport {\n  RightSidebarTab, RightSidebarSubTab,\n} from '@src/types/rightSidebar';\n\nexport interface Props {\n  contactName: string;\n  contactEmail: string;\n  contactPhotoUrl: string;\n  contact: Contact;\n\n  hideActions?: boolean;\n}\n\nexport interface DispatchProps {\n  selectContact: (email: string) => void;\n  createDraft: (configuration: Configuration, recipients: string[]) => void;\n  selectRightSidebarTab: (tab: RightSidebarTab, subTab: RightSidebarSubTab) => void;\n  getContact: (email: string) => void;\n}\n\ninterface State {\n  top: number;\n  left: number;\n}\n\ninterface Option {\n  title: any;\n  action: any;\n  show: any;\n  identifier?: string;\n}\n\nconst POPOVER_WIDTH = 240;\nclass ContactCardPopover extends React.PureComponent<Props & DispatchProps, State> {\n  private popover: Popover;\n  private options: Option[];\n  private timeout: NodeJS.Timer;\n\n  nameClipboard = new ClipboardJS('#ContactCardPopover-contactName');\n  emailClipboard = new ClipboardJS('#ContactCardPopover-contactEmail');\n\n  constructor(props: Props & DispatchProps) {\n    super();\n\n    this.options = [\n      {\n        identifier: 'contactName',\n        title: this.getTitle('contactName'),\n        action: this.copy('ContactCardPopover-contactName'),\n        show: this.getShow('contactName'),\n      },\n      {\n        identifier: 'contactEmail',\n        title: this.getTitle('contactEmail'),\n        action: this.copy('ContactCardPopover-contactEmail'),\n        show: this.getShow('contactEmail'),\n      },\n      {\n        title: 'Show Contact Profile',\n        action: this.showProfile,\n        show: true,\n      },\n      {\n        title: 'Send New Message',\n        action: this.sendMessage,\n        show: true,\n      },\n      // {\n      //   title: 'Notes',\n      //   action: this.showNotes,\n      //   show: true,\n      // },\n    ];\n\n    // Show limited set when actions should be hidden\n    if (!!props.hideActions) {\n      this.options = [\n        {\n          identifier: 'contactName',\n          title: this.getTitle('contactName'),\n          action: this.copy('ContactCardPopover-contactName'),\n          show: this.getShow('contactName'),\n        },\n        {\n          identifier: 'contactEmail',\n          title: this.getTitle('contactEmail'),\n          action: this.copy('ContactCardPopover-contactEmail'),\n          show: this.getShow('contactEmail'),\n        },\n      ];\n    }\n\n    this.state = { top: 0, left: 0 };\n  }\n\n  componentDidMount() {\n    const { contact, getContact, contactEmail } = this.props;\n\n    if (contact.type === ContactType.Default) {\n      getContact(contactEmail);\n    }\n\n    this.nameClipboard.on('success', (event) => {\n      this.popover.hide();\n    });\n\n    this.emailClipboard.on('success', (event) => {\n      this.popover.hide();\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props & DispatchProps) {\n    const { contact, getContact, contactEmail } = nextProps;\n\n    if (contactEmail !== this.props.contactEmail && contact.type === ContactType.Default) {\n      getContact(contactEmail);\n    }\n  }\n\n  componentWillUnmount() {\n    this.nameClipboard.destroy();\n    this.emailClipboard.destroy();\n    clearTimeout(this.timeout);\n  }\n\n  show = (top: number, left: number) => {\n    this.setState({ top, left }, () => this.popover.show());\n  }\n\n  hide = () => {\n    this.popover.hide();\n  }\n\n  handleRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  getShow = (key: string) => {\n    return () => (!!this.props[key]);\n  }\n\n  getTitle = (key: string) => {\n    return () => (\n      <span>\n        Copy \"\n        <span>\n          {this.props[key]}\n        </span>\n        \"\n      </span>\n    );\n  }\n\n  copy = (id: string) => {\n    return (e: React.SyntheticEvent<HTMLButtonElement>) => {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n  }\n\n  showProfile = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { selectContact, contactEmail } = this.props;\n\n    e.preventDefault();\n    e.stopPropagation();\n    selectContact(contactEmail);\n    this.popover.hide();\n  }\n\n  showNotes = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { selectRightSidebarTab } = this.props;\n\n    this.showProfile(e);\n    selectRightSidebarTab(RightSidebarTab.Contact, RightSidebarSubTab.Note);\n  }\n\n  sendMessage = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const { createDraft, contactEmail, contactName } = this.props;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Creates draft\n    const fullEmail = contactName !== ''\n      ? `${contactName} <${contactEmail}>`\n      : contactEmail;\n    createDraft(Configuration.MailTo, [fullEmail]);\n    this.popover.hide();\n  }\n\n  // TODO(SHIN): Move clipboard handler to button\n  render() {\n    const { contactPhotoUrl, contactName, contactEmail } = this.props;\n    const { top, left } = this.state;\n    // const now = moment();\n    // const timezone = moment.tz.guess();\n\n    return (\n      <Popover\n        className=\"contact-card-popover\"\n        style={{ top, left, width: POPOVER_WIDTH }}\n        ref={this.handleRef}\n      >\n        <div className=\"photo\" style={{ backgroundImage: `url(${contactPhotoUrl})` }}>\n          <div className=\"gradient\">\n            <h3>{contactName}</h3>\n            <h4>{contactEmail}</h4>\n          </div>\n        </div>\n        {/* <div className=\"time\">\n          {now.format('h:mm A [current time]')} ({moment.tz.zone(timezone).abbr(now.valueOf())})\n        </div> */}\n        {this.options.map((option, index) =>\n          (typeof option.show === 'boolean' ? option.show : option.show()) && (\n            <button className=\"option\"\n              onClick={option.action}\n              id={!!option.identifier && `ContactCardPopover-${option.identifier}` || undefined}\n              data-clipboard-text={!!option.identifier && this.props[option.identifier]}\n              key={option.identifier || `contact-option-${index}`}\n            >\n              {typeof option.title === 'string' ? option.title : option.title()}\n            </button>\n          ),\n        )}\n      </Popover>\n    );\n  }\n}\n\nexport default ContactCardPopover;\n"]}]}