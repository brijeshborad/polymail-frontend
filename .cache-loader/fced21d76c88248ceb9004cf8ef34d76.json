{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/SequenceSettings/SequenceSettings.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/SequenceSettings/SequenceSettings.tsx","mtime":1675280254087},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHsKICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7CiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkKICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdDsKICAgIH07CiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtdGltZXpvbmUnOwppbXBvcnQgeyBTZXF1ZW5jZVN0b3BDb25kaXRpb24gfSBmcm9tICdAc3JjL3R5cGVzL3NlcXVlbmNlcyc7CmltcG9ydCAnLi9TZXF1ZW5jZVNldHRpbmdzLnNjc3MnOwppbXBvcnQgQ2hlY2tib3ggZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gvQ2hlY2tib3gnOwppbXBvcnQgRHJvcGRvd24gZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vRHJvcGRvd24nOwppbXBvcnQgeyBjb25jYXQgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgQ29uZmlybSBmcm9tICdAc3JjL2NvbXBvbmVudHMvQmFzZS9Db25maXJtJzsKdmFyIFdFRUtEQVlTID0gWwogICAgeyBuYW1lOiAnTW9uJywgaW5kZXg6IDEgfSwKICAgIHsgbmFtZTogJ1R1ZXMnLCBpbmRleDogMiB9LAogICAgeyBuYW1lOiAnV2VkcycsIGluZGV4OiAzIH0sCiAgICB7IG5hbWU6ICdUaHVycycsIGluZGV4OiA0IH0sCiAgICB7IG5hbWU6ICdGcmknLCBpbmRleDogNSB9LAogICAgeyBuYW1lOiAnU2F0JywgaW5kZXg6IDYgfSwKICAgIHsgbmFtZTogJ1N1bicsIGluZGV4OiAwIH0sCl07CnZhciBTVE9QX0NPTkRJVElPTlMgPSBbU2VxdWVuY2VTdG9wQ29uZGl0aW9uLlJlcGx5LCBTZXF1ZW5jZVN0b3BDb25kaXRpb24uTm9uZV07CnZhciBTZXF1ZW5jZVNldHRpbmdzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFNlcXVlbmNlU2V0dGluZ3MsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBTZXF1ZW5jZVNldHRpbmdzKHByb3BzKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5nZXRUaW1lVmFsdWVzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc3RhcnQgPSBtb21lbnQoKS5zdGFydE9mKCdkYXknKTsKICAgICAgICAgICAgdmFyIGNvbXBhcmlzb24gPSBzdGFydC5jbG9uZSgpLmFkZCgyNCwgJ2hvdXJzJyk7CiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgICAgICAgICAgd2hpbGUgKHN0YXJ0LmlzQmVmb3JlKGNvbXBhcmlzb24pKSB7CiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChzdGFydC5jbG9uZSgpKTsKICAgICAgICAgICAgICAgIHN0YXJ0LmFkZCgxLCAnaG91cicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVEYXlDaGVja2JveENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB1cGRhdGVTZXF1ZW5jZSA9IF9hLnVwZGF0ZVNlcXVlbmNlLCBzZXF1ZW5jZSA9IF9hLnNlcXVlbmNlOwogICAgICAgICAgICB2YXIgZGF5ID0gZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC5uYW1lOwogICAgICAgICAgICB2YXIgZGF5T2JqID0gZGF5ICYmIFdFRUtEQVlTLmZpbmQoZnVuY3Rpb24gKHcpIHsgcmV0dXJuIHcubmFtZSA9PT0gZGF5OyB9KTsKICAgICAgICAgICAgaWYgKGRheU9iaiAmJiBzZXF1ZW5jZSAmJiBzZXF1ZW5jZS5kYXRhKSB7CiAgICAgICAgICAgICAgICB2YXIgaXNPbiA9IHNlcXVlbmNlLmRhdGEuZGF5c09mV2Vlay5pbmRleE9mKGRheU9iai5pbmRleCkgPj0gMDsKICAgICAgICAgICAgICAgIHVwZGF0ZVNlcXVlbmNlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzZXF1ZW5jZS5kYXRhKSwgeyBkYXlzT2ZXZWVrOiBpc09uID8KICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UuZGF0YS5kYXlzT2ZXZWVrLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZCAhPT0gZGF5T2JqLmluZGV4OyB9KSA6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmNhdChzZXF1ZW5jZS5kYXRhLmRheXNPZldlZWssIFtkYXlPYmouaW5kZXhdKSB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUxvd2VyQm91bmRTZWxlY3QgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB1cGRhdGVTZXF1ZW5jZSA9IF9hLnVwZGF0ZVNlcXVlbmNlLCBzZXF1ZW5jZSA9IF9hLnNlcXVlbmNlOwogICAgICAgICAgICB2YXIgbG93ZXJUaW1lVmFsdWVzID0gX3RoaXMuc3RhdGUubG93ZXJUaW1lVmFsdWVzOwogICAgICAgICAgICB2YXIgdGltZSA9IGxvd2VyVGltZVZhbHVlc1tpbmRleF07CiAgICAgICAgICAgIGlmIChzZXF1ZW5jZSAmJiBzZXF1ZW5jZS5kYXRhKSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3QWZ0ZXIgPSB0aW1lLmRpZmYobW9tZW50KCkuc3RhcnRPZignZGF5JyksICdzZWNvbmRzJyk7CiAgICAgICAgICAgICAgICB2YXIgYmVmb3JlU2Vjb25kc1NpbmNlTWlkbmlnaHQgPSBzZXF1ZW5jZS5kYXRhLmJlZm9yZVNlY29uZHNTaW5jZU1pZG5pZ2h0OwogICAgICAgICAgICAgICAgaWYgKG5ld0FmdGVyID4gYmVmb3JlU2Vjb25kc1NpbmNlTWlkbmlnaHQpIHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmVTZWNvbmRzU2luY2VNaWRuaWdodCA9ICg2MCAqIDYwICogMjQpIC0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVwZGF0ZVNlcXVlbmNlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzZXF1ZW5jZS5kYXRhKSwgeyBhZnRlclNlY29uZHNTaW5jZU1pZG5pZ2h0OiB0aW1lLmRpZmYobW9tZW50KCkuc3RhcnRPZignZGF5JyksICdzZWNvbmRzJyksIGJlZm9yZVNlY29uZHNTaW5jZU1pZG5pZ2h0OiBiZWZvcmVTZWNvbmRzU2luY2VNaWRuaWdodCB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVVwcGVyQm91bmRTZWxlY3QgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB1cGRhdGVTZXF1ZW5jZSA9IF9hLnVwZGF0ZVNlcXVlbmNlLCBzZXF1ZW5jZSA9IF9hLnNlcXVlbmNlOwogICAgICAgICAgICB2YXIgdXBwZXJUaW1lVmFsdWVzID0gX3RoaXMuc3RhdGUudXBwZXJUaW1lVmFsdWVzOwogICAgICAgICAgICB2YXIgdGltZSA9IHVwcGVyVGltZVZhbHVlc1tpbmRleF07CiAgICAgICAgICAgIGlmIChzZXF1ZW5jZSAmJiBzZXF1ZW5jZS5kYXRhKSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3QmVmb3JlID0gdGltZS5kaWZmKG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLCAnc2Vjb25kcycpIC0gMTsKICAgICAgICAgICAgICAgIHZhciBhZnRlclNlY29uZHNTaW5jZU1pZG5pZ2h0ID0gc2VxdWVuY2UuZGF0YS5hZnRlclNlY29uZHNTaW5jZU1pZG5pZ2h0OwogICAgICAgICAgICAgICAgaWYgKG5ld0JlZm9yZSA8IGFmdGVyU2Vjb25kc1NpbmNlTWlkbmlnaHQpIHsKICAgICAgICAgICAgICAgICAgICBhZnRlclNlY29uZHNTaW5jZU1pZG5pZ2h0ID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVwZGF0ZVNlcXVlbmNlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzZXF1ZW5jZS5kYXRhKSwgeyBiZWZvcmVTZWNvbmRzU2luY2VNaWRuaWdodDogbmV3QmVmb3JlID4gMCA/IG5ld0JlZm9yZSA6IG5ld0JlZm9yZSArICg2MCAqIDYwICogMjQpLCBhZnRlclNlY29uZHNTaW5jZU1pZG5pZ2h0OiBhZnRlclNlY29uZHNTaW5jZU1pZG5pZ2h0IH0pKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRGFpbHlNYXhTZWxlY3QgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB1cGRhdGVTZXF1ZW5jZSA9IF9hLnVwZGF0ZVNlcXVlbmNlLCBzZXF1ZW5jZSA9IF9hLnNlcXVlbmNlOwogICAgICAgICAgICB2YXIgZHJvcGRvd25SZXNldENvdW50ZXIgPSBfdGhpcy5zdGF0ZS5kcm9wZG93blJlc2V0Q291bnRlcjsKICAgICAgICAgICAgaWYgKHNlcXVlbmNlICYmIHNlcXVlbmNlLmRhdGEpIHsKICAgICAgICAgICAgICAgIHZhciBoYW5kbGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlICYmIHNlcXVlbmNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2VxdWVuY2UoX19hc3NpZ24oX19hc3NpZ24oe30sIHNlcXVlbmNlLmRhdGEpLCB7IGRhaWx5TGltaXQ6IHBhcnNlSW50KHZhbHVlLCAxMCkgfSkpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1Qcm9wczogdW5kZWZpbmVkIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQodmFsdWUsIDEwKSA+IHNlcXVlbmNlLmRhdGEuZGFpbHlMaW1pdCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJ1RoaXMgbWF5IGNhdXNlIHlvdSB0byBleGNlZWQgeW91ciBlbWFpbCBwcm92aWRlclwncyByYXRlIGxpbWl0cy4gJwogICAgICAgICAgICAgICAgICAgICAgICArICdQbGVhc2UgY2hlY2sgeW91ciBwcm92aWRlclwncyBkYWlseSBzZW5kIGxpbWl0cyBiZWZvcmUgcHJvY2VlZGluZy4nOwogICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93blJlc2V0SW5jcmVtZW50XzEgPSBkcm9wZG93blJlc2V0Q291bnRlciAmJiBkcm9wZG93blJlc2V0Q291bnRlci5kYWlseUxpbWl0ICYmCiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duUmVzZXRDb3VudGVyLmRhaWx5TGltaXQgKyAxIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpcm1Qcm9wcyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJbmNyZWFzZSBEYWlseSBTZW5kIExpbWl0JywKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUNvcHk6ICdDb25maXJtJywKICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQ29weTogJ0NhbmNlbCcsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogaGFuZGxlVXBkYXRlLAogICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybVByb3BzOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blJlc2V0Q291bnRlcjogX19hc3NpZ24oX19hc3NpZ24oe30sIF90aGlzLnN0YXRlLmRyb3Bkb3duUmVzZXRDb3VudGVyKSwgeyBkYWlseUxpbWl0OiBkcm9wZG93blJlc2V0SW5jcmVtZW50XzEgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9LAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb25maXJtUHJvcHM6IGNvbmZpcm1Qcm9wcyB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNlcXVlbmNlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzZXF1ZW5jZS5kYXRhKSwgeyBkYWlseUxpbWl0OiBwYXJzZUludCh2YWx1ZSwgMTApIH0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU2VuZGVyRW1haWxTZWxlY3QgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB1cGRhdGVTZXF1ZW5jZSA9IF9hLnVwZGF0ZVNlcXVlbmNlLCBzZXF1ZW5jZSA9IF9hLnNlcXVlbmNlLCBhY2NvdW50cyA9IF9hLmFjY291bnRzOwogICAgICAgICAgICBpZiAoc2VxdWVuY2UgJiYgc2VxdWVuY2UuZGF0YSAmJiBhY2NvdW50cyAmJiB2YWx1ZSAhPT0gc2VxdWVuY2UuZGF0YS5zZW5kZXJFbWFpbCkgewogICAgICAgICAgICAgICAgdXBkYXRlU2VxdWVuY2UoX19hc3NpZ24oX19hc3NpZ24oe30sIHNlcXVlbmNlLmRhdGEpLCB7IGFjY291bnQ6IGFjY291bnRzW2luZGV4XS5pZCB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVN0b3BDb25kaXRpb25TZWxlY3QgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB1cGRhdGVTZXF1ZW5jZSA9IF9hLnVwZGF0ZVNlcXVlbmNlLCBzZXF1ZW5jZSA9IF9hLnNlcXVlbmNlOwogICAgICAgICAgICBpZiAoc2VxdWVuY2UgJiYgc2VxdWVuY2UuZGF0YSkgewogICAgICAgICAgICAgICAgdXBkYXRlU2VxdWVuY2UoX19hc3NpZ24oX19hc3NpZ24oe30sIHNlcXVlbmNlLmRhdGEpLCB7IHN0b3BDb25kaXRpb246IFNUT1BfQ09ORElUSU9OU1tpbmRleF0gfSkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5sYWJlbEZvclN0b3BDb25kaXRpb24gPSBmdW5jdGlvbiAoY29uZGl0aW9uKSB7CiAgICAgICAgICAgIHN3aXRjaCAoY29uZGl0aW9uKSB7CiAgICAgICAgICAgICAgICBjYXNlIFNlcXVlbmNlU3RvcENvbmRpdGlvbi5Ob25lOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAnUmVjZWl2ZWQgYWxsIG1lc3NhZ2VzJzsKICAgICAgICAgICAgICAgIGNhc2UgU2VxdWVuY2VTdG9wQ29uZGl0aW9uLlJlcGx5OgogICAgICAgICAgICAgICAgICAgIHJldHVybiAnQWZ0ZXIgcmVzcG9uZGluZyB0byBhIG1lc3NhZ2UnOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1Vua25vd24nOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgbG93ZXJUaW1lVmFsdWVzOiBwcm9wcy5zZXF1ZW5jZSAmJiBwcm9wcy5zZXF1ZW5jZS5kYXRhID8KICAgICAgICAgICAgICAgIF90aGlzLmdldFRpbWVWYWx1ZXMoKSA6IFtdLAogICAgICAgICAgICB1cHBlclRpbWVWYWx1ZXM6IHByb3BzLnNlcXVlbmNlICYmIHByb3BzLnNlcXVlbmNlLmRhdGEgPwogICAgICAgICAgICAgICAgX3RoaXMuZ2V0VGltZVZhbHVlcygpIDogW10sCiAgICAgICAgICAgIGRyb3Bkb3duUmVzZXRDb3VudGVyOiB7fSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFNlcXVlbmNlU2V0dGluZ3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHNlcXVlbmNlID0gX2Euc2VxdWVuY2UsIGFjY291bnRzID0gX2EuYWNjb3VudHM7CiAgICAgICAgdmFyIF9iID0gdGhpcy5zdGF0ZSwgbG93ZXJUaW1lVmFsdWVzID0gX2IubG93ZXJUaW1lVmFsdWVzLCB1cHBlclRpbWVWYWx1ZXMgPSBfYi51cHBlclRpbWVWYWx1ZXMsIGNvbmZpcm1Qcm9wcyA9IF9iLmNvbmZpcm1Qcm9wcywgZHJvcGRvd25SZXNldENvdW50ZXIgPSBfYi5kcm9wZG93blJlc2V0Q291bnRlcjsKICAgICAgICB2YXIgbWF4VmFsdWVzID0gWycxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJ107CiAgICAgICAgaWYgKCFzZXF1ZW5jZSB8fCAhc2VxdWVuY2UuZGF0YSkgewogICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXF1ZW5jZS1zZXR0aW5ncyIgfSk7CiAgICAgICAgfQogICAgICAgIHZhciBfYyA9IHNlcXVlbmNlLmRhdGEsIGFmdGVyU2Vjb25kc1NpbmNlTWlkbmlnaHQgPSBfYy5hZnRlclNlY29uZHNTaW5jZU1pZG5pZ2h0LCBiZWZvcmVTZWNvbmRzU2luY2VNaWRuaWdodCA9IF9jLmJlZm9yZVNlY29uZHNTaW5jZU1pZG5pZ2h0LCB0aW1lWm9uZSA9IF9jLnRpbWVab25lOwogICAgICAgIHZhciB0aW1lem9uZU1vbWVudCA9IG1vbWVudC50eihbMjAxMiwgMF0sIHRpbWVab25lKTsKICAgICAgICB2YXIgbG93ZXJJbmRleCA9IGxvd2VyVGltZVZhbHVlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZGlmZihtb21lbnQoKS5zdGFydE9mKCdkYXknKSwgJ3NlY29uZHMnKSA9PT0gYWZ0ZXJTZWNvbmRzU2luY2VNaWRuaWdodDsgfSk7CiAgICAgICAgdmFyIHVwcGVySW5kZXggPSB1cHBlclRpbWVWYWx1ZXMuZmluZEluZGV4KGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHJldHVybiB0LmRpZmYobW9tZW50KCkuc3RhcnRPZignZGF5JyksICdzZWNvbmRzJykgPT09CiAgICAgICAgICAgICAgICAoYmVmb3JlU2Vjb25kc1NpbmNlTWlkbmlnaHQgKyAxKSAlICg2MCAqIDYwICogMjQpOwogICAgICAgIH0pOwogICAgICAgIHZhciBhY2NvdW50RW1haWxzID0gYWNjb3VudHMgPyBhY2NvdW50cy5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZW1haWw7IH0pIDogdW5kZWZpbmVkOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXF1ZW5jZS1zZXR0aW5ncyIgfSwKICAgICAgICAgICAgY29uZmlybVByb3BzICYmCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbmZpcm0sIF9fYXNzaWduKHt9LCBjb25maXJtUHJvcHMpKSwKICAgICAgICAgICAgYWNjb3VudEVtYWlscyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNlbmRlci1lbWFpbCIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlNlbmQgRnJvbSIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhY2NvdW50LWNob29zZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93biwgeyBpZDogInNlbmRlckVtYWlsLWRyb3Bkb3duIiwgdmFsdWVzOiBhY2NvdW50RW1haWxzLCBvblNlbGVjdDogdGhpcy5oYW5kbGVTZW5kZXJFbWFpbFNlbGVjdCwgc3RhcnRJbmRleDogYWNjb3VudEVtYWlscy5pbmRleE9mKHNlcXVlbmNlLmRhdGEuc2VuZGVyRW1haWwpIH0pKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2VuZC10aW1lcyIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIkRlbGl2ZXJ5IFdpbmRvdyIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzdWJ0aXRsZSIgfSwgIkNob29zZSBkYXlzIGFuZCB0aW1lcyB0aGF0IG1lc3NhZ2VzIGZyb20gdGhpcyBTZXF1ZW5jZSBzaG91bGQgYmUgZGVsaXZlcmVkLiIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3ZWVrZGF5cyIgfSwgV0VFS0RBWVMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJkYXkiLCBrZXk6IGQubmFtZSB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIHsgaW5wdXROYW1lOiBkLm5hbWUsIGNoZWNrZWQ6IHNlcXVlbmNlLmRhdGEuZGF5c09mV2Vlay5pbmRleE9mKGQuaW5kZXgpICE9PSAtMSwgb25DaGFuZ2U6IF90aGlzLmhhbmRsZURheUNoZWNrYm94Q2hhbmdlIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogImxhYmVsIiB9LCBkLm5hbWUpKSk7IH0pKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGltZXMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93biwgeyBpZDogImFmdGVyU2Vjb25kc1NpbmNlTWlkbmlnaHQtZHJvcGRvd24iLCB2YWx1ZXM6IGxvd2VyVGltZVZhbHVlcy5tYXAoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0uZm9ybWF0KCdoOm1tIGEnKTsgfSksIG9uU2VsZWN0OiB0aGlzLmhhbmRsZUxvd2VyQm91bmRTZWxlY3QsIHZhbHVlOiBsb3dlclRpbWVWYWx1ZXNbbG93ZXJJbmRleF0gJiYgbG93ZXJUaW1lVmFsdWVzW2xvd2VySW5kZXhdLmZvcm1hdCgnaDptbSBhJyksIHN0YXJ0SW5kZXg6IGxvd2VySW5kZXggfSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsICJ0byIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd24sIHsgaWQ6ICJiZWZvcmVTZWNvbmRzU2luY2VNaWRuaWdodC1kcm9wZG93biIsIHZhbHVlczogdXBwZXJUaW1lVmFsdWVzLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5mb3JtYXQoJ2g6bW0gYScpOyB9KSwgb25TZWxlY3Q6IHRoaXMuaGFuZGxlVXBwZXJCb3VuZFNlbGVjdCwgdmFsdWU6IHVwcGVyVGltZVZhbHVlc1t1cHBlckluZGV4XSAmJiB1cHBlclRpbWVWYWx1ZXNbdXBwZXJJbmRleF0uZm9ybWF0KCdoOm1tIGEnKSwgc3RhcnRJbmRleDogdXBwZXJJbmRleCB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LAogICAgICAgICAgICAgICAgICAgICJNZXNzYWdlcyB3aWxsIGJlIGRlbGlldmVyZWQgb24iLCAiICIgKyB0aW1lWm9uZSArICIgKEdNVCAiICsgdGltZXpvbmVNb21lbnQuZm9ybWF0KCdaJykgKyAiKSIsCiAgICAgICAgICAgICAgICAgICAgIi4iKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic3RvcC1jb25kaXRpb24iIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJTdG9wIENvbmRpdGlvbiIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzdWJ0aXRsZSIgfSwgIkNob29zZSBhIGNvbmRpdGlvbiBmb3IgeW91ciByZWNpcGllbnRzIHRvIGV4aXQgdGhlIHNlcXVlbmNlIGFuZCBzdG9wIHJlY2VpdmluZyBtZXNzYWdlcy4iKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic3RvcC1jb25kaXRpb24tYWN0aW9uLXNlY3Rpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93biwgeyBpZDogInN0b3Bjb25kaXRpb24tZHJvcGRvd24iLCB2YWx1ZXM6IFNUT1BfQ09ORElUSU9OUy5tYXAoZnVuY3Rpb24gKHNjKSB7IHJldHVybiBfdGhpcy5sYWJlbEZvclN0b3BDb25kaXRpb24oc2MpOyB9KSwgb25TZWxlY3Q6IHRoaXMuaGFuZGxlU3RvcENvbmRpdGlvblNlbGVjdCwgc3RhcnRJbmRleDogU1RPUF9DT05ESVRJT05TLmluZGV4T2YoKHNlcXVlbmNlLmRhdGEuc3RvcENvbmRpdGlvbikpIHx8IDAsIHJlc2V0Q291bnRlcjogZHJvcGRvd25SZXNldENvdW50ZXIgJiYgZHJvcGRvd25SZXNldENvdW50ZXIuc3RvcENvbmRpdGlvbiB9KSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRhaWx5LWVtYWlsIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCBudWxsLCAiRGFpbHkgU2VuZCBMaW1pdCIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzdWJ0aXRsZSIgfSwKICAgICAgICAgICAgICAgICAgICAiQ2hvb3NlIHRoZSBtYXhpbXVtIG51bWJlciBvZiBtZXNzYWdlcyB0aGF0IHNob3VsZCBiZSBzZW50IGZyb20gdGhpcyBTZXF1ZW5jZSBlYWNoIGRheS4iLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7IGhyZWY6ICJodHRwOi8vaGVscC5wb2x5bWFpbC5pby9nZW5lcmFsLXF1ZXN0aW9ucy93aGF0LWFyZS1lbWFpbC1wcm92aWRlci1yYXRlLWxpbWl0cyIsIHRhcmdldDogIl9ibGFuayIgfSwgIkxlYXJuIGFib3V0IHByb3ZpZGVyIHNlbmQgbGltaXRzIikpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJlbWFpbC1tYXhpbXVtIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd24sIHsgaWQ6ICJkYWlseUxpbWl0LWRyb3Bkb3duIiwgdmFsdWVzOiBtYXhWYWx1ZXMsIG9uU2VsZWN0OiB0aGlzLmhhbmRsZURhaWx5TWF4U2VsZWN0LCBzdGFydEluZGV4OiBtYXhWYWx1ZXMuaW5kZXhPZigoc2VxdWVuY2UuZGF0YS5kYWlseUxpbWl0IHx8IDUwMCkudG9TdHJpbmcoKSksIHJlc2V0Q291bnRlcjogZHJvcGRvd25SZXNldENvdW50ZXIgJiYgZHJvcGRvd25SZXNldENvdW50ZXIuZGFpbHlMaW1pdCB9KSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIm1lc3NhZ2VzIHBlciBkYXkiKSkpKSk7CiAgICB9OwogICAgcmV0dXJuIFNlcXVlbmNlU2V0dGluZ3M7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBTZXF1ZW5jZVNldHRpbmdzOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/SequenceSettings/SequenceSettings.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/SequenceSettings/SequenceSettings.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment-timezone';\nimport { Moment } from 'moment';\nimport { Resource, Account } from '@src/types';\nimport { Sequence, SequenceStopCondition } from '@src/types/sequences';\n\nimport './SequenceSettings.scss';\nimport Checkbox from '@src/components/Form/Checkbox/Checkbox';\nimport Dropdown from '@src/components/Form/Dropdown';\nimport { concat } from 'lodash';\nimport Confirm, { Props as ConfirmProps } from '@src/components/Base/Confirm';\nimport { RouteComponentProps } from 'react-router';\n\nexport interface StateProps {\n  sequence?: Resource<Sequence>;\n  accounts?: Account[];\n}\n\nexport interface DispatchProps {\n  updateSequence: (sequence: Sequence) => void;\n}\n\ninterface State {\n  lowerTimeValues: Moment[];\n  upperTimeValues: Moment[];\n  confirmProps?: ConfirmProps;\n  dropdownResetCounter: {\n    [dropdownKey: string]: number;\n  };\n}\n\nconst WEEKDAYS = [\n  { name: 'Mon', index: 1 },\n  { name: 'Tues', index: 2 },\n  { name: 'Weds', index: 3 },\n  { name: 'Thurs', index: 4 },\n  { name: 'Fri', index: 5 },\n  { name: 'Sat', index: 6 },\n  { name: 'Sun', index: 0 },\n];\n\nconst STOP_CONDITIONS = [SequenceStopCondition.Reply, SequenceStopCondition.None];\n\nclass SequenceSettings extends React.PureComponent<\n  StateProps & DispatchProps & RouteComponentProps<any>, State\n> {\n  constructor(props: StateProps & DispatchProps & RouteComponentProps<any>) {\n    super();\n\n    this.state = {\n      lowerTimeValues: props.sequence && props.sequence.data ?\n        this.getTimeValues() : [],\n      upperTimeValues: props.sequence && props.sequence.data ?\n        this.getTimeValues() : [],\n      dropdownResetCounter: {},\n    };\n  }\n\n  getTimeValues = () => {\n    const start = moment().startOf('day');\n    const comparison = start.clone().add(24, 'hours');\n    const values = [];\n\n    while (start.isBefore(comparison)) {\n      values.push(start.clone());\n      start.add(1, 'hour');\n    }\n\n    return values;\n  }\n\n  handleDayCheckboxChange = (e: React.SyntheticEvent<HTMLInputElement>) => {\n    const { updateSequence, sequence } = this.props;\n    const day = e && e.target && (e.target as any).name;\n    const dayObj = day && WEEKDAYS.find(w => w.name === day);\n\n    if (dayObj && sequence && sequence.data) {\n      const isOn = sequence.data.daysOfWeek.indexOf(dayObj.index) >= 0;\n      updateSequence({\n        ...sequence.data,\n        daysOfWeek: isOn ?\n          sequence.data.daysOfWeek.filter(d => d !== dayObj.index) :\n          concat(sequence.data.daysOfWeek, [dayObj.index]),\n      });\n    }\n  }\n\n  handleLowerBoundSelect = (value: string, index: number) => {\n    const { updateSequence, sequence } = this.props;\n    const { lowerTimeValues } = this.state;\n    const time = lowerTimeValues[index];\n\n    if (sequence && sequence.data) {\n      const newAfter = time.diff(moment().startOf('day'), 'seconds');\n      let beforeSecondsSinceMidnight = sequence.data.beforeSecondsSinceMidnight;\n\n      if (newAfter > beforeSecondsSinceMidnight) {\n        beforeSecondsSinceMidnight = (60 * 60 * 24) - 1;\n      }\n\n      updateSequence({\n        ...sequence.data,\n        afterSecondsSinceMidnight: time.diff(moment().startOf('day'), 'seconds'),\n        beforeSecondsSinceMidnight,\n      });\n    }\n  }\n\n  handleUpperBoundSelect = (value: string, index: number) => {\n    const { updateSequence, sequence } = this.props;\n    const { upperTimeValues } = this.state;\n    const time = upperTimeValues[index];\n\n    if (sequence && sequence.data) {\n      const newBefore = time.diff(moment().startOf('day'), 'seconds') - 1;\n      let afterSecondsSinceMidnight = sequence.data.afterSecondsSinceMidnight;\n\n      if (newBefore < afterSecondsSinceMidnight) {\n        afterSecondsSinceMidnight = 0;\n      }\n\n      updateSequence({\n        ...sequence.data,\n        beforeSecondsSinceMidnight: newBefore > 0 ? newBefore : newBefore + (60 * 60 * 24),\n        afterSecondsSinceMidnight,\n      });\n    }\n  }\n\n  handleDailyMaxSelect = (value: string, index: number) => {\n    const { updateSequence, sequence } = this.props;\n    const { dropdownResetCounter } = this.state;\n    if (sequence && sequence.data) {\n      const handleUpdate = () => {\n        if (sequence && sequence.data) {\n          updateSequence({\n            ...sequence.data,\n            dailyLimit: parseInt(value, 10),\n          });\n          this.setState({ confirmProps: undefined });\n        }\n      };\n\n      if (parseInt(value, 10) > sequence.data.dailyLimit) {\n        const message = 'This may cause you to exceed your email provider\\'s rate limits. '\n          + 'Please check your provider\\'s daily send limits before proceeding.';\n        const dropdownResetIncrement = dropdownResetCounter && dropdownResetCounter.dailyLimit &&\n          dropdownResetCounter.dailyLimit + 1 || 1;\n        const confirmProps: ConfirmProps = {\n          title: 'Increase Daily Send Limit',\n          message,\n          confirmCopy: 'Confirm',\n          cancelCopy: 'Cancel',\n          onConfirm: handleUpdate,\n          onCancel: () => this.setState({\n            confirmProps: undefined,\n            dropdownResetCounter: {\n              ...this.state.dropdownResetCounter,\n              dailyLimit: dropdownResetIncrement,\n            },\n          }),\n        };\n        this.setState({ confirmProps });\n      } else {\n        updateSequence({\n          ...sequence.data,\n          dailyLimit: parseInt(value, 10),\n        });\n      }\n    }\n  }\n\n  handleSenderEmailSelect = (value: string, index: number) => {\n    const { updateSequence, sequence, accounts } = this.props;\n\n    if (sequence && sequence.data && accounts && value !== sequence.data.senderEmail) {\n      updateSequence({\n        ...sequence.data,\n        account: accounts[index].id,\n      });\n    }\n  }\n\n  handleStopConditionSelect = (value: string, index: number) => {\n    const { updateSequence, sequence } = this.props;\n    if (sequence && sequence.data) {\n      updateSequence({\n        ...sequence.data,\n        stopCondition: STOP_CONDITIONS[index],\n      });\n    }\n  }\n\n  labelForStopCondition = (condition: SequenceStopCondition) => {\n    switch (condition) {\n      case SequenceStopCondition.None:\n        return 'Received all messages';\n      case SequenceStopCondition.Reply:\n        return 'After responding to a message';\n      default:\n        return 'Unknown';\n    }\n  }\n\n  render() {\n    const { sequence, accounts } = this.props;\n    const { lowerTimeValues, upperTimeValues, confirmProps, dropdownResetCounter } = this.state;\n    const maxValues = ['100', '200', '300', '400', '500'];\n\n    if (!sequence || !sequence.data) {\n      return <div className=\"sequence-settings\" />;\n    }\n    const { afterSecondsSinceMidnight, beforeSecondsSinceMidnight, timeZone } = sequence.data;\n    const timezoneMoment = moment.tz([2012, 0], timeZone);\n    const lowerIndex = lowerTimeValues.findIndex(\n      t => t.diff(moment().startOf('day'), 'seconds') === afterSecondsSinceMidnight,\n    );\n    const upperIndex = upperTimeValues.findIndex(\n      t =>\n        t.diff(moment().startOf('day'), 'seconds') ===\n        (beforeSecondsSinceMidnight + 1) % (60 * 60 * 24),\n    );\n\n    const accountEmails = accounts ? accounts.map(a => a.email) : undefined;\n\n    return (\n      <div className=\"sequence-settings\">\n        {confirmProps &&\n          <Confirm\n            {...confirmProps}\n          />\n        }\n        {accountEmails && <div className=\"sender-email\">\n          <h5>Send From</h5>\n          <div className=\"account-chooser\">\n            <Dropdown\n              id=\"senderEmail-dropdown\"\n              values={accountEmails}\n              onSelect={this.handleSenderEmailSelect}\n              startIndex={accountEmails.indexOf(sequence.data.senderEmail)}\n            />\n          </div>\n        </div>}\n        <div className=\"send-times\">\n          <h5>Delivery Window</h5>\n          <div className=\"subtitle\">\n            Choose days and times that messages from this Sequence should be delivered.\n          </div>\n          <div className=\"weekdays\">\n            {WEEKDAYS.map(d => (\n              <div className=\"day\" key={d.name}>\n                <Checkbox\n                  inputName={d.name}\n                  checked={sequence.data!.daysOfWeek.indexOf(d.index) !== -1}\n                  onChange={this.handleDayCheckboxChange}\n                />\n                <span className=\"label\">{d.name}</span>\n              </div>\n            ))}\n          </div>\n          <div className=\"times\">\n            <Dropdown\n              id=\"afterSecondsSinceMidnight-dropdown\"\n              values={lowerTimeValues.map(m => m.format('h:mm a'))}\n              onSelect={this.handleLowerBoundSelect}\n              value={lowerTimeValues[lowerIndex] && lowerTimeValues[lowerIndex].format('h:mm a')}\n              startIndex={lowerIndex}\n            />\n            <span>to</span>\n            <Dropdown\n              id=\"beforeSecondsSinceMidnight-dropdown\"\n              values={upperTimeValues.map(m => m.format('h:mm a'))}\n              onSelect={this.handleUpperBoundSelect}\n              value={upperTimeValues[upperIndex] && upperTimeValues[upperIndex].format('h:mm a')}\n              startIndex={upperIndex}\n            />\n          </div>\n          <div className=\"description\">\n            Messages will be delievered on\n            {` ${timeZone} (GMT ${timezoneMoment.format('Z')})`}.\n          </div>\n        </div>\n        <div className=\"stop-condition\">\n          <h5>Stop Condition</h5>\n          <div className=\"subtitle\">\n            Choose a condition for your recipients to exit the sequence and stop receiving messages.\n          </div>\n          <div className=\"stop-condition-action-section\">\n            <Dropdown\n              id=\"stopcondition-dropdown\"\n              values={STOP_CONDITIONS.map(sc => this.labelForStopCondition(sc))}\n              onSelect={this.handleStopConditionSelect}\n              startIndex={STOP_CONDITIONS.indexOf((sequence.data.stopCondition)) || 0}\n              resetCounter={dropdownResetCounter && dropdownResetCounter.stopCondition}\n            />\n          </div>\n        </div>\n        <div className=\"daily-email\">\n          <h5>Daily Send Limit</h5>\n          <div className=\"subtitle\">\n            Choose the maximum number of messages that should be sent from this Sequence each day.\n            <a\n              href=\"http://help.polymail.io/general-questions/what-are-email-provider-rate-limits\"\n              target=\"_blank\"\n            >\n              Learn about provider send limits\n            </a>\n          </div>\n          <div className=\"email-maximum\">\n            <Dropdown\n              id=\"dailyLimit-dropdown\"\n              values={maxValues}\n              onSelect={this.handleDailyMaxSelect}\n              startIndex={maxValues.indexOf((sequence.data.dailyLimit || 500).toString())}\n              resetCounter={dropdownResetCounter && dropdownResetCounter.dailyLimit}\n            />\n            <span>messages per day</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SequenceSettings;\n"]}]}