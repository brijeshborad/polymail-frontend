{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/devices.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/devices.ts","mtime":1675280253979},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBqc29uUmVxdWVzdCB9IGZyb20gJ0BzcmMvYXBpL2Jhc2UnOwppbXBvcnQgeyBhcHBseURldmljZURlZmF1bHRzIH0gZnJvbSAnQHNyYy9saWIvZGV2aWNlJzsKdmFyIERldmljZXNDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBEZXZpY2VzQ2xpZW50KCkgewogICAgfQogICAgRGV2aWNlc0NsaWVudC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIHJldHVybiBqc29uUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICByb3V0ZTogJy92MS9tZS9kZXZpY2VzJywKICAgICAgICAgICAgYm9keTogZGV2aWNlLAogICAgICAgIH0pCiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG5ld0RldmljZSkgeyByZXR1cm4gYXBwbHlEZXZpY2VEZWZhdWx0cyhuZXdEZXZpY2UpOyB9KTsKICAgIH07CiAgICBEZXZpY2VzQ2xpZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgcmV0dXJuIGpzb25SZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLAogICAgICAgICAgICByb3V0ZTogIi92MS9tZS9kZXZpY2VzLyIgKyBkZXZpY2UuaWQsCiAgICAgICAgICAgIGJvZHk6IGRldmljZSwKICAgICAgICB9KQogICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh1cGRhdGVkRGV2aWNlKSB7IHJldHVybiBhcHBseURldmljZURlZmF1bHRzKHVwZGF0ZWREZXZpY2UpOyB9KTsKICAgIH07CiAgICByZXR1cm4gRGV2aWNlc0NsaWVudDsKfSgpKTsKZXhwb3J0IHsgRGV2aWNlc0NsaWVudCB9OwpleHBvcnQgdmFyIG1vY2tEZXZpY2VzQ2xpZW50ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChkZXZpY2UpIHsgcmV0dXJuIE9ic2VydmFibGUub2YoYXBwbHlEZXZpY2VEZWZhdWx0cyhkZXZpY2UpKTsgfSwKICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIChkZXZpY2UpIHsgcmV0dXJuIE9ic2VydmFibGUub2YoYXBwbHlEZXZpY2VEZWZhdWx0cyhkZXZpY2UpKTsgfSwKICAgIH07Cn07Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/devices.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/devices.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,MAAM,CAAC;AAGlC,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAC5C,OAAO,EAAE,mBAAmB,EAAE,MAAM,iBAAiB,CAAC;AAOtD;IAAA;IAkBA,CAAC;IAjBC,8BAAM,GAAN,UAAO,MAAc;QACnB,OAAO,WAAW,CAAC;YACjB,MAAM,EAAE,MAAM;YACd,KAAK,EAAE,gBAAgB;YACvB,IAAI,EAAE,MAAM;SACb,CAAC;aACD,GAAG,CAAC,UAAC,SAAc,IAAK,OAAA,mBAAmB,CAAC,SAAS,CAAC,EAA9B,CAA8B,CAAC,CAAC;IAC3D,CAAC;IAED,8BAAM,GAAN,UAAO,MAAc;QACnB,OAAO,WAAW,CAAC;YACjB,MAAM,EAAE,OAAO;YACf,KAAK,EAAE,oBAAkB,MAAM,CAAC,EAAI;YACpC,IAAI,EAAE,MAAM;SACb,CAAC;aACD,GAAG,CAAC,UAAC,aAAkB,IAAK,OAAA,mBAAmB,CAAC,aAAa,CAAC,EAAlC,CAAkC,CAAC,CAAC;IACnE,CAAC;IACH,oBAAC;AAAD,CAAC,AAlBD,IAkBC;;AAED,MAAM,CAAC,IAAM,iBAAiB,GAAG;IAC/B,OAAO;QACL,MAAM,EAAE,UAAA,MAAM,IAAI,OAAA,UAAU,CAAC,EAAE,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,EAA1C,CAA0C;QAC5D,MAAM,EAAE,UAAA,MAAM,IAAI,OAAA,UAAU,CAAC,EAAE,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,EAA1C,CAA0C;KAC7D,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { Observable } from 'rxjs';\n\nimport { Device } from '@src/types';\nimport { jsonRequest } from '@src/api/base';\nimport { applyDeviceDefaults } from '@src/lib/device';\n\nexport interface DevicesAPI {\n  create: (device: Device) => Observable<Device>;\n  update: (device: Device) => Observable<Device>;\n}\n\nexport class DevicesClient implements DevicesAPI {\n  create(device: Device) {\n    return jsonRequest({\n      method: 'POST',\n      route: '/v1/me/devices',\n      body: device,\n    })\n    .map((newDevice: any) => applyDeviceDefaults(newDevice));\n  }\n\n  update(device: Device) {\n    return jsonRequest({\n      method: 'PATCH',\n      route: `/v1/me/devices/${device.id}`,\n      body: device,\n    })\n    .map((updatedDevice: any) => applyDeviceDefaults(updatedDevice));\n  }\n}\n\nexport const mockDevicesClient = (): DevicesAPI => {\n  return {\n    create: device => Observable.of(applyDeviceDefaults(device)),\n    update: device => Observable.of(applyDeviceDefaults(device)),\n  };\n};\n"]}]}