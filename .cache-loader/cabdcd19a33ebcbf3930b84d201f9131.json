{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/histories.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/histories.ts","mtime":1675280253980},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsganNvblJlcXVlc3QgfSBmcm9tICcuL2Jhc2UnOwppbXBvcnQgeyBhcHBseUhpc3RvcnlEZWZhdWx0cyB9IGZyb20gJ0BzcmMvbGliL2hpc3RvcnknOwp2YXIgSGlzdG9yeUNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEhpc3RvcnlDbGllbnQoKSB7CiAgICB9CiAgICBIaXN0b3J5Q2xpZW50LnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24gKHRvKSB7CiAgICAgICAgcmV0dXJuIGpzb25SZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgcm91dGU6IHRvID8gIi92My9oaXN0b3J5P3RvPSIgKyB0byA6ICcvdjMvaGlzdG9yeScsCiAgICAgICAgfSkKICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaGlzdG9yaWVzKSB7IHJldHVybiBoaXN0b3JpZXMubWFwKGZ1bmN0aW9uIChoaXN0b3J5KSB7IHJldHVybiBhcHBseUhpc3RvcnlEZWZhdWx0cyhoaXN0b3J5KTsgfSk7IH0pOwogICAgfTsKICAgIEhpc3RvcnlDbGllbnQucHJvdG90eXBlLmxpc3RCeVRlYW0gPSBmdW5jdGlvbiAodGVhbSwgdG8pIHsKICAgICAgICByZXR1cm4ganNvblJlcXVlc3QoewogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICByb3V0ZTogdG8gPyAiL3YzL2hpc3Rvcnk/dGVhbT0iICsgdGVhbSArICImdG89IiArIHRvIDogIi92My9oaXN0b3J5P3RlYW09IiArIHRlYW0sCiAgICAgICAgfSkKICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaGlzdG9yaWVzKSB7IHJldHVybiBoaXN0b3JpZXMubWFwKGZ1bmN0aW9uIChoaXN0b3J5KSB7IHJldHVybiBhcHBseUhpc3RvcnlEZWZhdWx0cyhoaXN0b3J5KTsgfSk7IH0pOwogICAgfTsKICAgIHJldHVybiBIaXN0b3J5Q2xpZW50Owp9KCkpOwpleHBvcnQgeyBIaXN0b3J5Q2xpZW50IH07Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/histories.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/histories.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAC;AACrC,OAAO,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAOxD;IAAA;IAgBA,CAAC;IAfC,4BAAI,GAAJ,UAAK,EAAW;QACd,OAAO,WAAW,CAAC;YACjB,MAAM,EAAE,KAAK;YACb,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,oBAAkB,EAAI,CAAC,CAAC,CAAC,aAAa;SACnD,CAAC;aACD,GAAG,CAAC,UAAC,SAAoB,IAAK,OAAA,SAAS,CAAC,GAAG,CAAC,UAAA,OAAO,IAAI,OAAA,oBAAoB,CAAC,OAAO,CAAC,EAA7B,CAA6B,CAAC,EAAvD,CAAuD,CAAC,CAAC;IAC1F,CAAC;IAED,kCAAU,GAAV,UAAW,IAAY,EAAE,EAAW;QAClC,OAAO,WAAW,CAAC;YACjB,MAAM,EAAE,KAAK;YACb,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,sBAAoB,IAAI,YAAO,EAAI,CAAC,CAAC,CAAC,sBAAoB,IAAM;SAC7E,CAAC;aACD,GAAG,CAAC,UAAC,SAAoB,IAAK,OAAA,SAAS,CAAC,GAAG,CAAC,UAAA,OAAO,IAAI,OAAA,oBAAoB,CAAC,OAAO,CAAC,EAA7B,CAA6B,CAAC,EAAvD,CAAuD,CAAC,CAAC;IAC1F,CAAC;IACH,oBAAC;AAAD,CAAC,AAhBD,IAgBC","sourcesContent":["import { Observable } from 'rxjs';\n\nimport { History } from '@src/types';\nimport { jsonRequest } from './base';\nimport { applyHistoryDefaults } from '@src/lib/history';\n\nexport interface HistoryAPI {\n  list(to?: string): Observable<History[]>;\n  listByTeam(team: string, to?: string): Observable<History[]>;\n}\n\nexport class HistoryClient implements HistoryAPI {\n  list(to?: string): Observable<History[]> {\n    return jsonRequest({\n      method: 'GET',\n      route: to ? `/v3/history?to=${to}` : '/v3/history',\n    })\n    .map((histories: History[]) => histories.map(history => applyHistoryDefaults(history)));\n  }\n\n  listByTeam(team: string, to?: string): Observable<History[]> {\n    return jsonRequest({\n      method: 'GET',\n      route: to ? `/v3/history?team=${team}&to=${to}` : `/v3/history?team=${team}`,\n    })\n    .map((histories: History[]) => histories.map(history => applyHistoryDefaults(history)));\n  }\n}\n"]}]}