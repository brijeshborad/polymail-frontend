{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/models/sequences.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/models/sequences.ts","mtime":1675280254067},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkgewogICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHsKICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKQogICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgfTsKICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9OwppbXBvcnQgeyBTZXF1ZW5jZVN0b3BDb25kaXRpb24gfSBmcm9tICdAc3JjL3R5cGVzL3NlcXVlbmNlcyc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LXRpbWV6b25lJzsKZXhwb3J0IHZhciBhcHBseVNlcXVlbmNlRGVmYXVsdHMgPSBmdW5jdGlvbiAoc2VxdWVuY2UpIHsKICAgIHZhciBjcmVhdGVkID0gc2VxdWVuY2UuY3JlYXRlZCA/IG5ldyBEYXRlKHNlcXVlbmNlLmNyZWF0ZWQpIDogbmV3IERhdGUoKTsKICAgIHZhciB1cGRhdGVkID0gc2VxdWVuY2UudXBkYXRlZCA/IG5ldyBEYXRlKHNlcXVlbmNlLnVwZGF0ZWQpIDogbmV3IERhdGUoKTsKICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc2VxdWVuY2UpLCB7IGNyZWF0ZWQ6IGNyZWF0ZWQsCiAgICAgICAgdXBkYXRlZDogdXBkYXRlZCB9KTsKfTsKZXhwb3J0IHZhciBjcmVhdGVEZWZhdWx0U2VxdWVuY2UgPSBmdW5jdGlvbiAoYWNjb3VudCwgdXNlcikgewogICAgcmV0dXJuIHsKICAgICAgICBpZDogJycsCiAgICAgICAgYWNjb3VudDogYWNjb3VudCwKICAgICAgICB1c2VyOiB1c2VyLAogICAgICAgIG5hbWU6ICdOZXcgU2VxdWVuY2UnLAogICAgICAgIHBhdXNlZDogdHJ1ZSwKICAgICAgICBoZWFkZXJzOiBbXSwKICAgICAgICBkdXJhdGlvbkRheXM6IDAsCiAgICAgICAgc3RhZ2VzOiAwLAogICAgICAgIHNlbmRlckVtYWlsOiAnJywKICAgICAgICBhcmNoaXZlZDogZmFsc2UsCiAgICAgICAgYWZ0ZXJTZWNvbmRzU2luY2VNaWRuaWdodDogNyAqIDYwICogNjAsCiAgICAgICAgYmVmb3JlU2Vjb25kc1NpbmNlTWlkbmlnaHQ6IDYwICogNjAgKiAxMiAtIDEsCiAgICAgICAgZGF5c09mV2VlazogWzEsIDIsIDMsIDQsIDVdLAogICAgICAgIHRpbWVab25lOiBtb21lbnQudHouZ3Vlc3MoKSwKICAgICAgICBkYWlseUxpbWl0OiAxMDAsCiAgICAgICAgc3RvcENvbmRpdGlvbjogU2VxdWVuY2VTdG9wQ29uZGl0aW9uLlJlcGx5LAogICAgICAgIHJlY2lwaWVudHM6IHsKICAgICAgICAgICAgYWN0aXZlOiAwLAogICAgICAgICAgICBjb21wbGV0ZWQ6IDAsCiAgICAgICAgICAgIHBhdXNlZDogMCwKICAgICAgICAgICAgYm91bmNlZDogMCwKICAgICAgICAgICAgZmFpbGVkOiAwLAogICAgICAgIH0sCiAgICAgICAgYW5hbHl0aWNzOiB7CiAgICAgICAgICAgIGRlbGl2ZXJlZDogMCwKICAgICAgICAgICAgZGVsaXZlcmVkVW5pcXVlOiAwLAogICAgICAgICAgICBvcGVuZWQ6IDAsCiAgICAgICAgICAgIGNsaWNrZWQ6IDAsCiAgICAgICAgICAgIGRvd25sb2FkZWQ6IDAsCiAgICAgICAgICAgIHJlcGxpZWQ6IDAsCiAgICAgICAgICAgIHVuc3Vic2NyaWJlZDogMCwKICAgICAgICB9LAogICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCksCiAgICAgICAgdXBkYXRlZDogbmV3IERhdGUoKSwKICAgIH07Cn07Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/models/sequences.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/models/sequences.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,OAAO,EAAY,qBAAqB,EAAE,MAAM,sBAAsB,CAAC;AACvE,OAAO,MAAM,MAAM,iBAAiB,CAAC;AAErC,MAAM,CAAC,IAAM,qBAAqB,GAAG,UAAC,QAAkB;IACtD,IAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;IAC3E,IAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;IAE3E,6BACK,QAAQ,KAEX,OAAO,SAAA;QACP,OAAO,SAAA,IACP;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,qBAAqB,GAAG,UAAC,OAAe,EAAE,IAAY;IACjE,OAAO;QACL,EAAE,EAAE,EAAE;QACN,OAAO,SAAA;QACP,IAAI,MAAA;QACJ,IAAI,EAAE,cAAc;QACpB,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,EAAE;QACX,YAAY,EAAE,CAAC;QACf,MAAM,EAAE,CAAC;QACT,WAAW,EAAE,EAAE;QAEf,QAAQ,EAAE,KAAK;QACf,yBAAyB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE;QACtC,0BAA0B,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QAC5C,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3B,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE;QAC3B,UAAU,EAAE,GAAG;QACf,aAAa,EAAE,qBAAqB,CAAC,KAAK;QAE1C,UAAU,EAAE;YACV,MAAM,EAAE,CAAC;YACT,SAAS,EAAE,CAAC;YACZ,MAAM,EAAE,CAAC;YACT,OAAO,EAAE,CAAC;YACV,MAAM,EAAE,CAAC;SACV;QAED,SAAS,EAAE;YACT,SAAS,EAAE,CAAC;YACZ,eAAe,EAAE,CAAC;YAClB,MAAM,EAAE,CAAC;YACT,OAAO,EAAE,CAAC;YACV,UAAU,EAAE,CAAC;YACb,OAAO,EAAE,CAAC;YACV,YAAY,EAAE,CAAC;SAChB;QAED,OAAO,EAAE,IAAI,IAAI,EAAE;QACnB,OAAO,EAAE,IAAI,IAAI,EAAE;KACpB,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { Sequence, SequenceStopCondition } from '@src/types/sequences';\nimport moment from 'moment-timezone';\n\nexport const applySequenceDefaults = (sequence: Sequence): Sequence => {\n  const created = sequence.created ? new Date(sequence.created) : new Date();\n  const updated = sequence.updated ? new Date(sequence.updated) : new Date();\n\n  return {\n    ...sequence,\n\n    created,\n    updated,\n  };\n};\n\nexport const createDefaultSequence = (account: string, user: string): Sequence => {\n  return {\n    id: '',\n    account,\n    user,\n    name: 'New Sequence',\n    paused: true,\n    headers: [],\n    durationDays: 0,\n    stages: 0,\n    senderEmail: '',\n\n    archived: false,\n    afterSecondsSinceMidnight: 7 * 60 * 60,\n    beforeSecondsSinceMidnight: 60 * 60 * 12 - 1,\n    daysOfWeek: [1, 2, 3, 4, 5],\n    timeZone: moment.tz.guess(),\n    dailyLimit: 100,\n    stopCondition: SequenceStopCondition.Reply,\n\n    recipients: {\n      active: 0,\n      completed: 0,\n      paused: 0,\n      bounced: 0,\n      failed: 0,\n    },\n\n    analytics: {\n      delivered: 0,\n      deliveredUnique: 0,\n      opened: 0,\n      clicked: 0,\n      downloaded: 0,\n      replied: 0,\n      unsubscribed: 0,\n    },\n\n    created: new Date(),\n    updated: new Date(),\n  };\n};\n"]}]}