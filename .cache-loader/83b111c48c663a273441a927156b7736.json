{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancellationFeedback/CancellationFeedback.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancellationFeedback/CancellationFeedback.tsx","mtime":1675280254097},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSAncmVhY3Qtcm91dGVyJzsKaW1wb3J0IE5hdmlnYXRpb25IZWFkZXIgZnJvbSAnQHNyYy9yb3V0ZXMvU2V0dGluZ3MvY29tcG9uZW50cy9OYXZpZ2F0aW9uSGVhZGVyJzsKaW1wb3J0IExvYWRpbmdFcnJvclN0YXRlIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL3JvdXRlcy9CaWxsaW5nL2NvbXBvbmVudHMvTG9hZGluZ0Vycm9yU3RhdGUnOwppbXBvcnQgJy4vQ2FuY2VsbGF0aW9uRmVlZGJhY2suc2Nzcyc7CmltcG9ydCBMb2FkZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL0xvYWRlci9Mb2FkZXInOwovLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoCmltcG9ydCBCaWxsaW5nU3RhdHVzQmFubmVyIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL3JvdXRlcy9CaWxsaW5nL2NvbXBvbmVudHMvQmlsbGluZ1N0YXR1c0Jhbm5lcic7CnZhciBDYW5jZWxsYXRpb25GZWVkYmFjayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhDYW5jZWxsYXRpb25GZWVkYmFjaywgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIENhbmNlbGxhdGlvbkZlZWRiYWNrKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlUmFkaW9TZWxlY3QgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkT3B0aW9uOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVUZXh0QXJlYVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMudGV4dEFyZWEgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTdWJtaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IF90aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uOwogICAgICAgICAgICB2YXIgbG9uZ0Zvcm1GZWVkYmFjayA9IF90aGlzLnRleHRBcmVhLnZhbHVlOwogICAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24pIHsKICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLmNhbmNlbGxhdGlvbkZlZWRiYWNrU3VibWl0KHsKICAgICAgICAgICAgICAgICAgICByZWFzb246IHNlbGVjdGVkT3B0aW9uLAogICAgICAgICAgICAgICAgICAgIGZlZWRiYWNrOiBsb25nRm9ybUZlZWRiYWNrLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0ge307CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgQ2FuY2VsbGF0aW9uRmVlZGJhY2sucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBsb2FkaW5nID0gX2EubG9hZGluZywgbG9hZGluZ0Vycm9yID0gX2EubG9hZGluZ0Vycm9yLCBpc0FkbWluID0gX2EuaXNBZG1pbiwgYWN0aXZlU3Vic2NyaXB0aW9uID0gX2EuYWN0aXZlU3Vic2NyaXB0aW9uLCBzdWJzY3JpcHRpb24gPSBfYS5zdWJzY3JpcHRpb24sIHVwZGF0aW5nID0gX2EudXBkYXRpbmcsIHRyaWFsRXhwaXJlcyA9IF9hLnRyaWFsRXhwaXJlcywgdHJpYWxQbGFuID0gX2EudHJpYWxQbGFuOwogICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb247CiAgICAgICAgaWYgKGxvYWRpbmcgfHwgbG9hZGluZ0Vycm9yIHx8ICFpc0FkbWluKSB7CiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nRXJyb3JTdGF0ZSwgeyBsb2FkaW5nOiBsb2FkaW5nLCBsb2FkaW5nRXJyb3I6IGxvYWRpbmdFcnJvciwgcmVxdWlyZUFkbWluOiAhaXNBZG1pbiB9KSk7CiAgICAgICAgfQogICAgICAgIGlmIChhY3RpdmVTdWJzY3JpcHRpb24pIHsKICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHsgdG86ICIvc2V0dGluZ3MvYmlsbGluZyIgfSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXR0aW5ncy1wYW5lbCBwcmVmZXJlbmNlcy10ZWFtIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25IZWFkZXIsIHsgdGl0bGU6ICJQbGFucyAmIEJpbGxpbmciIH0pLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNhbmNlbGxhdGlvbi1mZWVkYmFjayIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmlsbGluZ1N0YXR1c0Jhbm5lciwgeyBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiwgdHJpYWxFeHBpcmVzOiB0cmlhbEV4cGlyZXMsIHRyaWFsUGxhbjogdHJpYWxQbGFuLCBpc0FkbWluOiBpc0FkbWluIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgIldlJ3JlIHNvcnJ5IHRvIHNlZSB5b3UgZ28hIiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCAiSWYgeW91IGhhdmUgYSBzZWNvbmQgdG8gZ2l2ZSB1cyB5b3VyIGZlZWRiYWNrLCB3ZSdkIHJlYWxseSBhcHByZWNpYXRlIGl0ISIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmZWVkYmFjay1kZXNjcmlwdGlvbiIgfSwgIlByaW1hcnkgcmVhc29uIGZvciBjYW5jZWxsaW5nIiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInByaW1hcnktcmVhc29uLW9wdGlvbnMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGFiZWwiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIHR5cGU6ICJyYWRpbyIsIG5hbWU6ICJvcHRpb24iLCB2YWx1ZTogImZlYXR1cmUiLCBjaGVja2VkOiBzZWxlY3RlZE9wdGlvbiA9PT0gJ2ZlYXR1cmUnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVSYWRpb1NlbGVjdCB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgIkEgZmVhdHVyZSBJIG5lZWRlZCB3YXMgbWlzc2luZyIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxhYmVsIiwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7IGRpcjogImF1dG8iLCB0eXBlOiAicmFkaW8iLCBuYW1lOiAib3B0aW9uIiwgdmFsdWU6ICJidWdzIiwgY2hlY2tlZDogc2VsZWN0ZWRPcHRpb24gPT09ICdidWdzJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlUmFkaW9TZWxlY3QgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICJCdWdzIC8gcGVyZm9ybWFuY2UgaXNzdWVzIiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGFiZWwiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIHR5cGU6ICJyYWRpbyIsIG5hbWU6ICJvcHRpb24iLCB2YWx1ZTogInByaWNlIiwgY2hlY2tlZDogc2VsZWN0ZWRPcHRpb24gPT09ICdwcmljZScsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVJhZGlvU2VsZWN0IH0pLAogICAgICAgICAgICAgICAgICAgICAgICAiVG9vIGV4cGVuc2l2ZSIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxhYmVsIiwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7IGRpcjogImF1dG8iLCB0eXBlOiAicmFkaW8iLCBuYW1lOiAib3B0aW9uIiwgdmFsdWU6ICJ1bm5lZWRlZCIsIGNoZWNrZWQ6IHNlbGVjdGVkT3B0aW9uID09PSAndW5uZWVkZWQnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVSYWRpb1NlbGVjdCB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgIkRvbid0IG5lZWQgUG9seW1haWwgcmlnaHQgbm93IiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGFiZWwiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIHR5cGU6ICJyYWRpbyIsIG5hbWU6ICJvcHRpb24iLCB2YWx1ZTogIm90aGVyIiwgY2hlY2tlZDogc2VsZWN0ZWRPcHRpb24gPT09ICdvdGhlcicsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVJhZGlvU2VsZWN0IH0pLAogICAgICAgICAgICAgICAgICAgICAgICAiT3RoZXIgcmVhc29ucyIpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmVlZGJhY2stZGVzY3JpcHRpb24iIH0sICJEbyB5b3UgaGF2ZSBhbnkgb3RoZXIgZmVlZGJhY2sgb24gaG93IHdlIGNhbiBpbXByb3ZlPyIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiLCB7IHJlZjogdGhpcy5oYW5kbGVUZXh0QXJlYVJlZiB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY2FuY2VsLW9wdGlvbnMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBkaXNhYmxlZDogdXBkYXRpbmcsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU3VibWl0LCBjbGFzc05hbWU6ICJzdWJtaXQtYnV0dG9uIiB9LCB1cGRhdGluZyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGVyLCBudWxsKSA6ICdTdWJtaXQgRmVlZGJhY2snKSkpKSk7CiAgICB9OwogICAgcmV0dXJuIENhbmNlbGxhdGlvbkZlZWRiYWNrOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQ2FuY2VsbGF0aW9uRmVlZGJhY2s7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancellationFeedback/CancellationFeedback.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/CancellationFeedback/CancellationFeedback.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\n\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport { BillingCancellationFeedbackBody } from '@src/api/billing';\nimport LoadingErrorState from '@src/routes/Settings/routes/Billing/components/LoadingErrorState';\n\nimport './CancellationFeedback.scss';\n\nimport Loader from '@src/components/Loader/Loader';\n// tslint:disable-next-line:max-line-length\nimport BillingStatusBanner from '@src/routes/Settings/routes/Billing/components/BillingStatusBanner';\nimport { BillingSubscription } from '@src/types/billing';\nimport { TeamPlan } from '@src/types';\n\nexport interface Props {\n  loading: boolean;\n  loadingError: boolean;\n  activeSubscription: boolean;\n  subscription?: BillingSubscription;\n  trialExpires?: Date;\n  trialPlan?: TeamPlan;\n  isAdmin: boolean;\n  updating: boolean;\n}\n\nexport interface DispatchProps {\n  cancellationFeedbackSubmit(feedback: BillingCancellationFeedbackBody): void;\n}\n\ninterface State {\n  selectedOption?: string;\n}\n\nclass CancellationFeedback extends React.PureComponent<Props & DispatchProps, State> {\n  textArea: HTMLTextAreaElement;\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  handleRadioSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ selectedOption: e.currentTarget.value });\n  }\n\n  handleTextAreaRef = (ref: HTMLTextAreaElement) => {\n    this.textArea = ref;\n  }\n\n  handleSubmit = () => {\n    const { selectedOption } = this.state;\n    const longFormFeedback = this.textArea.value;\n\n    if (selectedOption) {\n      this.props.cancellationFeedbackSubmit({\n        reason: selectedOption,\n        feedback: longFormFeedback,\n      });\n    }\n  }\n\n  render() {\n    const {\n      loading, loadingError, isAdmin, activeSubscription,\n      subscription, updating, trialExpires, trialPlan,\n    } = this.props;\n    const { selectedOption } = this.state;\n\n    if (loading || loadingError || !isAdmin) {\n      return (\n        <LoadingErrorState loading={loading} loadingError={loadingError} requireAdmin={!isAdmin} />\n      );\n    }\n\n    if (activeSubscription) {\n      return <Redirect to=\"/settings/billing\" />;\n    }\n\n    return (\n      <div className=\"settings-panel preferences-team\">\n        <NavigationHeader\n          title=\"Plans & Billing\"\n        />\n        <div className=\"cancellation-feedback\">\n          <BillingStatusBanner\n            subscription={subscription}\n            trialExpires={trialExpires}\n            trialPlan={trialPlan}\n            isAdmin={isAdmin}\n          />\n          <div className=\"title\">\n            We're sorry to see you go!\n          </div>\n          <div className=\"description\">\n            If you have a second to give us your feedback, we'd really appreciate it!\n          </div>\n          <div className=\"feedback-description\">\n            Primary reason for cancelling\n          </div>\n          <div className=\"primary-reason-options\">\n            <label>\n              <input\n                dir=\"auto\"\n                type=\"radio\"\n                name=\"option\"\n                value=\"feature\"\n                checked={selectedOption === 'feature'}\n                onChange={this.handleRadioSelect}\n              />\n              A feature I needed was missing\n            </label>\n            <label>\n              <input\n                dir=\"auto\"\n                type=\"radio\"\n                name=\"option\"\n                value=\"bugs\"\n                checked={selectedOption === 'bugs'}\n                onChange={this.handleRadioSelect}\n              />\n              Bugs / performance issues\n            </label>\n            <label>\n              <input\n                dir=\"auto\"\n                type=\"radio\"\n                name=\"option\"\n                value=\"price\"\n                checked={selectedOption === 'price'}\n                onChange={this.handleRadioSelect}\n              />\n              Too expensive\n            </label>\n            <label>\n              <input\n                dir=\"auto\"\n                type=\"radio\"\n                name=\"option\"\n                value=\"unneeded\"\n                checked={selectedOption === 'unneeded'}\n                onChange={this.handleRadioSelect}\n              />\n              Don't need Polymail right now\n            </label>\n            <label>\n              <input\n                dir=\"auto\"\n                type=\"radio\"\n                name=\"option\"\n                value=\"other\"\n                checked={selectedOption === 'other'}\n                onChange={this.handleRadioSelect}\n              />\n              Other reasons\n            </label>\n          </div>\n          <div className=\"feedback-description\">\n            Do you have any other feedback on how we can improve?\n          </div>\n          <textarea ref={this.handleTextAreaRef} />\n          <div className=\"cancel-options\">\n            <button\n              disabled={updating}\n              onClick={this.handleSubmit}\n              className=\"submit-button\"\n            >\n              {updating ? <Loader /> : 'Submit Feedback'}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CancellationFeedback;\n"]}]}