{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/StageCell/StageCell.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/StageCell/StageCell.tsx","mtime":1675280254088},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHsKICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7CiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkKICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdDsKICAgIH07CiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7CmltcG9ydCAnLi9TdGFnZUNlbGwuc2Nzcyc7CmltcG9ydCBDaGVja2JveCBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9DaGVja2JveC9DaGVja2JveCc7CmltcG9ydCBEcm9wZG93biBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9Ecm9wZG93bic7CmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgZXh0cmFjdFRleHQgfSBmcm9tICdAc3JjL2xpYi9odG1sJzsKdmFyIFN0YWdlQ2VsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhTdGFnZUNlbGwsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBTdGFnZUNlbGwoKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVDaGVja1RvZ2dsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uQ2hlY2tib3hDaGFuZ2UgPSBfYS5vbkNoZWNrYm94Q2hhbmdlLCBzdGFnZSA9IF9hLnN0YWdlOwogICAgICAgICAgICBvbkNoZWNrYm94Q2hhbmdlKHN0YWdlLmlkKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUludGVydmFsRGF5Q2xpY2sgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBzdGFnZSA9IF9hLnN0YWdlLCB1cGRhdGVTdGFnZSA9IF9hLnVwZGF0ZVN0YWdlOwogICAgICAgICAgICB2YXIgaW50ZXJ2YWxEYXlzTGF0ZXIgPSBpbmRleCArIDE7CiAgICAgICAgICAgIHZhciB1cGRhdGVkU3RhZ2UgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhZ2UpLCB7IGludGVydmFsRGF5czogaW50ZXJ2YWxEYXlzTGF0ZXIgfSk7CiAgICAgICAgICAgIHVwZGF0ZVN0YWdlKHVwZGF0ZWRTdGFnZSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5pbnRlcnZhbERheVZhbHVlcyA9IFtdOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzA7IGkgKz0gMSkgewogICAgICAgICAgICBfdGhpcy5pbnRlcnZhbERheVZhbHVlcy5wdXNoKGkgKyAxICsgIiBkYXlzIGxhdGVyIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFN0YWdlQ2VsbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgaW5zdGFuY2VzID0gX2EuaW5zdGFuY2VzLCBmZXRjaEluc3RhbmNlcyA9IF9hLmZldGNoSW5zdGFuY2VzLCBzdGFnZSA9IF9hLnN0YWdlOwogICAgICAgIC8vIFRPRE8oU0hJTik6IERldGVybWluZSB3YXkgdG8KICAgICAgICAvLyBpZGVudGlmeSB3aGVuIHRvIGZldGNoIHNlcXVlbmNlIHN0YWdlIGluc3RhbmNlIGFmdGVyIHN0YWdlIGhhcyBiZWVuIGNyZWF0ZWQKICAgICAgICBpZiAoIWluc3RhbmNlcy5sZW5ndGgpIHsKICAgICAgICAgICAgZmV0Y2hJbnN0YW5jZXMoc3RhZ2UpOwogICAgICAgIH0KICAgIH07CiAgICBTdGFnZUNlbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHN0YWdlID0gX2Euc3RhZ2UsIGluc3RhbmNlcyA9IF9hLmluc3RhbmNlcywgY2hlY2tlZCA9IF9hLmNoZWNrZWQsIGluZGV4ID0gX2EuaW5kZXgsIHJlYWRPbmx5ID0gX2EucmVhZE9ubHk7CiAgICAgICAgdmFyIF9iID0gc3RhZ2UuYW5hbHl0aWNzLCBkZWxpdmVyZWQgPSBfYi5kZWxpdmVyZWQsIG9wZW5lZCA9IF9iLm9wZW5lZCwgY2xpY2tlZCA9IF9iLmNsaWNrZWQsIHJlcGxpZWQgPSBfYi5yZXBsaWVkOwogICAgICAgIHZhciByZWNpcGllbnRzQW5hbHl0aWNzID0gWwogICAgICAgICAgICB7IG5hbWU6ICdTY2hlZHVsZWQnLCB2YWx1ZTogJ3NjaGVkdWxlZCcgfSwKICAgICAgICBdOwogICAgICAgIC8vIGlmICghaW5zdGFuY2VzLmxlbmd0aCkgewogICAgICAgIC8vICAgcmV0dXJuIDxkaXYgLz47CiAgICAgICAgLy8gfQogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzdGFnZS1jZWxsIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImhlYWRpbmciIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIlN0YWdlICIgKyBpbmRleCksCiAgICAgICAgICAgICAgICBpbmRleCAhPT0gMSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJuZXctdGhyZWFkIiB9LCAiLSAiICsgKHN0YWdlLm5ld1RocmVhZCA/ICduZXcgdGhyZWFkIHNlbnQnIDogJ3JlcGx5IHNlbnQnKSksCiAgICAgICAgICAgICAgICBpbmRleCAhPT0gMSAmJiAhcmVhZE9ubHkgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93biwgeyBvblNlbGVjdDogdGhpcy5oYW5kbGVJbnRlcnZhbERheUNsaWNrLCB2YWx1ZXM6IHRoaXMuaW50ZXJ2YWxEYXlWYWx1ZXMsIHN0YXJ0SW5kZXg6IHN0YWdlLmludGVydmFsRGF5cyAtIDEgfSksCiAgICAgICAgICAgICAgICBpbmRleCAhPT0gMSAmJiAhIXJlYWRPbmx5ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogImludGVydmFsIiB9LCAiICIgKyBzdGFnZS5pbnRlcnZhbERheXMgKyAiIGRheXMgbGF0ZXIiKSksCiAgICAgICAgICAgIGluc3RhbmNlcy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuZGF0YSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjZWxsIiwga2V5OiBpLmRhdGEuaWQgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY2hlY2tlZCIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrYm94LCB7IG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVDaGVja1RvZ2dsZSwgY2hlY2tlZDogY2hlY2tlZCB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHsgdG86ICIvc2VxdWVuY2VzLyIgKyBzdGFnZS5zZXF1ZW5jZSArICIvc3RhZ2VzLyIgKyBzdGFnZS5pZCwgY2xhc3NOYW1lOiAibGluayIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIndyYXBwZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGV4dC1kZXRhaWxzIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDIiLCBudWxsLCBzdGFnZS5uZXdUaHJlYWQgPwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuZGF0YS5zdWJqZWN0IHx8ICcoTm8gc3ViamVjdCknIDogIlJlcGx5IHRvIFN0YWdlICIgKyAoc3RhZ2Uub3JkZXIgLSAxKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNCIsIG51bGwsIGkuZGF0YS5ib2R5ID8gZXh0cmFjdFRleHQoaS5kYXRhLmJvZHksIGkuZGF0YS5ib2R5Lmxlbmd0aCkgOiAnKE5vIGJvZHkpJykpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInJlY2lwaWVudC1hbmFseXRpY3MiIH0sIHJlY2lwaWVudHNBbmFseXRpY3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuICEhc3RhZ2UucmVjaXBpZW50c1tyLnZhbHVlXTsgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogY2xhc3NuYW1lcygncmVjaXBpZW50cy1hbmFseXRpYycsIHIudmFsdWUpLCBrZXk6IHIudmFsdWUgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogIm51bWJlciIgfSwgc3RhZ2UucmVjaXBpZW50c1tyLnZhbHVlXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgci5uYW1lKSkpOyB9KSksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic3RhZ2UtYW5hbHl0aWNzIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgISFkZWxpdmVyZWQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhbmFseXRpYyBkZWxpdmVyZWQtY29udGFpbmVyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg0IiwgbnVsbCwgZGVsaXZlcmVkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJEZWxpdmVyZWQiKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImFuYWx5dGljIG9wZW5lZC1jb250YWluZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDQiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKChkZWxpdmVyZWQgPyAob3BlbmVkIC8gZGVsaXZlcmVkIHx8IDApIDogMCkgKiAxMDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiJSIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIk9wZW5lZCIpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYW5hbHl0aWMgY2xpY2tlZC1jb250YWluZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDQiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKChkZWxpdmVyZWQgPyAoY2xpY2tlZCAvIGRlbGl2ZXJlZCB8fCAwKSA6IDApICogMTAwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiUiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJDbGlja2VkIikpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhbmFseXRpYyByZXBsaWVkLWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNCIsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKGRlbGl2ZXJlZCA/IChyZXBsaWVkIC8gZGVsaXZlcmVkIHx8IDApIDogMCkgKiAxMDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiJSIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlJlcGxpZWQiKSkpKSkpKTsgfSkpKTsKICAgIH07CiAgICByZXR1cm4gU3RhZ2VDZWxsOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgU3RhZ2VDZWxsOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/StageCell/StageCell.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/StageList/StageCell/StageCell.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport { Resource } from '@src/types';\nimport { SequenceStage, SequenceStageInstance } from '@src/types/sequences';\n\nimport './StageCell.scss';\nimport Checkbox from '@src/components/Form/Checkbox/Checkbox';\nimport Dropdown from '@src/components/Form/Dropdown';\nimport { Link } from 'react-router-dom';\nimport { extractText } from '@src/lib/html';\n\nexport interface Props {\n  stage: SequenceStage;\n  onCheckboxChange: (id: string) => void;\n  checked: boolean;\n  index: number;\n  readOnly?: boolean;\n}\n\nexport interface DispatchProps {\n  fetchInstances: (stage: SequenceStage) => void;\n  updateStage: (stage: SequenceStage) => void;\n}\n\nexport interface StateProps {\n  instances: Array<Resource<SequenceStageInstance>>;\n}\n\nclass StageCell extends React.PureComponent<StateProps & DispatchProps & Props> {\n  private intervalDayValues: string[];\n\n  constructor() {\n    super();\n\n    this.intervalDayValues = [];\n    for (let i = 0; i < 30; i += 1) {\n      this.intervalDayValues.push(`${i + 1} days later`);\n    }\n  }\n\n  componentDidMount() {\n    const { instances, fetchInstances, stage } = this.props;\n\n    // TODO(SHIN): Determine way to\n    // identify when to fetch sequence stage instance after stage has been created\n    if (!instances.length) {\n      fetchInstances(stage);\n    }\n  }\n\n  handleCheckToggle = () => {\n    const { onCheckboxChange, stage } = this.props;\n\n    onCheckboxChange(stage.id);\n  }\n\n  handleIntervalDayClick = (value: string, index: number) => {\n    const { stage, updateStage } = this.props;\n    const intervalDaysLater = index + 1;\n    const updatedStage: SequenceStage = {\n      ...stage,\n      intervalDays: intervalDaysLater,\n    };\n\n    updateStage(updatedStage);\n  }\n\n  render() {\n    const { stage, instances, checked, index, readOnly } = this.props;\n    const { delivered, opened, clicked, replied } = stage.analytics;\n    const recipientsAnalytics = [\n      { name: 'Scheduled', value: 'scheduled' },\n    ];\n\n    // if (!instances.length) {\n    //   return <div />;\n    // }\n\n    return (\n      <div className=\"stage-cell\">\n        <div className=\"heading\">\n          <span>{`Stage ${index}`}</span>\n          {index !== 1 && <span className=\"new-thread\">\n            {`- ${stage.newThread ? 'new thread sent' : 'reply sent'}`}\n          </span>}\n          {index !== 1 && !readOnly && <Dropdown\n            onSelect={this.handleIntervalDayClick}\n            values={this.intervalDayValues}\n            startIndex={stage.intervalDays - 1}\n          />}\n          {index !== 1 && !!readOnly && <span className=\"interval\">\n            {` ${stage.intervalDays} days later`}\n          </span>}\n        </div>\n        {instances.map(i => i.data && (\n          <div className=\"cell\" key={i.data.id}>\n            <div className=\"checked\">\n              <Checkbox\n                onChange={this.handleCheckToggle}\n                checked={checked}\n              />\n            </div>\n            <Link to={`/sequences/${stage.sequence}/stages/${stage.id}`} className=\"link\">\n              <div className=\"wrapper\">\n                <div className=\"text-details\">\n                  <h2>\n                    {stage.newThread ?\n                      i.data.subject || '(No subject)' : `Reply to Stage ${stage.order - 1}`}\n                  </h2>\n                  <h4>\n                    {i.data.body ? extractText(i.data.body, i.data.body.length) : '(No body)'}\n                  </h4>\n                </div>\n                <div className=\"recipient-analytics\">\n                  {recipientsAnalytics\n                    .filter(r => !!stage.recipients[r.value])\n                    .map(r => (\n                    <div className={classnames('recipients-analytic', r.value)} key={r.value}>\n                      <span className=\"number\">{stage.recipients[r.value]}</span>\n                      <span>{r.name}</span>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"stage-analytics\">\n                  {!!delivered && <div className=\"analytic delivered-container\">\n                    <h4>{delivered}</h4>\n                    <h5>Delivered</h5>\n                  </div>}\n                  <div className=\"analytic opened-container\">\n                    <h4>{Math.round((delivered ? (opened / delivered || 0) : 0) * 100)}%</h4>\n                    <h5>Opened</h5>\n                  </div>\n                  <div className=\"analytic clicked-container\">\n                    <h4>{Math.round((delivered ? (clicked / delivered || 0) : 0) * 100)}%</h4>\n                    <h5>Clicked</h5>\n                  </div>\n                  <div className=\"analytic replied-container\">\n                    <h4>{Math.round((delivered ? (replied / delivered || 0) : 0) * 100)}%</h4>\n                    <h5>Replied</h5>\n                  </div>\n                </div>\n              </div>\n            </Link>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default StageCell;\n"]}]}