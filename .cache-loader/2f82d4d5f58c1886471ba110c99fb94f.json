{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/worker/bridge/appEvents.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/worker/bridge/appEvents.ts","mtime":1675280254123},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQ2xlYXJDYWNoZU1lY2hhbmlzbSwgZ2V0Q2xlYXJDYWNoZU1lY2hhbmlzbSB9IGZyb20gJ0BzcmMvbGliL2RiJzsKZXhwb3J0IHZhciBBcHBFdmVudE5hbWU7CihmdW5jdGlvbiAoQXBwRXZlbnROYW1lKSB7CiAgICBBcHBFdmVudE5hbWVbIkFjY291bnRzVXBkYXRlZCJdID0gImFjY291bnRzVXBkYXRlZCI7CiAgICBBcHBFdmVudE5hbWVbIkF1dGhVcGRhdGVkIl0gPSAiYXV0aFVwZGF0ZWQiOwogICAgQXBwRXZlbnROYW1lWyJDb21taXRTdWJtaXR0ZWQiXSA9ICJjb21taXRTdWJtaXR0ZWQiOwogICAgQXBwRXZlbnROYW1lWyJEcmFmdFVwZGF0ZWQiXSA9ICJkcmFmdFVwZGF0ZWQiOwogICAgQXBwRXZlbnROYW1lWyJEcmFmdFNlbnQiXSA9ICJkcmFmdFNlbnQiOwogICAgQXBwRXZlbnROYW1lWyJEcmFmdFVuZG9TZW50Il0gPSAiZHJhZnRVbmRvU2VudCI7CiAgICBBcHBFdmVudE5hbWVbIkZpbGVVcGxvYWRTdWJtaXR0ZWQiXSA9ICJmaWxlVXBsb2FkU3VibWl0dGVkIjsKICAgIEFwcEV2ZW50TmFtZVsiRmVhdHVyZXNVcGRhdGVkIl0gPSAiZmVhdHVyZXNVcGRhdGVkIjsKICAgIEFwcEV2ZW50TmFtZVsiTG9nb3V0Il0gPSAibG9nb3V0IjsKICAgIEFwcEV2ZW50TmFtZVsiTWFpbENvdW50VXBkYXRlZCJdID0gIm1haWxDb3VudFVwZGF0ZWQiOwogICAgQXBwRXZlbnROYW1lWyJNZVVwZGF0ZWQiXSA9ICJtZVVwZGF0ZWQiOwogICAgQXBwRXZlbnROYW1lWyJQcmVmZXJlbmNlc1VwZGF0ZWQiXSA9ICJwcmVmZXJlbmNlc1VwZGF0ZWQiOwogICAgQXBwRXZlbnROYW1lWyJDbGVhckNhY2hlIl0gPSAiY2xlYXJDYWNoZSI7CiAgICBBcHBFdmVudE5hbWVbIlVuZG9Nb3ZlIl0gPSAidW5kb01vdmUiOwogICAgQXBwRXZlbnROYW1lWyJTYXZlTWVzc2FnZUJvZGllcyJdID0gInNhdmVNZXNzYWdlQm9kaWVzIjsKICAgIEFwcEV2ZW50TmFtZVsiU2VhcmNoRGJFbmFibGUiXSA9ICJzZWFyY2hEYkVuYWJsZSI7CiAgICBBcHBFdmVudE5hbWVbIkFsbG93RGJSZWNvbm5lY3QiXSA9ICJhbGxvd0RiUmVjb25uZWN0cyI7CiAgICBBcHBFdmVudE5hbWVbIk9ubGluZSJdID0gIm9ubGluZSI7CiAgICBBcHBFdmVudE5hbWVbIkNvbmZpZyJdID0gImNvbmZpZyI7CiAgICBBcHBFdmVudE5hbWVbIkxpc3RzVXBkYXRlZCJdID0gImxpc3RzVXBkYXRlZCI7Cn0pKEFwcEV2ZW50TmFtZSB8fCAoQXBwRXZlbnROYW1lID0ge30pKTsKdmFyIHdvcmtlclBvc3RNZXNzYWdlID0gZnVuY3Rpb24gKHdvcmtlciwgZXZlbnQpIHsKICAgIGlmICh3b3JrZXIgaW5zdGFuY2VvZiBXb3JrZXIpIHsKICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoZXZlbnQpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgd29ya2VyLnBvcnQucG9zdE1lc3NhZ2UoZXZlbnQpOwogICAgfQp9OwpleHBvcnQgZnVuY3Rpb24gc2VuZEFsbG93RGJSZWNvbm5lY3Qod29ya2VyLCBhbGxvd1JlY29ubmVjdCkgewogICAgd29ya2VyUG9zdE1lc3NhZ2Uod29ya2VyLCB7CiAgICAgICAgbmFtZTogQXBwRXZlbnROYW1lLkFsbG93RGJSZWNvbm5lY3QsCiAgICAgICAgZGF0YTogeyBhbGxvd1JlY29ubmVjdDogYWxsb3dSZWNvbm5lY3QgfSwKICAgIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZW5kQ29uZmlnKHdvcmtlciwgdG9rZW4sIGVsZWN0cm9uQnJpZGdlQ2xlYXJDYWNoZSwgYWxsb3dSZWNvbm5lY3QpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5Db25maWcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgICAgIGVsZWN0cm9uQnJpZGdlQ2xlYXJDYWNoZTogZ2V0Q2xlYXJDYWNoZU1lY2hhbmlzbSgpID09PSBDbGVhckNhY2hlTWVjaGFuaXNtLkVsZWN0cm9uQnJpZGdlLAogICAgICAgICAgICBhbGxvd1JlY29ubmVjdDogYWxsb3dSZWNvbm5lY3QsCiAgICAgICAgfSwKICAgIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZW5kU2VhcmNoRGJFbmFibGUod29ya2VyLCBjb25maWcpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5TZWFyY2hEYkVuYWJsZSwgZGF0YTogeyBjb25maWc6IGNvbmZpZyB9LAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmRBY2NvdW50c1VwZGF0ZWQod29ya2VyLCBhY2NvdW50cykgewogICAgd29ya2VyUG9zdE1lc3NhZ2Uod29ya2VyLCB7CiAgICAgICAgbmFtZTogQXBwRXZlbnROYW1lLkFjY291bnRzVXBkYXRlZCwgZGF0YTogeyBhY2NvdW50czogYWNjb3VudHMgfSwKICAgIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZW5kTGlzdHNVcGRhdGVkKHdvcmtlciwgbGlzdHMpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5MaXN0c1VwZGF0ZWQsIGRhdGE6IHsgbGlzdHM6IGxpc3RzIH0sCiAgICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gc2VuZEF1dGhVcGRhdGVkKHdvcmtlciwgdG9rZW4sIGRpc2FibGVkKSB7CiAgICBpZiAoZGlzYWJsZWQgPT09IHZvaWQgMCkgeyBkaXNhYmxlZCA9IGZhbHNlOyB9CiAgICB3b3JrZXJQb3N0TWVzc2FnZSh3b3JrZXIsIHsKICAgICAgICBuYW1lOiBBcHBFdmVudE5hbWUuQXV0aFVwZGF0ZWQsIGRhdGE6IHsgdG9rZW46IHRva2VuLCBkaXNhYmxlZDogZGlzYWJsZWQgfSwKICAgIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZW5kQ2xlYXJDYWNoZSh3b3JrZXIpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5DbGVhckNhY2hlLAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmRDb21taXRTdWJtaXR0ZWQod29ya2VyKSB7CiAgICB3b3JrZXJQb3N0TWVzc2FnZSh3b3JrZXIsIHsKICAgICAgICBuYW1lOiBBcHBFdmVudE5hbWUuQ29tbWl0U3VibWl0dGVkLAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmRPbmxpbmUod29ya2VyKSB7CiAgICB3b3JrZXJQb3N0TWVzc2FnZSh3b3JrZXIsIHsKICAgICAgICBuYW1lOiBBcHBFdmVudE5hbWUuT25saW5lLAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmRXb3JrZXJEcmFmdFVwZGF0ZWQod29ya2VyLCBkcmFmdCkgewogICAgd29ya2VyUG9zdE1lc3NhZ2Uod29ya2VyLCB7CiAgICAgICAgbmFtZTogQXBwRXZlbnROYW1lLkRyYWZ0VXBkYXRlZCwKICAgICAgICBkYXRhOiB7IGRyYWZ0OiBkcmFmdCB9LAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmRXb3JrZXJEcmFmdFNlbmQod29ya2VyLCBtZXRhKSB7CiAgICB3b3JrZXJQb3N0TWVzc2FnZSh3b3JrZXIsIHsKICAgICAgICBuYW1lOiBBcHBFdmVudE5hbWUuRHJhZnRTZW50LAogICAgICAgIGRhdGE6IG1ldGEsCiAgICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gc2VuZEZpbGVVcGxvYWRTdWJtaXR0ZWQod29ya2VyKSB7CiAgICB3b3JrZXJQb3N0TWVzc2FnZSh3b3JrZXIsIHsKICAgICAgICBuYW1lOiBBcHBFdmVudE5hbWUuRmlsZVVwbG9hZFN1Ym1pdHRlZCwKICAgIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZW5kRmVhdHVyZXNVcGRhdGVkKHdvcmtlciwgZmVhdHVyZXMpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5GZWF0dXJlc1VwZGF0ZWQsIGRhdGE6IHsgZmVhdHVyZXM6IGZlYXR1cmVzIH0sCiAgICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gc2VuZExvZ291dCh3b3JrZXIpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5Mb2dvdXQsCiAgICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gc2VuZE1haWxDb3VudFVwZGF0ZWQod29ya2VyLCBhY2NvdW50SWQsIHVucmVhZExpc3QpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5NYWlsQ291bnRVcGRhdGVkLCBkYXRhOiB7IGFjY291bnRJZDogYWNjb3VudElkLCB1bnJlYWRMaXN0OiB1bnJlYWRMaXN0IH0sCiAgICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gc2VuZE1lVXBkYXRlZCh3b3JrZXIsIG1lKSB7CiAgICB3b3JrZXJQb3N0TWVzc2FnZSh3b3JrZXIsIHsKICAgICAgICBuYW1lOiBBcHBFdmVudE5hbWUuTWVVcGRhdGVkLCBkYXRhOiB7IG1lOiBtZSB9LAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmRQcmVmZXJlbmNlc1VwZGF0ZWQod29ya2VyLCBwcmVmZXJlbmNlcywgYWNjb3VudHMpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5QcmVmZXJlbmNlc1VwZGF0ZWQsIGRhdGE6IHsgcHJlZmVyZW5jZXM6IHByZWZlcmVuY2VzLCBhY2NvdW50czogYWNjb3VudHMgfSwKICAgIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZW5kVW5kb01vdmUod29ya2VyLCBib3gpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5VbmRvTW92ZSwgZGF0YTogeyBib3g6IGJveCB9LAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmREcmFmdFVuZG9TZW50KHdvcmtlciwgZHJhZnQpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5EcmFmdFVuZG9TZW50LCBkYXRhOiB7IGRyYWZ0OiBkcmFmdCB9LAogICAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlbmRNZXNzYWdlQm9kaWVzU2F2ZSh3b3JrZXIsIGJvZGllcywgdGhyZWFkSWQpIHsKICAgIHdvcmtlclBvc3RNZXNzYWdlKHdvcmtlciwgewogICAgICAgIG5hbWU6IEFwcEV2ZW50TmFtZS5TYXZlTWVzc2FnZUJvZGllcywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGJvZGllczogYm9kaWVzLAogICAgICAgICAgICB0aHJlYWRJZDogdGhyZWFkSWQsCiAgICAgICAgfSwKICAgIH0pOwp9Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/worker/bridge/appEvents.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/worker/bridge/appEvents.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Me, Account, Features, ThreadBox, Draft, MessageBody, List, Preferences,\n} from '@src/types';\nimport { DraftSendMeta } from '@src/ducks/drafts';\nimport { SearchDbConfiguration } from '@src/lib/device';\nimport { ClearCacheMechanism, getClearCacheMechanism } from '@src/lib/db';\n\n// AppEvent defines events sent from the App to the Worker.\nexport interface AppEvent {\n  name: AppEventName;\n  data?: any;\n}\n\nexport enum AppEventName {\n  AccountsUpdated = 'accountsUpdated',\n  AuthUpdated = 'authUpdated',\n  CommitSubmitted = 'commitSubmitted',\n  DraftUpdated = 'draftUpdated',\n  DraftSent = 'draftSent',\n  DraftUndoSent = 'draftUndoSent',\n  FileUploadSubmitted = 'fileUploadSubmitted',\n  FeaturesUpdated = 'featuresUpdated',\n  Logout = 'logout',\n  MailCountUpdated = 'mailCountUpdated',\n  MeUpdated = 'meUpdated',\n  PreferencesUpdated = 'preferencesUpdated',\n  ClearCache = 'clearCache',\n  UndoMove = 'undoMove',\n  SaveMessageBodies = 'saveMessageBodies',\n  SearchDbEnable = 'searchDbEnable',\n  AllowDbReconnect = 'allowDbReconnects',\n  Online = 'online',\n  Config = 'config',\n  ListsUpdated = 'listsUpdated',\n}\n\nconst workerPostMessage = (worker: Worker|SharedWorker.SharedWorker, event: AppEvent) => {\n  if (worker instanceof Worker) {\n    worker.postMessage(event);\n  } else {\n    worker.port.postMessage(event);\n  }\n};\n\nexport function sendAllowDbReconnect(\n  worker: Worker | SharedWorker.SharedWorker, allowReconnect: boolean,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.AllowDbReconnect,\n    data: { allowReconnect },\n  });\n}\n\nexport function sendConfig(\n  worker: Worker | SharedWorker.SharedWorker,\n  token: string,\n  electronBridgeClearCache: boolean,\n  allowReconnect: boolean,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.Config,\n    data: {\n      token,\n      electronBridgeClearCache: getClearCacheMechanism() === ClearCacheMechanism.ElectronBridge,\n      allowReconnect,\n    },\n  });\n}\n\nexport function sendSearchDbEnable(\n  worker: Worker | SharedWorker.SharedWorker, config: SearchDbConfiguration,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.SearchDbEnable, data: { config },\n  });\n}\n\nexport function sendAccountsUpdated(\n  worker: Worker|SharedWorker.SharedWorker, accounts: Account[],\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.AccountsUpdated, data: { accounts },\n  });\n}\n\nexport function sendListsUpdated(worker: Worker|SharedWorker.SharedWorker, lists: List[]) {\n  workerPostMessage(worker, {\n    name: AppEventName.ListsUpdated, data: { lists },\n  });\n}\n\nexport function sendAuthUpdated(\n  worker: Worker|SharedWorker.SharedWorker,\n  token: string,\n  disabled: boolean = false,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.AuthUpdated, data: { token, disabled },\n  });\n}\n\nexport function sendClearCache(worker: Worker|SharedWorker.SharedWorker) {\n  workerPostMessage(worker, {\n    name: AppEventName.ClearCache,\n  });\n}\n\nexport function sendCommitSubmitted(worker: Worker|SharedWorker.SharedWorker) {\n  workerPostMessage(worker, {\n    name: AppEventName.CommitSubmitted,\n  });\n}\n\nexport function sendOnline(worker: Worker | SharedWorker.SharedWorker) {\n  workerPostMessage(worker, {\n    name: AppEventName.Online,\n  });\n}\n\nexport function sendWorkerDraftUpdated(worker: Worker|SharedWorker.SharedWorker, draft: Draft) {\n  workerPostMessage(worker, {\n    name: AppEventName.DraftUpdated,\n    data: { draft },\n  });\n}\n\nexport function sendWorkerDraftSend(\n  worker: Worker|SharedWorker.SharedWorker, meta: DraftSendMeta,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.DraftSent,\n    data: meta,\n  });\n}\n\nexport function sendFileUploadSubmitted(worker: Worker|SharedWorker.SharedWorker) {\n  workerPostMessage(worker, {\n    name: AppEventName.FileUploadSubmitted,\n  });\n}\n\nexport function sendFeaturesUpdated(\n  worker: Worker|SharedWorker.SharedWorker, features: Features,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.FeaturesUpdated, data: { features },\n  });\n}\n\nexport function sendLogout(worker: Worker|SharedWorker.SharedWorker) {\n  workerPostMessage(worker, {\n    name: AppEventName.Logout,\n  });\n}\n\nexport function sendMailCountUpdated(\n  worker: Worker|SharedWorker.SharedWorker,\n  accountId: string,\n  unreadList?: string|undefined,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.MailCountUpdated, data: { accountId, unreadList },\n  });\n}\n\nexport function sendMeUpdated(worker: Worker|SharedWorker.SharedWorker, me: Me) {\n  workerPostMessage(worker, {\n    name: AppEventName.MeUpdated, data: { me },\n  });\n}\n\nexport function sendPreferencesUpdated(\n  worker: Worker | SharedWorker.SharedWorker, preferences: Preferences, accounts?: Account[],\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.PreferencesUpdated, data: { preferences, accounts },\n  });\n}\n\nexport function sendUndoMove(worker: Worker|SharedWorker.SharedWorker, box: ThreadBox) {\n  workerPostMessage(worker, {\n    name: AppEventName.UndoMove, data: { box },\n  });\n}\n\nexport function sendDraftUndoSent(worker: Worker | SharedWorker.SharedWorker, draft: Draft) {\n  workerPostMessage(worker, {\n    name: AppEventName.DraftUndoSent, data: { draft },\n  });\n}\n\nexport function sendMessageBodiesSave(\n  worker: Worker|SharedWorker.SharedWorker, bodies: MessageBody[], threadId: string,\n) {\n  workerPostMessage(worker, {\n    name: AppEventName.SaveMessageBodies,\n    data: {\n      bodies,\n      threadId,\n    },\n  });\n}\n"]}]}