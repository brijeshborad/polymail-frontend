{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Hubspot/Hubspot.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Hubspot/Hubspot.tsx","mtime":1675280254102},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBicm93c2VySGlzdG9yeSBmcm9tICdAc3JjL2xpYi9icm93c2VySGlzdG9yeSc7CmltcG9ydCBOYXZpZ2F0aW9uSGVhZGVyIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL2NvbXBvbmVudHMvTmF2aWdhdGlvbkhlYWRlcic7CmltcG9ydCBIdWJzcG90TG9nbyBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvSHVic3BvdC5zdmcnOwppbXBvcnQgeyBJbnRlZ3JhdGlvblN0YXR1cyB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgJy4vSHVic3BvdC5zY3NzJzsKdmFyIEh1YnNwb3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoSHVic3BvdCwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIEh1YnNwb3QoKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlT25CYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBicm93c2VySGlzdG9yeS5yZXBsYWNlKCcvc2V0dGluZ3MvaW50ZWdyYXRpb25zJyk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnN0YWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgbG9naW5IdWJzcG90ID0gX2EubG9naW5IdWJzcG90LCB0ZWFtID0gX2EudGVhbTsKICAgICAgICAgICAgaWYgKHRlYW0pIHsKICAgICAgICAgICAgICAgIGxvZ2luSHVic3BvdCh0ZWFtLmlkKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlVW5pbnN0YWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5wcm9wcy5sb2dvdXRIdWJzcG90KCk7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBIdWJzcG90LnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICBpZiAobmV4dFByb3BzLnJlZnJlc2hJbnRlZ3JhdGlvbnMgJiYgIXRoaXMucHJvcHMucmVmcmVzaEludGVncmF0aW9ucykgewogICAgICAgICAgICBuZXh0UHJvcHMubGlzdEludGVncmF0aW9ucygpOwogICAgICAgIH0KICAgIH07CiAgICBIdWJzcG90LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGh1YnNwb3RJbnRlZ3JhdGlvbiA9IHRoaXMucHJvcHMuaHVic3BvdEludGVncmF0aW9uOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXR0aW5ncy1wYW5lbCBodWJzcG90LWludGVncmF0aW9uIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25IZWFkZXIsIHsgdGl0bGU6ICJJbnRlZ3JhdGlvbnMiLCBvbkJhY2s6IHRoaXMuaGFuZGxlT25CYWNrLCBjb250ZXh0QnV0dG9uOiBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJjb250ZXh0IiB9LCAiSHVic3BvdCIpIH0pLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImhlYWRlciIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibG9nbyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEh1YnNwb3RMb2dvLCB7IHdpZHRoOiAiMTA2cHgiLCBoZWlnaHQ6ICIzMXB4IiB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoMSIsIG51bGwsICJIdWJTcG90IiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJwIiwgeyBjbGFzc05hbWU6ICJkZXNjcmlwdGlvbiIgfSwgIkNvbm5lY3QgeW91ciBIdWJTcG90IEFjY291bnQiKSwKICAgICAgICAgICAgICAgICFodWJzcG90SW50ZWdyYXRpb24gJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImluc3RhbGwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUluc3RhbGwgfSwgIkluc3RhbGwiKSwKICAgICAgICAgICAgICAgIGh1YnNwb3RJbnRlZ3JhdGlvbiAmJiBodWJzcG90SW50ZWdyYXRpb24uc3RhdHVzICE9PSBJbnRlZ3JhdGlvblN0YXR1cy5PayAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiaW5zdGFsbCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSW5zdGFsbCB9LCAiUmVhdXRob3JpemUiKSwKICAgICAgICAgICAgICAgIGh1YnNwb3RJbnRlZ3JhdGlvbiAmJiBodWJzcG90SW50ZWdyYXRpb24uc3RhdHVzID09PSBJbnRlZ3JhdGlvblN0YXR1cy5PayAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZW5hYmxlZCIgfSwgIkVOQUJMRUQiKSwKICAgICAgICAgICAgICAgIGh1YnNwb3RJbnRlZ3JhdGlvbiAmJiBodWJzcG90SW50ZWdyYXRpb24uc3RhdHVzID09PSBJbnRlZ3JhdGlvblN0YXR1cy5PayAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAidW5pbnN0YWxsIiwgb25DbGljazogdGhpcy5oYW5kbGVVbmluc3RhbGwgfSwgIlVuaW5zdGFsbCIpKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpbnRlZ3JhdGlvbi1kZXRhaWxzIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsgY2xhc3NOYW1lOiAiZGV0YWlscyIgfSwgIldpdGggdGhlIEh1YlNwb3QgSW50ZWdyYXRpb24sIHlvdSBjYW46IiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJ1bCIsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGkiLCBudWxsLCAiTG9va3VwIGEgSHViU3BvdCBjb250YWN0IGRldGFpbHMgdmlhIHRoZSBQb2x5bWFpbCBSaWdodCBTaWRlYmFyLiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgbnVsbCwgIlNlZSBDb21wYW55IGluZm9ybWF0aW9uIGZvciBhIGNvbnRhY3Qgb24gdGhlIEh1YlNwb3QgU2lkZWJhciIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgbnVsbCwgIlNlZSBjb3JyZXNwb25kaW5nIHRpY2tldHMgZm9yIGEgY29udGFjdCBvbiB0aGUgc2lkZWJhci4iKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJsaSIsIG51bGwsICJTZWUgY29ycmVzcG9uZGluZyBUaWNrZXRzIGZvciBhIGNvbnRhY3Qgb24gdGhlIHNpZGViYXIuIiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGkiLCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAiT3BlbiB0aGUgSHViU3BvdCBTaWRlYmFyIHZpYSB0aGUgQ29tbWFuZCBDZW50ZXIgdHlwZWFoZWFkICIsCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLCAiXCJIdWJTcG90OiBPcGVuIFNpZGViYXJcIiIpLAogICAgICAgICAgICAgICAgICAgICAgICAiLiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgIlZpZXcgYSBjb250YWN0IGRpcmVjdGx5IGluIEh1YlNwb3Qgd2l0aCB0aGUgY29tbW1hbmQgIiwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYiIsIG51bGwsICJcIkh1YlNwb3Q6IFNlZSBQcm9maWxlIGluIEh1YlNwb3RcIiIpLAogICAgICAgICAgICAgICAgICAgICAgICAiLiIpKSkpKTsKICAgIH07CiAgICByZXR1cm4gSHVic3BvdDsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IEh1YnNwb3Q7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Hubspot/Hubspot.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Hubspot/Hubspot.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,cAAc,MAAM,yBAAyB,CAAC;AACrD,OAAO,gBAAgB,MAAM,kDAAkD,CAAC;AAChF,OAAO,WAAW,MAAM,mCAAmC,CAAC;AAC5D,OAAO,EAAqB,iBAAiB,EAAE,MAAM,YAAY,CAAC;AAElE,OAAO,gBAAgB,CAAC;AAcxB;IAAsB,2BAA+C;IAArE;QAAA,qEA0EC;QAzEC,kBAAY,GAAG;YACb,cAAc,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;QACnD,CAAC,CAAA;QAQD,mBAAa,GAAG;YACR,IAAA,gBAAmC,EAAjC,8BAAY,EAAE,cAAmB,CAAC;YAE1C,IAAI,IAAI,EAAE;gBACR,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACvB;QACH,CAAC,CAAA;QAED,qBAAe,GAAG;YAChB,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;QAC7B,CAAC,CAAA;;IAqDH,CAAC;IArEC,kDAAgC,GAAhC,UAAiC,SAAqC;QACpE,IAAI,SAAS,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE;YACpE,SAAS,CAAC,gBAAgB,EAAE,CAAC;SAC9B;IACH,CAAC;IAcD,wBAAM,GAAN;QACU,IAAA,kDAAkB,CAAgB;QAE1C,OAAO,CACL,6BAAK,SAAS,EAAC,oCAAoC;YACjD,oBAAC,gBAAgB,IACf,KAAK,EAAC,cAAc,EACpB,MAAM,EAAE,IAAI,CAAC,YAAY,EACzB,aAAa,EAAE,8BAAM,SAAS,EAAC,SAAS,cAAe,GACvD;YACF,6BAAK,SAAS,EAAC,QAAQ;gBACrB,6BAAK,SAAS,EAAC,MAAM;oBAAC,oBAAC,WAAW,IAAC,KAAK,EAAC,OAAO,EAAC,MAAM,EAAC,MAAM,GAAG,CAAM;gBACvE,0CAAgB;gBAChB,2BAAG,SAAS,EAAC,aAAa,mCAAiC;gBAC1D,CAAC,kBAAkB;oBAClB,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,cAAkB;gBAC1E,kBAAkB,IAAI,kBAAkB,CAAC,MAAM,KAAK,iBAAiB,CAAC,EAAE;oBACvE,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,kBAAsB;gBAC9E,kBAAkB,IAAI,kBAAkB,CAAC,MAAM,KAAK,iBAAiB,CAAC,EAAE;oBACvE,6BAAK,SAAS,EAAC,SAAS,cAAc;gBACvC,kBAAkB,IAAI,kBAAkB,CAAC,MAAM,KAAK,iBAAiB,CAAC,EAAE;oBACvE,gCAAQ,SAAS,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,eAAe,gBAAoB,CAC7E;YACN,6BAAK,SAAS,EAAC,qBAAqB;gBAClC,2BAAG,SAAS,EAAC,SAAS,6CAA2C;gBACjE;oBACE,mGAEK;oBACL,+FAEK;oBACL,0FAEK;oBACL,0FAEK;oBACL;;wBAE4D,2DAA8B;4BACrF;oBACL;;wBAEuD,qEAAwC;4BAC1F,CACF,CACD,CACF,CACP,CAAC;IACJ,CAAC;IACH,cAAC;AAAD,CAAC,AA1ED,CAAsB,KAAK,CAAC,aAAa,GA0ExC;AAED,eAAe,OAAO,CAAC","sourcesContent":["import React from 'react';\nimport browserHistory from '@src/lib/browserHistory';\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport HubspotLogo from '@src/components/Icons/Hubspot.svg';\nimport { Team, Integration, IntegrationStatus } from '@src/types';\n\nimport './Hubspot.scss';\n\nexport interface StateProps {\n  hubspotIntegration?: Integration;\n  team: Team;\n  refreshIntegrations: boolean;\n}\n\nexport interface DispatchProps {\n  loginHubspot: (team: string) => void;\n  logoutHubspot: () => void;\n  listIntegrations: () => void;\n}\n\nclass Hubspot extends React.PureComponent<StateProps & DispatchProps> {\n  handleOnBack = () => {\n    browserHistory.replace('/settings/integrations');\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: StateProps & DispatchProps) {\n    if (nextProps.refreshIntegrations && !this.props.refreshIntegrations) {\n      nextProps.listIntegrations();\n    }\n  }\n\n  handleInstall = () => {\n    const { loginHubspot, team } = this.props;\n\n    if (team) {\n      loginHubspot(team.id);\n    }\n  }\n\n  handleUninstall = () => {\n    this.props.logoutHubspot();\n  }\n\n  render() {\n    const { hubspotIntegration } = this.props;\n\n    return (\n      <div className=\"settings-panel hubspot-integration\">\n        <NavigationHeader\n          title=\"Integrations\"\n          onBack={this.handleOnBack}\n          contextButton={<span className=\"context\">Hubspot</span>}\n        />\n        <div className=\"header\">\n          <div className=\"logo\"><HubspotLogo width=\"106px\" height=\"31px\" /></div>\n          <h1>HubSpot</h1>\n          <p className=\"description\">Connect your HubSpot Account</p>\n          {!hubspotIntegration &&\n            <button className=\"install\" onClick={this.handleInstall}>Install</button>}\n          {hubspotIntegration && hubspotIntegration.status !== IntegrationStatus.Ok &&\n            <button className=\"install\" onClick={this.handleInstall}>Reauthorize</button>}\n          {hubspotIntegration && hubspotIntegration.status === IntegrationStatus.Ok &&\n            <div className=\"enabled\">ENABLED</div>}\n          {hubspotIntegration && hubspotIntegration.status === IntegrationStatus.Ok &&\n            <button className=\"uninstall\" onClick={this.handleUninstall}>Uninstall</button>}\n        </div>\n        <div className=\"integration-details\">\n          <p className=\"details\">With the HubSpot Integration, you can:</p>\n          <ul>\n            <li>\n              Lookup a HubSpot contact details via the Polymail Right Sidebar.\n            </li>\n            <li>\n              See Company information for a contact on the HubSpot Sidebar\n            </li>\n            <li>\n              See corresponding tickets for a contact on the sidebar.\n            </li>\n            <li>\n              See corresponding Tickets for a contact on the sidebar.\n            </li>\n            <li>\n              {/* tslint:disable-next-line: max-line-length */}\n              Open the HubSpot Sidebar via the Command Center typeahead <b>\"HubSpot: Open Sidebar\"</b>.\n            </li>\n            <li>\n              {/* tslint:disable-next-line: max-line-length */}\n              View a contact directly in HubSpot with the commmand <b>\"HubSpot: See Profile in HubSpot\"</b>.\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Hubspot;\n"]}]}