{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Accounts/routes/AliasDetail/AliasDetail.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Accounts/routes/AliasDetail/AliasDetail.tsx","mtime":1675280254095},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHsKICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7CiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkKICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdDsKICAgIH07CiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgZmluZEluZGV4LCBpbmRleE9mLCBjb21wYWN0LCB2YWx1ZXMgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyBBY2NvdW50VHlwZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgeyBtb25nb0lkIH0gZnJvbSAnQHNyYy9saWIvY3J5cHQnOwppbXBvcnQgVGV4dElucHV0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9Gb3JtL1RleHRJbnB1dCc7CmltcG9ydCBDb250ZW50RWRpdGFibGUgZnJvbSAnQHNyYy9jb21wb25lbnRzL0NvbnRlbnRFZGl0YWJsZS9Db250ZW50RWRpdGFibGUnOwppbXBvcnQgRmlsZURyb3Bab25lIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Db21wb3NlL0ZpbGVEcm9wWm9uZSc7CmltcG9ydCBDb25maXJtIGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYXNlL0NvbmZpcm0nOwppbXBvcnQgJy4vQWxpYXNEZXRhaWwuc2Nzcyc7CmltcG9ydCBOYXZpZ2F0aW9uSGVhZGVyIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL2NvbXBvbmVudHMvTmF2aWdhdGlvbkhlYWRlcic7CmltcG9ydCBUb2dnbGVDZWxsIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL2NvbXBvbmVudHMvVG9nZ2xlQ2VsbCc7CmltcG9ydCB7IHVwbG9hZEVycm9yTWVzc2FnZSB9IGZyb20gJ0BzcmMvbGliL2ZpbGVzJzsKdmFyIEFsaWFzRGV0YWlsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKEFsaWFzRGV0YWlsLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gQWxpYXNEZXRhaWwocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZUNvbnRlbnRFZGl0YWJsZVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMuY29udGVudEVkaXRhYmxlID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxDaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgYWxpYXMgPSBfYS5hbGlhcywgdXBkYXRlQWxpYXMgPSBfYS51cGRhdGVBbGlhczsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlLCBzaG93U2F2ZTogdHJ1ZSB9KTsKICAgICAgICAgICAgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVBbGlhcyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYWxpYXMpLCB7IGVtYWlsOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVOYW1lQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGFsaWFzID0gX2EuYWxpYXMsIHVwZGF0ZUFsaWFzID0gX2EudXBkYXRlQWxpYXM7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbmFtZTogZS5jdXJyZW50VGFyZ2V0LnZhbHVlLCBzaG93U2F2ZTogdHJ1ZSB9KTsKICAgICAgICAgICAgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVBbGlhcyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYWxpYXMpLCB7IG5hbWU6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNpZ25hdHVyZUNoYW5nZSA9IGZ1bmN0aW9uIChodG1sKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBhbGlhcyA9IF9hLmFsaWFzLCB1cGRhdGVBbGlhcyA9IF9hLnVwZGF0ZUFsaWFzOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNpZ25hdHVyZTogaHRtbCwgc2hvd1NhdmU6IHRydWUgfSk7CiAgICAgICAgICAgIGlmIChhbGlhcykgewogICAgICAgICAgICAgICAgdXBkYXRlQWxpYXMoX19hc3NpZ24oX19hc3NpZ24oe30sIGFsaWFzKSwgeyBzaWduYXR1cmU6IGh0bWwgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVEZWZhdWx0QWNjb3VudENoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc0RlZmF1bHRTZW5kOiAhX3RoaXMuc3RhdGUuaXNEZWZhdWx0U2VuZCwgc2hvd1NhdmU6IHRydWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTYXZlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgYWxpYXMgPSBfYS5hbGlhcywgdXBkYXRlQWxpYXMgPSBfYS51cGRhdGVBbGlhcywgY3JlYXRlQWxpYXMgPSBfYS5jcmVhdGVBbGlhcywgcGFyZW50ID0gX2EucGFyZW50LCBwcmVmZXJlbmNlcyA9IF9hLnByZWZlcmVuY2VzLCB1cGRhdGVQcmVmZXJlbmNlcyA9IF9hLnVwZGF0ZVByZWZlcmVuY2VzOwogICAgICAgICAgICB2YXIgX2IgPSBfdGhpcy5zdGF0ZSwgbmFtZSA9IF9iLm5hbWUsIGVtYWlsID0gX2IuZW1haWwsIHNpZ25hdHVyZSA9IF9iLnNpZ25hdHVyZTsKICAgICAgICAgICAgLy8gQ3JlYXRlIGFsaWFzIGlmIGl0IGRvZXNudCBleGlzdAogICAgICAgICAgICBpZiAoIWFsaWFzKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFyZW50SWQgPSBwYXJlbnQgJiYgcGFyZW50LmlkOwogICAgICAgICAgICAgICAgdmFyIG5ld0FsaWFzID0gewogICAgICAgICAgICAgICAgICAgIHR5cGU6IEFjY291bnRUeXBlLkFsaWFzLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogc2lnbmF0dXJlLAogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHBhcmVudElkLAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNyZWF0ZUFsaWFzKG5ld0FsaWFzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsgLy8gT3RoZXJ3aXNlIHVwZGF0ZQogICAgICAgICAgICAgICAgdXBkYXRlQWxpYXMoX19hc3NpZ24oX19hc3NpZ24oe30sIGFsaWFzKSwgeyBuYW1lOiBuYW1lLCBlbWFpbDogZW1haWwsIHNpZ25hdHVyZTogc2lnbmF0dXJlIH0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBIYW5kbGUgc2V0dGluZyBkZWZhdWx0CiAgICAgICAgICAgIHZhciBzZXREZWZhdWx0ID0gX3RoaXMuc3RhdGUuaXNEZWZhdWx0U2VuZDsKICAgICAgICAgICAgaWYgKGFsaWFzICYmIHNldERlZmF1bHQgIT09IChwcmVmZXJlbmNlcy5kZWZhdWx0QWNjb3VudCA9PT0gYWxpYXMuaWQpKSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3RGVmYXVsdElkID0gc2V0RGVmYXVsdAogICAgICAgICAgICAgICAgICAgID8gYWxpYXMuaWQKICAgICAgICAgICAgICAgICAgICA6ICcnOwogICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRQcmVmZXJlbmNlcyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBwcmVmZXJlbmNlcyksIHsgZGVmYXVsdEFjY291bnQ6IG5ld0RlZmF1bHRJZCB9KTsKICAgICAgICAgICAgICAgIHVwZGF0ZVByZWZlcmVuY2VzKHVwZGF0ZWRQcmVmZXJlbmNlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gVHVybiBvZmYgc2F2ZSBidXR0b24KICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93U2F2ZTogZmFsc2UgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVEZWxldGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBhbGlhcyA9IF9hLmFsaWFzLCBkZWxldGVBbGlhcyA9IF9hLmRlbGV0ZUFsaWFzOwogICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgYWxpYXM/JzsKICAgICAgICAgICAgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgICAgICB2YXIgY29uZmlybVByb3BzID0gewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUmVtb3ZpbmcgQWxpYXMnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgY29uZmlybUNvcHk6ICdSZW1vdmUnLAogICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1Qcm9wczogdW5kZWZpbmVkIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVBbGlhcyhhbGlhcyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBjb25maXJtUHJvcHM6IHVuZGVmaW5lZCB9KTsgfSwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1Qcm9wczogY29uZmlybVByb3BzIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLyBEcm9wWm9uZSBoYW5kbGVycwogICAgICAgIF90aGlzLmhhbmRsZURyYWdFbnRlciA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzLmluZGV4T2YoJ0ZpbGVzJykgIT09IC0xKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGRyb3B6b25lQWN0aXZlOiB0cnVlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVEcmFnTGVhdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZHJvcHpvbmVBY3RpdmU6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgLy8gVE9ETyhTSElOKTogSGFuZGxlIHVwbG9hZGluZyBzaWduYXR1cmUgaW1hZ2UKICAgICAgICBfdGhpcy5oYW5kbGVVcGxvYWQgPSBmdW5jdGlvbiAoZmlsZXMsIG9wdGlvbnMpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGFkZFNpZ25hdHVyZUltYWdlID0gX2EuYWRkU2lnbmF0dXJlSW1hZ2UsIGFsaWFzID0gX2EuYWxpYXM7CiAgICAgICAgICAgIGlmICghYWxpYXMpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBCbG9jayBhYmlsaXR5IHRvIGF0dGFjaCBmaWxlcyBsYXJnZXIgdGhhbiAyNSBNQi4KICAgICAgICAgICAgaWYgKGZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZmlsZSkgeyByZXR1cm4gZmlsZS5zaXplID4gMjUwMDAwMDA7IH0pLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdmFyIGNvbmZpcm1Qcm9wcyA9IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yIFVwbG9hZGluZyBBdHRhY2htZW50JywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnWW91IGNhbm5vdCB1cGxvYWQgYW4gYXR0YWNobWVudCBncmVhdGVyIHRoYW4gMjUgTUIuJywKICAgICAgICAgICAgICAgICAgICBjb25maXJtQ29weTogJ09rJywKICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb25maXJtUHJvcHM6IHVuZGVmaW5lZCB9KTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgY29uZmlybVByb3BzOiBjb25maXJtUHJvcHMgfSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gT25seSBncmFiIGltYWdlIGZpbGVzLAogICAgICAgICAgICB2YXIgaW1hZ2VGaWxlcyA9IGZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZmlsZSkgeyByZXR1cm4gZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlJyk7IH0pOwogICAgICAgICAgICAvLyBIYW5kbGUgYXR0YWNobWVudCB1cGxvYWQgdG8gc3BlY2lmaWMgcG9zaXRpb24KICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkcm9wem9uZUFjdGl2ZTogZmFsc2UsIHNob3dTYXZlOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucG9zaXRpb24gJiYgX3RoaXMuY29udGVudEVkaXRhYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29udGVudEVkaXRhYmxlLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKG9wdGlvbnMucG9zaXRpb24pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gVXBsb2FkIHNpZ25hdHVyZSBpbWFnZXMKICAgICAgICAgICAgaW1hZ2VGaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7IHJldHVybiBhZGRTaWduYXR1cmVJbWFnZSh7CiAgICAgICAgICAgICAgICBhdHRhY2htZW50OiBtb25nb0lkKCksCiAgICAgICAgICAgICAgICByZXNvdXJjZUlkOiBhbGlhcy5pZCwKICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgICAgIH0pOyB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUJhY2tQcmVzcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucHJvcHMuaGlzdG9yeS5nb0JhY2soKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhlbHBDZW50ZXJVcmwgPSBmdW5jdGlvbiAocGFyZW50KSB7CiAgICAgICAgICAgIHN3aXRjaCAocGFyZW50LnR5cGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgQWNjb3VudFR5cGUuR29vZ2xlOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9zdXBwb3J0Lmdvb2dsZS5jb20vbWFpbC9hbnN3ZXIvMjIzNzA/aGw9ZW4nOwogICAgICAgICAgICAgICAgY2FzZSBBY2NvdW50VHlwZS5NaWNyb3NvZnQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdodHRwczovL3N1cHBvcnQub2ZmaWNlLmNvbS9lbi11cy9hcnRpY2xlLycKICAgICAgICAgICAgICAgICAgICAgICAgKyAnQWRkLW9yLXJlbW92ZS1hbi1lbWFpbC1hbGlhcy1pbi1PdXRsb29rLWNvbS0nCiAgICAgICAgICAgICAgICAgICAgICAgICsgJzQ1OWIxOTg5LTM1NmQtNDBmYS1hNjg5LThmMjg1YjEzZjFmMj91aT1lbi1VUyZycz1lbi1VUyZhZD1VUzsnOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vaGVscC5wb2x5bWFpbC5pby9teS1wb2x5bWFpbC1wcmVmZXJlbmNlcy8nCiAgICAgICAgICAgICAgICAgICAgICAgICsgJ2FkZGluZy1lbWFpbC1hbGlhc2VzLXRvLXBvbHltYWlsJzsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRGlyZWN0b3J5RHJvcEVycm9yID0gZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgdmFyIGNvbmZpcm1Qcm9wcyA9IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3IgYXR0YWNoaW5nIGZpbGUnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogdXBsb2FkRXJyb3JNZXNzYWdlKGIpLAogICAgICAgICAgICAgICAgY29uZmlybUNvcHk6ICdPaycsCiAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1Qcm9wczogdW5kZWZpbmVkIH0pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjb25maXJtUHJvcHM6IGNvbmZpcm1Qcm9wcywgZHJvcHpvbmVBY3RpdmU6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIG5hbWUgPSBwcm9wcy5hbGlhcyAmJiBwcm9wcy5hbGlhcy5uYW1lIHx8ICcnOwogICAgICAgIHZhciBlbWFpbCA9IHByb3BzLmFsaWFzICYmIHByb3BzLmFsaWFzLmVtYWlsIHx8ICcnOwogICAgICAgIHZhciBzaWduYXR1cmUgPSAocHJvcHMuYWxpYXMgJiYgcHJvcHMuYWxpYXMuc2lnbmF0dXJlKSB8fAogICAgICAgICAgICAocHJvcHMucGFyZW50ICYmIHByb3BzLnBhcmVudC5zaWduYXR1cmUpIHx8ICcnOwogICAgICAgIF90aGlzLnN0YXRlID0gKHsKICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZSwKICAgICAgICAgICAgZHJvcHpvbmVBY3RpdmU6IGZhbHNlLAogICAgICAgICAgICBzaG93U2F2ZTogZmFsc2UsCiAgICAgICAgICAgIGlzRGVmYXVsdFNlbmQ6IGZhbHNlLAogICAgICAgIH0pOwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIEFsaWFzRGV0YWlsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBhbGlhcyA9IF9hLmFsaWFzLCBwcmVmZXJlbmNlcyA9IF9hLnByZWZlcmVuY2VzLCBwYXJlbnQgPSBfYS5wYXJlbnQ7CiAgICAgICAgdmFyIG5hbWUgPSBhbGlhcyAmJiBhbGlhcy5uYW1lIHx8ICcnOwogICAgICAgIHZhciBlbWFpbCA9IGFsaWFzICYmIGFsaWFzLmVtYWlsIHx8ICcnOwogICAgICAgIHZhciBzaWduYXR1cmUgPSAoYWxpYXMgJiYgYWxpYXMuc2lnbmF0dXJlKSB8fAogICAgICAgICAgICAocGFyZW50ICYmIHBhcmVudC5zaWduYXR1cmUpIHx8ICcnOwogICAgICAgIHZhciBpc0RlZmF1bHRTZW5kID0gYWxpYXMgJiYKICAgICAgICAgICAgYWxpYXMuaWQgPT09IHByZWZlcmVuY2VzLmRlZmF1bHRBY2NvdW50IHx8IGZhbHNlOwogICAgICAgIHRoaXMuc2V0U3RhdGUoeyBuYW1lOiBuYW1lLCBlbWFpbDogZW1haWwsIHNpZ25hdHVyZTogc2lnbmF0dXJlLCBzaG93U2F2ZTogZmFsc2UsIGlzRGVmYXVsdFNlbmQ6IGlzRGVmYXVsdFNlbmQgfSk7CiAgICB9OwogICAgLy8gVXBkYXRlIHNpZ25hdHVyZQogICAgLy8gVE9ETyhTSElOICYgU0hBSEFOKTogUG9zc2libGUgcmFjZSBjb25kaXRpb24gb3IgbG9zdCBjaGFuZ2UgYmV0d2VlbiBhbGlhcyBkaWZmcy4KICAgIEFsaWFzRGV0YWlsLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAob2xkUHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIC8vIEhhbmRsZSBzaWduYXR1cmUgaW1hZ2VzCiAgICAgICAgdmFyIG5leHRTaWduYXR1cmVJbWFnZXMgPSB0aGlzLnByb3BzLmFsaWFzICYmIHRoaXMucHJvcHMuYWxpYXMuc2lnbmF0dXJlSW1hZ2VzIHx8IFtdOwogICAgICAgIHZhciBvbGRTaWduYXR1cmVJbWFnZXMgPSBvbGRQcm9wcy5hbGlhcyAmJiBvbGRQcm9wcy5hbGlhcy5zaWduYXR1cmVJbWFnZXMgfHwgW107CiAgICAgICAgLy8gSW5qZWN0IHNpZ25hdHVyZSBpbWFnZXMgaWYgbmV3IGlzIGZvdW5kCiAgICAgICAgaWYgKG5leHRTaWduYXR1cmVJbWFnZXMgIT09IG9sZFNpZ25hdHVyZUltYWdlcykgewogICAgICAgICAgICBuZXh0U2lnbmF0dXJlSW1hZ2VzLgogICAgICAgICAgICAgICAgZmlsdGVyKGZ1bmN0aW9uIChhdHRhY2htZW50KSB7IHJldHVybiBmaW5kSW5kZXgob2xkU2lnbmF0dXJlSW1hZ2VzLCB7IGlkOiBhdHRhY2htZW50LmlkIH0pID09PSAtMTsgfSkKICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChhdHRhY2htZW50KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50RWRpdGFibGUucmVwbGFjZVNpZ25hdHVyZUltYWdlQXR0YWNobWVudChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYXR0YWNobWVudCksIHsgaW5saW5lOiB0cnVlIH0pKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChvbGRQcm9wcy5wcmVmZXJlbmNlcy5kZWZhdWx0QWNjb3VudCAhPT0gdGhpcy5wcm9wcy5wcmVmZXJlbmNlcy5kZWZhdWx0QWNjb3VudCkgewogICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hbGlhcykgewogICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0U2VuZDogdGhpcy5wcm9wcy5wcmVmZXJlbmNlcy5kZWZhdWx0QWNjb3VudCA9PT0gdGhpcy5wcm9wcy5hbGlhcy5pZCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIEhhbmRsZSByZXBsYWNpbmcgb2xkIG1ldGFzCiAgICAgICAgdmFyIG9sZE1ldGFzID0gb2xkUHJvcHMuYXR0YWNobWVudE1ldGFzOwogICAgICAgIHZhciBuZXdNZXRhcyA9IHRoaXMucHJvcHMuYXR0YWNobWVudE1ldGFzOwogICAgICAgIHZhciBvbGRNZXRhSWRzID0gY29tcGFjdCh2YWx1ZXMob2xkTWV0YXMubWFwKGZ1bmN0aW9uIChtZXRhKSB7IHJldHVybiBtZXRhLmRhdGEgJiYgbWV0YS5kYXRhLmF0dGFjaG1lbnQ7IH0pKSk7CiAgICAgICAgaWYgKG9sZE1ldGFzICE9PSBuZXdNZXRhcykgewogICAgICAgICAgICAvLyBJbmplY3QgbWV0YXMKICAgICAgICAgICAgbmV3TWV0YXMKICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRhKSB7CiAgICAgICAgICAgICAgICBpZiAoIW1ldGEuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgaWYgYXZhaWxhYmxlCiAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50RWRpdGFibGUucmVwbGFjZVNpZ25hdHVyZUltYWdlQXR0YWNobWVudE1ldGEobWV0YS5kYXRhKTsKICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGF0dGFjaG1lbnQgbWV0YSBpcyBuZXcKICAgICAgICAgICAgICAgIGlmIChpbmRleE9mKG9sZE1ldGFJZHMsIG1ldGEuZGF0YSAmJiBtZXRhLmRhdGEuYXR0YWNobWVudCkgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMuY29udGVudEVkaXRhYmxlLmluamVjdFNpZ25hdHVyZUltYWdlQXR0YWNobWVudE1ldGEobWV0YS5kYXRhKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIEFsaWFzRGV0YWlsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5zdGF0ZSwgbmFtZSA9IF9hLm5hbWUsIGVtYWlsID0gX2EuZW1haWwsIHNpZ25hdHVyZSA9IF9hLnNpZ25hdHVyZSwgZHJvcHpvbmVBY3RpdmUgPSBfYS5kcm9wem9uZUFjdGl2ZSwgc2hvd1NhdmUgPSBfYS5zaG93U2F2ZSwgY29uZmlybVByb3BzID0gX2EuY29uZmlybVByb3BzLCBpc0RlZmF1bHRTZW5kID0gX2EuaXNEZWZhdWx0U2VuZDsKICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wcm9wcy5wYXJlbnQ7CiAgICAgICAgdmFyIGhlYWRlciA9ICdBZGQgQWxpYXMnICsgKHBhcmVudCA/ICIgLSAiICsgcGFyZW50LmVtYWlsIDogJycpOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwcmVmZXJlbmNlcy1hbGlhcy1kZXRhaWwiIH0sCiAgICAgICAgICAgIGNvbmZpcm1Qcm9wcyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbmZpcm0sIF9fYXNzaWduKHt9LCBjb25maXJtUHJvcHMpKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChOYXZpZ2F0aW9uSGVhZGVyLCB7IHRpdGxlOiBoZWFkZXIsIG9uQmFjazogdGhpcy5oYW5kbGVCYWNrUHJlc3MsIG9uU2F2ZTogc2hvd1NhdmUgPyB0aGlzLmhhbmRsZVNhdmUgOiB1bmRlZmluZWQgfSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicHJvbXB0IiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgIlRvIHNlbmQgZW1haWxzIGZyb20gdGhpcyBhbGlhcywgaXQgbXVzdCBiZSBzZXR1cCB0aHJvdWdoIHlvdXIgcHJvdmlkZXIgZmlyc3QuIiksCiAgICAgICAgICAgICAgICBwYXJlbnQgJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJhIiwgeyBocmVmOiB0aGlzLmhlbHBDZW50ZXJVcmwocGFyZW50KSB9LCAiTGVhcm4gbW9yZS4iKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaW5wdXRzIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHsgZGVzY3JpcHRpb246ICJBbGlhcyBlbWFpbCBhZGRyZXNzIiwgcGxhY2Vob2xkZXI6ICIiLCB2YWx1ZTogZW1haWwsIHR5cGU6ICJ0ZXh0Iiwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRW1haWxDaGFuZ2UgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwgeyBkZXNjcmlwdGlvbjogIkFsaWFzIE5hbWUiLCBwbGFjZWhvbGRlcjogIiIsIHZhbHVlOiBuYW1lLCB0eXBlOiAidGV4dCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZU5hbWVDaGFuZ2UgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNpZ25hdHVyZS1maWVsZCIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImxhYmVsIiB9LCAiU2lnbmF0dXJlIiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzaWduYXR1cmUtcGFuZSIsIG9uRHJhZ0VudGVyOiB0aGlzLmhhbmRsZURyYWdFbnRlciwgb25EcmFnRXhpdDogdGhpcy5oYW5kbGVEcmFnTGVhdmUgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50RWRpdGFibGUsIHsgcmVmOiB0aGlzLmhhbmRsZUNvbnRlbnRFZGl0YWJsZVJlZiwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2lnbmF0dXJlQ2hhbmdlLCBvbkF0dGFjaG1lbnRVcGxvYWQ6IHRoaXMuaGFuZGxlVXBsb2FkLCBodG1sOiBzaWduYXR1cmUgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3B6b25lQWN0aXZlICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZpbGVEcm9wWm9uZSwgeyBjbGFzc05hbWU6ICJhbGlhcy1kZXRhaWwtZHJvcC16b25lIiwgb25Ecm9wOiB0aGlzLmhhbmRsZVVwbG9hZCwgb25MZWF2ZTogdGhpcy5oYW5kbGVEcmFnTGVhdmUsIG9uRGlyZWN0b3J5RHJvcEVycm9yOiB0aGlzLmhhbmRsZURpcmVjdG9yeURyb3BFcnJvciwgdGl0bGU6ICdEcm9wIGhlcmUgdG8gZW1iZWQgYW4gaW1hZ2UgaW50byB5b3VyIHNpZ25hdHVyZScsIGRlc2NyaXB0aW9uOiAiIiwgYWx0Q29weTogIiIgfSkpKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidG9nZ2xlcyIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQ2VsbCwgeyBvbjogaXNEZWZhdWx0U2VuZCB8fCBmYWxzZSwgdGl0bGU6ICJTZW5kIG5ldyBtZXNzYWdlcyBmcm9tIHRoaXMgYWNjb3VudCIsIG9uVG9nZ2xlOiB0aGlzLmhhbmRsZURlZmF1bHRBY2NvdW50Q2hhbmdlIH0pKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJyZW1vdmUtYnV0dG9uIiwgb25DbGljazogdGhpcy5oYW5kbGVEZWxldGUgfSwgIlJlbW92ZSBBbGlhcyIpKSk7CiAgICB9OwogICAgcmV0dXJuIEFsaWFzRGV0YWlsOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQWxpYXNEZXRhaWw7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Accounts/routes/AliasDetail/AliasDetail.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Accounts/routes/AliasDetail/AliasDetail.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAC7D,OAAO,EAA2B,WAAW,EAAyB,MAAM,YAAY,CAAC;AACzF,OAAO,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAC;AAGzC,OAAO,SAAS,MAAM,gCAAgC,CAAC;AACvD,OAAO,eAAe,MAAM,iDAAiD,CAAC;AAC9E,OAAO,YAAY,MAAM,sCAAsC,CAAC;AAChE,OAAO,OAAkC,MAAM,8BAA8B,CAAC;AAE9E,OAAO,oBAAoB,CAAC;AAC5B,OAAO,gBAAgB,MAAM,kDAAkD,CAAC;AAChF,OAAO,UAAU,MAAM,4CAA4C,CAAC;AAGpE,OAAO,EAAE,kBAAkB,EAAkB,MAAM,gBAAgB,CAAC;AA4BpE;IAA0B,+BAEzB;IAGC,qBAAY,KAAuD;QAAnE,YACE,iBAAO,SAaR;QA+DD,8BAAwB,GAAG,UAAC,GAAoB;YAC9C,KAAI,CAAC,eAAe,GAAG,GAAG,CAAC;QAC7B,CAAC,CAAA;QAED,uBAAiB,GAAG,UAAC,CAAsC;YACnD,IAAA,gBAAmC,EAAjC,gBAAK,EAAE,4BAA0B,CAAC;YAC1C,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;YAChE,IAAI,KAAK,EAAE;gBACT,WAAW,uBAAM,KAAK,KAAE,KAAK,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,IAAG,CAAC;aACzD;QACH,CAAC,CAAA;QAED,sBAAgB,GAAG,UAAC,CAAsC;YAClD,IAAA,gBAAmC,EAAjC,gBAAK,EAAE,4BAA0B,CAAC;YAC1C,KAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;YAC/D,IAAI,KAAK,EAAE;gBACT,WAAW,uBAAM,KAAK,KAAE,IAAI,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,IAAG,CAAC;aACxD;QACH,CAAC,CAAA;QAED,2BAAqB,GAAG,UAAC,IAAY;YAC7B,IAAA,gBAAmC,EAAjC,gBAAK,EAAE,4BAA0B,CAAC;YAC1C,KAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;YACnD,IAAI,KAAK,EAAE;gBACT,WAAW,uBAAM,KAAK,KAAE,SAAS,EAAE,IAAI,IAAG,CAAC;aAC5C;QACH,CAAC,CAAA;QAED,gCAA0B,GAAG;YAC3B,KAAI,CAAC,QAAQ,CAAC,EAAE,aAAa,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9E,CAAC,CAAA;QAED,gBAAU,GAAG;YACL,IAAA,gBAAwF,EAAtF,gBAAK,EAAE,4BAAW,EAAE,4BAAW,EAAE,kBAAM,EAAE,4BAAW,EAAE,wCAAgC,CAAC;YACzF,IAAA,gBAAuC,EAArC,cAAI,EAAE,gBAAK,EAAE,wBAAwB,CAAC;YAE9C,kCAAkC;YAClC,IAAI,CAAC,KAAK,EAAE;gBACV,IAAM,QAAQ,GAAG,MAAM,IAAI,MAAM,CAAC,EAAE,CAAC;gBACrC,IAAM,QAAQ,GAAqB;oBACjC,IAAI,EAAE,WAAW,CAAC,KAAK;oBACvB,IAAI,MAAA;oBACJ,KAAK,OAAA;oBACL,SAAS,WAAA;oBACT,OAAO,EAAE,QAAQ;iBAClB,CAAC;gBACF,WAAW,CAAC,QAAQ,CAAC,CAAC;aACvB;iBAAM,EAAE,mBAAmB;gBAC1B,WAAW,uBAAM,KAAK,KAAE,IAAI,MAAA,EAAE,KAAK,OAAA,EAAE,SAAS,WAAA,IAAG,CAAC;aACnD;YAED,yBAAyB;YACzB,IAAM,UAAU,GAAG,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC;YAC5C,IAAI,KAAK,IAAI,UAAU,KAAK,CAAC,WAAW,CAAC,cAAc,KAAK,KAAK,CAAC,EAAE,CAAC,EAAE;gBACrE,IAAM,YAAY,GAAG,UAAU;oBAC7B,CAAC,CAAC,KAAK,CAAC,EAAE;oBACV,CAAC,CAAC,EAAE,CAAC;gBACP,IAAM,kBAAkB,yBAAQ,WAAW,KAAE,cAAc,EAAE,YAAY,GAAE,CAAC;gBAC5E,iBAAiB,CAAC,kBAAkB,CAAC,CAAC;aACvC;YAED,uBAAuB;YACvB,KAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QACrC,CAAC,CAAA;QAED,kBAAY,GAAG;YACP,IAAA,gBAAmC,EAAjC,gBAAK,EAAE,4BAA0B,CAAC;YAC1C,IAAM,OAAO,GAAG,6CAA6C,CAAC;YAE9D,IAAI,KAAK,EAAE;gBACT,IAAM,YAAY,GAAiB;oBACjC,KAAK,EAAE,gBAAgB;oBACvB,OAAO,SAAA;oBACP,WAAW,EAAE,QAAQ;oBACrB,SAAS,EAAE;wBACT,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC,CAAC;wBAC3C,WAAW,CAAC,KAAK,CAAC,CAAC;oBACrB,CAAC;oBACD,QAAQ,EAAE,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC,EAA1C,CAA0C;iBAC3D,CAAC;gBAEF,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,cAAA,EAAE,CAAC,CAAC;aACjC;QACH,CAAC,CAAA;QAED,oBAAoB;QACpB,qBAAe,GAAG,UAAC,KAAsC;YACvD,IAAI,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;gBACpD,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;aACzC;QACH,CAAC,CAAA;QAED,qBAAe,GAAG;YAChB,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,KAAK,EAAE,CAAC,CAAC;QAC3C,CAAC,CAAA;QACD,+CAA+C;QAC/C,kBAAY,GAAG,UAAC,KAAa,EAAE,OAAiC;YACxD,IAAA,gBAAyC,EAAvC,wCAAiB,EAAE,gBAAoB,CAAC;YAChD,IAAI,CAAC,KAAK,EAAE;gBACV,OAAO;aACR;YAED,mDAAmD;YACnD,IAAI,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,GAAG,QAAQ,EAApB,CAAoB,CAAC,CAAC,MAAM,EAAE;gBACrD,IAAM,YAAY,GAAiB;oBACjC,KAAK,EAAE,4BAA4B;oBACnC,OAAO,EAAE,qDAAqD;oBAC9D,WAAW,EAAE,IAAI;oBACjB,SAAS,EAAE;wBACT,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC,CAAC;oBAC7C,CAAC;iBACF,CAAC;gBAEF,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,cAAA,EAAE,CAAC,CAAC;gBAChC,OAAO;aACR;YAED,yBAAyB;YACzB,IAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAA7B,CAA6B,CAAC,CAAC;YAEvE,gDAAgD;YAChD,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBACvD,IAAI,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,KAAI,CAAC,eAAe,EAAE;oBACvD,KAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;iBAC7D;YACH,CAAC,CAAC,CAAC;YAEH,0BAA0B;YAC1B,UAAU,CAAC,OAAO,CAAC,UAAA,IAAI,IAAI,OAAA,iBAAiB,CAAC;gBAC3C,UAAU,EAAE,OAAO,EAAE;gBACrB,UAAU,EAAE,KAAK,CAAC,EAAE;gBACpB,IAAI,MAAA;gBACJ,MAAM,EAAE,IAAI;aACb,CAAC,EALyB,CAKzB,CAAC,CAAC;QACN,CAAC,CAAA;QAED,qBAAe,GAAG;YAChB,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QAC9B,CAAC,CAAA;QAED,mBAAa,GAAG,UAAC,MAAe;YAC9B,QAAQ,MAAM,CAAC,IAAI,EAAE;gBACnB,KAAK,WAAW,CAAC,MAAM;oBACrB,OAAO,oDAAoD,CAAC;gBAC9D,KAAK,WAAW,CAAC,SAAS;oBACxB,OAAO,2CAA2C;0BAC9C,8CAA8C;0BAC9C,+DAA+D,CAAC;gBACtE;oBACE,OAAO,mDAAmD;0BACtD,kCAAkC,CAAC;aAC1C;QACH,CAAC,CAAA;QAED,8BAAwB,GAAG,UAAC,CAAiB;YAC3C,IAAM,YAAY,GAAiB;gBACjC,KAAK,EAAE,sBAAsB;gBAC7B,OAAO,EAAE,kBAAkB,CAAC,CAAC,CAAC;gBAC9B,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE;oBACT,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC,CAAC;gBAC7C,CAAC;aACF,CAAC;YAEF,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,cAAA,EAAE,cAAc,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,CAAC,CAAA;QAhPC,IAAM,IAAI,GAAG,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC;QACnD,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;QACrD,IAAM,SAAS,GAAG,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC;YACtD,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACjD,KAAI,CAAC,KAAK,GAAG,CAAC;YACZ,IAAI,MAAA;YACJ,KAAK,OAAA;YACL,SAAS,WAAA;YACT,cAAc,EAAE,KAAK;YACrB,QAAQ,EAAE,KAAK;YACf,aAAa,EAAE,KAAK;SACrB,CAAC,CAAC;;IACL,CAAC;IAED,uCAAiB,GAAjB;QACQ,IAAA,eAA2C,EAAzC,gBAAK,EAAE,4BAAW,EAAE,kBAAqB,CAAC;QAClD,IAAM,IAAI,GAAG,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC;QACvC,IAAM,KAAK,GAAG,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;QACzC,IAAM,SAAS,GAAG,CAAC,KAAK,IAAI,KAAK,CAAC,SAAS,CAAC;YAC1C,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACrC,IAAM,aAAa,GAAG,KAAK;YACzB,KAAK,CAAC,EAAE,KAAK,WAAW,CAAC,cAAc,IAAI,KAAK,CAAC;QACnD,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,MAAA,EAAE,KAAK,OAAA,EAAE,SAAS,WAAA,EAAE,QAAQ,EAAE,KAAK,EAAE,aAAa,eAAA,EAAE,CAAC,CAAC;IAC5E,CAAC;IAED,mBAAmB;IACnB,mFAAmF;IACnF,wCAAkB,GAAlB,UAAmB,QAAe;QAAlC,iBA8CC;QA7CC,0BAA0B;QAC1B,IAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,IAAI,EAAE,CAAC;QACvF,IAAM,kBAAkB,GAAG,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK,CAAC,eAAe,IAAI,EAAE,CAAC;QAElF,0CAA0C;QAC1C,IAAI,mBAAmB,KAAK,kBAAkB,EAAE;YAC9C,mBAAmB;gBACjB,MAAM,CAAC,UAAA,UAAU,IAAI,OAAA,SAAS,CAAC,kBAAkB,EAAE,EAAE,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,EAA3D,CAA2D,CAAC;iBAChF,OAAO,CAAC,UAAC,UAAU;gBAClB,KAAI,CAAC,eAAe,CAAC,+BAA+B,uBAAM,UAAU,KAAE,MAAM,EAAE,IAAI,IAAG,CAAC;YACxF,CAAC,CACF,CAAC;SACH;QAED,IAAI,QAAQ,CAAC,WAAW,CAAC,cAAc,KAAK,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc,EAAE;YACjF,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBACpB,IAAI,CAAC,QAAQ,CAAC;oBACZ,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;iBAC7E,CAAC,CAAC;aACJ;SACF;QAED,6BAA6B;QAC7B,IAAM,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC;QAC1C,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QAC5C,IAAM,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAjC,CAAiC,CAAC,CAAC,CAAC,CAAC;QAC5F,IAAI,QAAQ,KAAK,QAAQ,EAAE;YACzB,eAAe;YACf,QAAQ;iBACL,OAAO,CAAC,UAAC,IAAI;gBACZ,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;oBACd,OAAO;iBACR;gBAED,uBAAuB;gBACvB,KAAI,CAAC,eAAe,CAAC,mCAAmC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAEpE,kCAAkC;gBAClC,IAAI,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;oBACjE,OAAO;iBACR;gBAED,KAAI,CAAC,eAAe,CAAC,kCAAkC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrE,CAAC,CAAC,CAAC;SACN;IACH,CAAC;IAyKD,4BAAM,GAAN;QACQ,IAAA,eAQQ,EAPZ,cAAI,EACJ,gBAAK,EACL,wBAAS,EACT,kCAAc,EACd,sBAAQ,EACR,8BAAY,EACZ,gCACY,CAAC;QACP,IAAA,0BAAM,CAAgB;QAC9B,IAAM,MAAM,GAAG,WAAW,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,QAAM,MAAM,CAAC,KAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAElE,OAAO,CACL,6BAAK,SAAS,EAAC,0BAA0B;YACtC,YAAY,IAAI,oBAAC,OAAO,eAAK,YAAY,EAAI;YAC9C,oBAAC,gBAAgB,IACf,KAAK,EAAE,MAAM,EACb,MAAM,EAAE,IAAI,CAAC,eAAe,EAC5B,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,GAC9C;YACF,6BAAK,SAAS,EAAC,QAAQ;gBACrB,iHAEM;gBACL,MAAM;oBACL,2BAAG,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,kBAEjC,CAEA;YACN,6BAAK,SAAS,EAAC,QAAQ;gBACrB,oBAAC,SAAS,IACR,WAAW,EAAC,qBAAqB,EACjC,WAAW,EAAC,EAAE,EACd,KAAK,EAAE,KAAK,EACZ,IAAI,EAAC,MAAM,EACX,QAAQ,EAAE,IAAI,CAAC,iBAAiB,GAChC;gBACF,oBAAC,SAAS,IACR,WAAW,EAAC,YAAY,EACxB,WAAW,EAAC,EAAE,EACd,KAAK,EAAE,IAAI,EACX,IAAI,EAAC,MAAM,EACX,QAAQ,EAAE,IAAI,CAAC,gBAAgB,GAC/B;gBACF,6BAAK,SAAS,EAAC,iBAAiB;oBAC9B,6BAAK,SAAS,EAAC,OAAO,gBAAgB;oBACtC,6BACE,SAAS,EAAC,gBAAgB,EAC1B,WAAW,EAAE,IAAI,CAAC,eAAe,EACjC,UAAU,EAAE,IAAI,CAAC,eAAe;wBAEhC,oBAAC,eAAe,IACd,GAAG,EAAE,IAAI,CAAC,wBAAwB,EAClC,QAAQ,EAAE,IAAI,CAAC,qBAAqB,EACpC,kBAAkB,EAAE,IAAI,CAAC,YAAY,EACrC,IAAI,EAAE,SAAS,GACf;wBACD,cAAc;4BACb,oBAAC,YAAY,IACX,SAAS,EAAC,wBAAwB,EAClC,MAAM,EAAE,IAAI,CAAC,YAAY,EACzB,OAAO,EAAE,IAAI,CAAC,eAAe,EAC7B,oBAAoB,EAAE,IAAI,CAAC,wBAAwB,EACnD,KAAK,EAAE,iDAAiD,EACxD,WAAW,EAAC,EAAE,EACd,OAAO,EAAC,EAAE,GACV,CAEA,CACF,CACF;YACN,6BAAK,SAAS,EAAC,SAAS;gBACtB,oBAAC,UAAU,IACT,EAAE,EAAE,aAAa,IAAI,KAAK,EAC1B,KAAK,EAAC,qCAAqC,EAC3C,QAAQ,EAAE,IAAI,CAAC,0BAA0B,GACzC,CACE;YACN,gCACE,SAAS,EAAC,eAAe,EACzB,OAAO,EAAE,IAAI,CAAC,YAAY,mBAGnB,CACL,CACP,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAAC,AAlVD,CAA0B,KAAK,CAAC,aAAa,GAkV5C;AAED,eAAe,WAAW,CAAC","sourcesContent":["import React from 'react';\nimport { findIndex, indexOf, compact, values } from 'lodash';\nimport { Account, AttachmentMeta, AccountType, Preferences, Resource } from '@src/types';\nimport { mongoId } from '@src/lib/crypt';\nimport { History } from 'history';\n\nimport TextInput from '@src/components/Form/TextInput';\nimport ContentEditable from '@src/components/ContentEditable/ContentEditable';\nimport FileDropZone from '@src/components/Compose/FileDropZone';\nimport Confirm, { Props as ConfirmProps } from '@src/components/Base/Confirm';\n\nimport './AliasDetail.scss';\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport ToggleCell from '@src/routes/Settings/components/ToggleCell';\nimport { RouteComponentProps } from 'react-router';\nimport { AttachmentUploadOptions } from '@src/lib/attachment';\nimport { uploadErrorMessage, BlobDescriptor } from '@src/lib/files';\n\nexport interface Props {\n  parent?: Account;\n  alias?: Account;\n  attachmentMetas: Array<Resource<AttachmentMeta>>;\n  history: History;\n  preferences: Preferences;\n}\nexport interface DispatchProps {\n  createAlias: (alias: Partial<Account>) => void;\n  updateAlias: (alias: Account) => void;\n  addSignatureImage: (meta: AttachmentMeta) => void;\n  removeSignatureImage: (meta: AttachmentMeta) => void;\n  deleteAlias: (alias: Account) => void;\n  updatePreferences: (preferences: Preferences) => void;\n}\n\ninterface State {\n  email: string;\n  name: string;\n  signature: string;\n  isDefaultSend: boolean;\n  dropzoneActive: boolean;\n  showSave: boolean;\n  confirmProps?: ConfirmProps;\n}\n\nclass AliasDetail extends React.PureComponent<\n  Props & DispatchProps & RouteComponentProps<any>, State\n> {\n  contentEditable: ContentEditable;\n\n  constructor(props: Props & DispatchProps & RouteComponentProps<any>) {\n    super();\n    const name = props.alias && props.alias.name || '';\n    const email = props.alias && props.alias.email || '';\n    const signature = (props.alias && props.alias.signature) ||\n      (props.parent && props.parent.signature) || '';\n    this.state = ({\n      name,\n      email,\n      signature,\n      dropzoneActive: false,\n      showSave: false,\n      isDefaultSend: false,\n    });\n  }\n\n  componentDidMount() {\n    const { alias, preferences, parent } = this.props;\n    const name = alias && alias.name || '';\n    const email = alias && alias.email || '';\n    const signature = (alias && alias.signature) ||\n      (parent && parent.signature) || '';\n    const isDefaultSend = alias &&\n      alias.id === preferences.defaultAccount || false;\n    this.setState({ name, email, signature, showSave: false, isDefaultSend });\n  }\n\n  // Update signature\n  // TODO(SHIN & SHAHAN): Possible race condition or lost change between alias diffs.\n  componentDidUpdate(oldProps: Props) {\n    // Handle signature images\n    const nextSignatureImages = this.props.alias && this.props.alias.signatureImages || [];\n    const oldSignatureImages = oldProps.alias && oldProps.alias.signatureImages || [];\n\n    // Inject signature images if new is found\n    if (nextSignatureImages !== oldSignatureImages) {\n      nextSignatureImages.\n        filter(attachment => findIndex(oldSignatureImages, { id: attachment.id }) === -1)\n        .forEach((attachment) => {\n          this.contentEditable.replaceSignatureImageAttachment({ ...attachment, inline: true });\n        },\n      );\n    }\n\n    if (oldProps.preferences.defaultAccount !== this.props.preferences.defaultAccount) {\n      if (this.props.alias) {\n        this.setState({\n          isDefaultSend: this.props.preferences.defaultAccount === this.props.alias.id,\n        });\n      }\n    }\n\n    // Handle replacing old metas\n    const oldMetas = oldProps.attachmentMetas;\n    const newMetas = this.props.attachmentMetas;\n    const oldMetaIds = compact(values(oldMetas.map(meta => meta.data && meta.data.attachment)));\n    if (oldMetas !== newMetas) {\n      // Inject metas\n      newMetas\n        .forEach((meta) => {\n          if (!meta.data) {\n            return;\n          }\n\n          // Replace if available\n          this.contentEditable.replaceSignatureImageAttachmentMeta(meta.data);\n\n          // Check if attachment meta is new\n          if (indexOf(oldMetaIds, meta.data && meta.data.attachment) !== -1) {\n            return;\n          }\n\n          this.contentEditable.injectSignatureImageAttachmentMeta(meta.data);\n        });\n    }\n  }\n\n  handleContentEditableRef = (ref: ContentEditable) => {\n    this.contentEditable = ref;\n  }\n\n  handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { alias, updateAlias } = this.props;\n    this.setState({ email: e.currentTarget.value, showSave: true });\n    if (alias) {\n      updateAlias({ ...alias, email: e.currentTarget.value });\n    }\n  }\n\n  handleNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { alias, updateAlias } = this.props;\n    this.setState({ name: e.currentTarget.value, showSave: true });\n    if (alias) {\n      updateAlias({ ...alias, name: e.currentTarget.value });\n    }\n  }\n\n  handleSignatureChange = (html: string) => {\n    const { alias, updateAlias } = this.props;\n    this.setState({ signature: html, showSave: true });\n    if (alias) {\n      updateAlias({ ...alias, signature: html });\n    }\n  }\n\n  handleDefaultAccountChange = () => {\n    this.setState({ isDefaultSend: !this.state.isDefaultSend, showSave: true });\n  }\n\n  handleSave = () => {\n    const { alias, updateAlias, createAlias, parent, preferences, updatePreferences } = this.props;\n    const { name, email, signature } = this.state;\n\n    // Create alias if it doesnt exist\n    if (!alias) {\n      const parentId = parent && parent.id;\n      const newAlias: Partial<Account> = {\n        type: AccountType.Alias,\n        name,\n        email,\n        signature,\n        account: parentId,\n      };\n      createAlias(newAlias);\n    } else { // Otherwise update\n      updateAlias({ ...alias, name, email, signature });\n    }\n\n    // Handle setting default\n    const setDefault = this.state.isDefaultSend;\n    if (alias && setDefault !== (preferences.defaultAccount === alias.id)) {\n      const newDefaultId = setDefault\n        ? alias.id\n        : '';\n      const updatedPreferences = { ...preferences, defaultAccount: newDefaultId };\n      updatePreferences(updatedPreferences);\n    }\n\n    // Turn off save button\n    this.setState({ showSave: false });\n  }\n\n  handleDelete = () => {\n    const { alias, deleteAlias } = this.props;\n    const message = 'Are you sure you want to remove this alias?';\n\n    if (alias) {\n      const confirmProps: ConfirmProps = {\n        title: 'Removing Alias',\n        message,\n        confirmCopy: 'Remove',\n        onConfirm: () => {\n          this.setState({ confirmProps: undefined });\n          deleteAlias(alias);\n        },\n        onCancel: () => this.setState({ confirmProps: undefined }),\n      };\n\n      this.setState({ confirmProps });\n    }\n  }\n\n  // DropZone handlers\n  handleDragEnter = (event: React.DragEvent<HTMLDivElement>) => {\n    if (event.dataTransfer.types.indexOf('Files') !== -1) {\n      this.setState({ dropzoneActive: true });\n    }\n  }\n\n  handleDragLeave = () => {\n    this.setState({ dropzoneActive: false });\n  }\n  // TODO(SHIN): Handle uploading signature image\n  handleUpload = (files: File[], options?: AttachmentUploadOptions) => {\n    const { addSignatureImage, alias } = this.props;\n    if (!alias) {\n      return;\n    }\n\n    // Block ability to attach files larger than 25 MB.\n    if (files.filter(file => file.size > 25000000).length) {\n      const confirmProps: ConfirmProps = {\n        title: 'Error Uploading Attachment',\n        message: 'You cannot upload an attachment greater than 25 MB.',\n        confirmCopy: 'Ok',\n        onConfirm: () => {\n          this.setState({ confirmProps: undefined });\n        },\n      };\n\n      this.setState({ confirmProps });\n      return;\n    }\n\n    // Only grab image files,\n    const imageFiles = files.filter(file => file.type.startsWith('image'));\n\n    // Handle attachment upload to specific position\n    this.setState({ dropzoneActive: false, showSave: true }, () => {\n      if (options && options.position && this.contentEditable) {\n        this.contentEditable.moveCursorToPosition(options.position);\n      }\n    });\n\n    // Upload signature images\n    imageFiles.forEach(file => addSignatureImage({\n      attachment: mongoId(),\n      resourceId: alias.id,\n      file,\n      inline: true,\n    }));\n  }\n\n  handleBackPress = () => {\n    this.props.history.goBack();\n  }\n\n  helpCenterUrl = (parent: Account) => {\n    switch (parent.type) {\n      case AccountType.Google:\n        return 'https://support.google.com/mail/answer/22370?hl=en';\n      case AccountType.Microsoft:\n        return 'https://support.office.com/en-us/article/'\n          + 'Add-or-remove-an-email-alias-in-Outlook-com-'\n          + '459b1989-356d-40fa-a689-8f285b13f1f2?ui=en-US&rs=en-US&ad=US;';\n      default:\n        return 'https://help.polymail.io/my-polymail-preferences/'\n          + 'adding-email-aliases-to-polymail';\n    }\n  }\n\n  handleDirectoryDropError = (b: BlobDescriptor) => {\n    const confirmProps: ConfirmProps = {\n      title: 'Error attaching file',\n      message: uploadErrorMessage(b),\n      confirmCopy: 'Ok',\n      onConfirm: () => {\n        this.setState({ confirmProps: undefined });\n      },\n    };\n\n    this.setState({ confirmProps, dropzoneActive: false });\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      signature,\n      dropzoneActive,\n      showSave,\n      confirmProps,\n      isDefaultSend,\n    } = this.state;\n    const { parent } = this.props;\n    const header = 'Add Alias' + (parent ? ` - ${parent.email}` : '');\n\n    return (\n      <div className=\"preferences-alias-detail\">\n        {confirmProps && <Confirm {...confirmProps} />}\n        <NavigationHeader\n          title={header}\n          onBack={this.handleBackPress}\n          onSave={showSave ? this.handleSave : undefined}\n        />\n        <div className=\"prompt\">\n          <div>\n          To send emails from this alias, it must be setup through your provider first.\n          </div>\n          {parent &&\n            <a href={this.helpCenterUrl(parent)}>\n              Learn more.\n          </a>\n          }\n        </div>\n        <div className=\"inputs\">\n          <TextInput\n            description=\"Alias email address\"\n            placeholder=\"\"\n            value={email}\n            type=\"text\"\n            onChange={this.handleEmailChange}\n          />\n          <TextInput\n            description=\"Alias Name\"\n            placeholder=\"\"\n            value={name}\n            type=\"text\"\n            onChange={this.handleNameChange}\n          />\n          <div className=\"signature-field\">\n            <div className=\"label\">Signature</div>\n            <div\n              className=\"signature-pane\"\n              onDragEnter={this.handleDragEnter}\n              onDragExit={this.handleDragLeave}\n            >\n              <ContentEditable\n                ref={this.handleContentEditableRef}\n                onChange={this.handleSignatureChange}\n                onAttachmentUpload={this.handleUpload}\n                html={signature}\n              />\n              {dropzoneActive &&\n                <FileDropZone\n                  className=\"alias-detail-drop-zone\"\n                  onDrop={this.handleUpload}\n                  onLeave={this.handleDragLeave}\n                  onDirectoryDropError={this.handleDirectoryDropError}\n                  title={'Drop here to embed an image into your signature'}\n                  description=\"\"\n                  altCopy=\"\"\n                />\n              }\n            </div>\n          </div>\n        </div>\n        <div className=\"toggles\">\n          <ToggleCell\n            on={isDefaultSend || false}\n            title=\"Send new messages from this account\"\n            onToggle={this.handleDefaultAccountChange}\n          />\n        </div>\n        <button\n          className=\"remove-button\"\n          onClick={this.handleDelete}\n        >\n          Remove Alias\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default AliasDetail;\n"]}]}