{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamInvite/TeamInvite.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamInvite/TeamInvite.tsx","mtime":1675280254080},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOwppbXBvcnQgYnJvd3Nlckhpc3RvcnkgZnJvbSAnQHNyYy9saWIvYnJvd3Nlckhpc3RvcnknOwppbXBvcnQgTG9nbyBmcm9tICdAc3JjL3JvdXRlcy9Mb2dpbi9JY29ucy9Qb2x5bWFpbExvZ29AM3gucG5nJzsKaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBpc0VtYWlsIH0gZnJvbSAnQHNyYy9saWIvc2VhcmNoJzsKaW1wb3J0IFRvYXN0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYXNlL1RvYXN0JzsKaW1wb3J0ICcuL1RlYW1JbnZpdGUuc2Nzcyc7CmltcG9ydCBDb250YWN0SW5wdXQgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Zvcm0vQ29udGFjdElucHV0JzsKdmFyIFRlYW1JbnZpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoVGVhbUludml0ZSwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIFRlYW1JbnZpdGUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVGaW5pc2ggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy8nKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHNldFRvYXN0ID0gX2Euc2V0VG9hc3QsIGludml0ZVRlYW1NZW1iZXIgPSBfYS5pbnZpdGVUZWFtTWVtYmVyOwogICAgICAgICAgICB2YXIgbm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKF90aGlzKTsKICAgICAgICAgICAgaWYgKCFub2RlKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGlucHV0cyA9IG5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5wdXQtZmllbGRzJylbMF0KICAgICAgICAgICAgICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTsKICAgICAgICAgICAgaWYgKGlucHV0cyAmJiBpbnB1dHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgZW1haWxzID0gQXJyYXkuZnJvbShpbnB1dHMpCiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS52YWx1ZTsgfSkKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiAhIXYgJiYgISFpc0VtYWlsKHYpOyB9KTsKICAgICAgICAgICAgICAgIGlmICghZW1haWxzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIHNldFRvYXN0KG5ldyBFcnJvcignUGxlYXNlIGlucHV0IHZhbGlkIGVtYWlsIGFkZHJlc3NlcycpKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbWFpbHMuZm9yRWFjaChmdW5jdGlvbiAoZW1haWwpIHsgcmV0dXJuIGludml0ZVRlYW1NZW1iZXIoZW1haWwpOyB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dTZW5kaW5nOiB0cnVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgX3RoaXMucHJvcHMuY29udGFjdFR5cGVoZWFkKGV2ZW50LnRhcmdldC52YWx1ZSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5yZW5kZXJTdWNjZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicHJpbWFyeSBzdWNjZXNzIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRpdGxlIiB9LCAnWW91ciB0ZWFtbWF0ZXMgaGF2ZSBiZWVuIGludml0ZWQhICDwn46JJyksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sICJXZSdsbCBsZXQgeW91IGtub3cgb25jZSB0aGV5J3ZlIGpvaW5lZCB5b3VyIHRlYW0uIiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWN0aW9uLWJ1dHRvbnMiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogInN1Ym1pdC1idXR0b24iLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVGaW5pc2ggfSwgIkNvbnRpbnVlIikpKSk7IH07CiAgICAgICAgX3RoaXMucmVuZGVyTWFpbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgeyBjbGFzc05hbWU6ICJwcmltYXJ5IiwgYXV0b0NvbXBsZXRlOiAibm9uZSIsIG9uU3VibWl0OiBfdGhpcy5oYW5kbGVTdWJtaXQgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgIkxldCdzIHNldCB1cCB5b3VyIHRlYW0hIiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sICdJbnZpdGUgdGVhbSBtZW1iZXJzIHRvIFBvbHltYWlsIHRvIHNoYXJlLCBkaXNjdXNzLCBhbmQgY29sbGFib3JhdGUgb24gZW1haWwgY29udmVyc2F0aW9ucycKICAgICAgICAgICAgICAgICsgJyB0b2dldGhlci4nKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjdGEiIH0sICJTZW5kIEludml0YXRpb25zIiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaW5wdXQtZmllbGRzIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWN0SW5wdXQsIHsgcGxhY2Vob2xkZXI6ICJ0ZWFtbWF0ZSdzIGVtYWlsIiwgYmxhY2tsaXN0OiBfdGhpcy5zdGF0ZS5ibGFja2xpc3RFbWFpbHMsIGhpZGVQb3BvdmVyV2hlbkluYWN0aXZlOiB0cnVlLCByZXRhaW5WYWx1ZXM6IHRydWUsIGlnbm9yZUludml0ZWRDb250YWN0czogdHJ1ZSwgbWF4TGltaXQ6IDggfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhY3RJbnB1dCwgeyBwbGFjZWhvbGRlcjogInRlYW1tYXRlJ3MgZW1haWwiLCBibGFja2xpc3Q6IF90aGlzLnN0YXRlLmJsYWNrbGlzdEVtYWlscywgaGlkZVBvcG92ZXJXaGVuSW5hY3RpdmU6IHRydWUsIHJldGFpblZhbHVlczogdHJ1ZSwgaWdub3JlSW52aXRlZENvbnRhY3RzOiB0cnVlLCBtYXhMaW1pdDogOCB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFjdElucHV0LCB7IHBsYWNlaG9sZGVyOiAidGVhbW1hdGUncyBlbWFpbCIsIGJsYWNrbGlzdDogX3RoaXMuc3RhdGUuYmxhY2tsaXN0RW1haWxzLCBoaWRlUG9wb3ZlcldoZW5JbmFjdGl2ZTogdHJ1ZSwgcmV0YWluVmFsdWVzOiB0cnVlLCBpZ25vcmVJbnZpdGVkQ29udGFjdHM6IHRydWUsIG1heExpbWl0OiA4IH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWN0SW5wdXQsIHsgcGxhY2Vob2xkZXI6ICJ0ZWFtbWF0ZSdzIGVtYWlsIiwgYmxhY2tsaXN0OiBfdGhpcy5zdGF0ZS5ibGFja2xpc3RFbWFpbHMsIGhpZGVQb3BvdmVyV2hlbkluYWN0aXZlOiB0cnVlLCByZXRhaW5WYWx1ZXM6IHRydWUsIGlnbm9yZUludml0ZWRDb250YWN0czogdHJ1ZSwgbWF4TGltaXQ6IDggfSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImFjdGlvbi1idXR0b25zIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyB0eXBlOiAic3VibWl0IiwgY2xhc3NOYW1lOiAic3VibWl0LWJ1dHRvbiIgfSwgIlNlbmQgSW52aXRhdGlvbnMiKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgb25DbGljazogX3RoaXMuaGFuZGxlRmluaXNoLCBjbGFzc05hbWU6ICJza2lwLWJ1dHRvbiIgfSwgIkludml0ZSBMYXRlciIpKSkpOyB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBzZWxlY3RlZEluZGV4OiAwLAogICAgICAgICAgICBjb250YWN0czogW10sCiAgICAgICAgICAgIHNob3dDb25maXJtYXRpb246IGZhbHNlLAogICAgICAgICAgICBzaG93U2VuZGluZzogZmFsc2UsCiAgICAgICAgICAgIGJsYWNrbGlzdEVtYWlsczogW10sCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBUZWFtSW52aXRlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLnByb3BzLmxpc3RUZWFtSW52aXRlcygpOwogICAgfTsKICAgIFRlYW1JbnZpdGUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChvbGRQcm9wcykgewogICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3dTZW5kaW5nICYmIHRoaXMucHJvcHMudGVhbUludml0ZXMubGVuZ3RoID4gb2xkUHJvcHMudGVhbUludml0ZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93Q29uZmlybWF0aW9uOiB0cnVlLCBzaG93U2VuZGluZzogZmFsc2UgfSk7CiAgICAgICAgfQogICAgICAgIHZhciBvbGRUZWFtSW52aXRlcyA9IG9sZFByb3BzLnRlYW1JbnZpdGVzOwogICAgICAgIHZhciBvbGRUZWFtTWVtYmVycyA9IG9sZFByb3BzLnRlYW1NZW1iZXJzOwogICAgICAgIHZhciBvbGRMZW5ndGggPSBvbGRUZWFtSW52aXRlcy5sZW5ndGggKyBvbGRUZWFtTWVtYmVycy5sZW5ndGg7CiAgICAgICAgdmFyIG5ld1RlYW1JbnZpdGVzID0gdGhpcy5wcm9wcy50ZWFtSW52aXRlczsKICAgICAgICB2YXIgbmV3VGVhbU1lbWJlcnMgPSB0aGlzLnByb3BzLnRlYW1NZW1iZXJzOwogICAgICAgIHZhciBuZXdMZW5ndGggPSB0aGlzLnByb3BzLnRlYW1JbnZpdGVzLmxlbmd0aCArIHRoaXMucHJvcHMudGVhbU1lbWJlcnMubGVuZ3RoOwogICAgICAgIGlmIChvbGRMZW5ndGggPCBuZXdMZW5ndGgpIHsKICAgICAgICAgICAgdmFyIG5ld0JsYWNrTGlzdCA9IG5ld1RlYW1JbnZpdGVzCiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpbnZpdGUpIHsgcmV0dXJuIGludml0ZS5lbWFpbDsgfSkKICAgICAgICAgICAgICAgIC5jb25jYXQobmV3VGVhbU1lbWJlcnMubWFwKGZ1bmN0aW9uIChtZW1iZXIpIHsgcmV0dXJuIG1lbWJlci5lbWFpbDsgfSkpOwogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgYmxhY2tsaXN0RW1haWxzOiBuZXdCbGFja0xpc3QgfSk7CiAgICAgICAgfQogICAgfTsKICAgIFRlYW1JbnZpdGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGVhbS1pbnZpdGUiIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicG9seW1haWwtaGVhZGVyIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7IHRvOiAiLyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogTG9nbyB9KSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1haW4tY29udGFpbmVyIiB9LCB0aGlzLnN0YXRlLnNob3dDb25maXJtYXRpb24KICAgICAgICAgICAgICAgID8gdGhpcy5yZW5kZXJTdWNjZXNzKCkKICAgICAgICAgICAgICAgIDogdGhpcy5yZW5kZXJNYWluKCkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRvYXN0LCBudWxsKSkpOwogICAgfTsKICAgIHJldHVybiBUZWFtSW52aXRlOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgVGVhbUludml0ZTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamInvite/TeamInvite.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamInvite/TeamInvite.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport browserHistory from '@src/lib/browserHistory';\n\nimport Logo from '@src/routes/Login/Icons/PolymailLogo@3x.png';\n\nimport { Link } from 'react-router-dom';\nimport { isEmail } from '@src/lib/search';\nimport Toast from '@src/components/Base/Toast';\n\nimport './TeamInvite.scss';\nimport { Contact, Team, TeamInvite as TeamInviteType, TeamMember } from '@src/types';\nimport ContactInput from '@src/components/Form/ContactInput';\n\nexport interface StateProps {\n  teamInvites: TeamInviteType[];\n  teamMembers: TeamMember[];\n  team?: Team;\n}\n\nexport interface Props {\n  inviteTeamMember: (email: string) => void;\n}\n\ninterface State {\n  selectedIndex: number;\n  contacts: Contact[];\n  showConfirmation: boolean;\n  showSending: boolean;\n  blacklistEmails: string[];\n}\n\nexport interface DispatchProps {\n  inviteTeamMember: (email: string) => void;\n  setToast: (e: Error) => void;\n  contactTypehead: (query: string) => void;\n  listTeamInvites: () => void;\n}\n\ninterface State {\n  showConfirmation: boolean;\n}\n\nclass TeamInvite extends React.PureComponent<Props & StateProps & DispatchProps, State> {\n  constructor() {\n    super();\n    this.state = {\n      selectedIndex: 0,\n      contacts: [],\n      showConfirmation: false,\n      showSending: false,\n      blacklistEmails: [],\n    };\n  }\n\n  componentDidMount() {\n    this.props.listTeamInvites();\n  }\n\n  componentDidUpdate(oldProps: StateProps) {\n    if (this.state.showSending && this.props.teamInvites.length > oldProps.teamInvites.length) {\n      this.setState({ showConfirmation: true, showSending: false });\n    }\n\n    const oldTeamInvites = oldProps.teamInvites;\n    const oldTeamMembers = oldProps.teamMembers;\n    const oldLength = oldTeamInvites.length + oldTeamMembers.length;\n\n    const newTeamInvites = this.props.teamInvites;\n    const newTeamMembers = this.props.teamMembers;\n    const newLength = this.props.teamInvites.length + this.props.teamMembers.length;\n\n    if (oldLength < newLength) {\n      const newBlackList = newTeamInvites\n        .map(invite => invite.email)\n        .concat(newTeamMembers.map(member => member.email));\n      this.setState({ blacklistEmails: newBlackList });\n    }\n  }\n\n  handleFinish = () => {\n    browserHistory.push('/');\n  }\n\n  handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const { setToast, inviteTeamMember } = this.props;\n    const node = ReactDOM.findDOMNode(this) as (Element|null);\n    if (!node) {\n      return;\n    }\n\n    const inputs = node.getElementsByClassName('input-fields')[0]\n      .getElementsByTagName('input');\n\n    if (inputs && inputs.length) {\n      const emails = Array.from(inputs)\n        .map(i => i.value)\n        .filter(v => !!v && !!isEmail(v));\n\n      if (!emails.length) {\n        setToast(new Error('Please input valid email addresses'));\n        return;\n      }\n\n      emails.forEach(email => inviteTeamMember(email));\n    }\n\n    this.setState({ showSending: true });\n  }\n\n  handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.props.contactTypehead(event.target.value);\n  }\n\n  renderSuccess = () => (\n    <div className=\"primary success\">\n      <div className=\"title\">\n        {'Your teammates have been invited!  🎉'}\n      </div>\n      <div className=\"description\">\n        We'll let you know once they've joined your team.\n      </div>\n      <div className=\"action-buttons\">\n        <button\n          className=\"submit-button\"\n          onClick={this.handleFinish}\n        >\n          Continue\n        </button>\n      </div>\n    </div>\n  )\n\n  renderMain = () => (\n    <form className=\"primary\" autoComplete=\"none\" onSubmit={this.handleSubmit}>\n      <div className=\"title\">\n        Let's set up your team!\n      </div>\n      <div className=\"description\">\n        {'Invite team members to Polymail to share, discuss, and collaborate on email conversations'\n          + ' together.'}\n      </div>\n      <div className=\"cta\">\n        Send Invitations\n      </div>\n      <div className=\"input-fields\">\n        <ContactInput\n          placeholder=\"teammate's email\"\n          blacklist={this.state.blacklistEmails}\n          hidePopoverWhenInactive\n          retainValues\n          ignoreInvitedContacts\n          maxLimit={8}\n        />\n        <ContactInput\n          placeholder=\"teammate's email\"\n          blacklist={this.state.blacklistEmails}\n          hidePopoverWhenInactive\n          retainValues\n          ignoreInvitedContacts\n          maxLimit={8}\n        />\n        <ContactInput\n          placeholder=\"teammate's email\"\n          blacklist={this.state.blacklistEmails}\n          hidePopoverWhenInactive\n          retainValues\n          ignoreInvitedContacts\n          maxLimit={8}\n        />\n        <ContactInput\n          placeholder=\"teammate's email\"\n          blacklist={this.state.blacklistEmails}\n          hidePopoverWhenInactive\n          retainValues\n          ignoreInvitedContacts\n          maxLimit={8}\n        />\n      </div>\n      <div className=\"action-buttons\">\n        <button type=\"submit\" className=\"submit-button\">\n          Send Invitations\n        </button>\n        <button onClick={this.handleFinish} className=\"skip-button\">\n          Invite Later\n        </button>\n      </div>\n    </form>\n  )\n\n  render() {\n    return (\n      <div className=\"team-invite\">\n        <div className=\"polymail-header\">\n          <Link to=\"/\"><img src={Logo} /></Link>\n        </div>\n        <div className=\"main-container\">\n          {this.state.showConfirmation\n            ? this.renderSuccess()\n            : this.renderMain()\n          }\n        </div>\n        <Toast />\n      </div>\n    );\n  }\n}\n\nexport default TeamInvite;\n"]}]}