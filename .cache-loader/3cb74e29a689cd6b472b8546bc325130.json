{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/VariablePopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/VariablePopover.tsx","mtime":1675280254004},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCAnLi9WYXJpYWJsZVBvcG92ZXIuc2Nzcyc7CnZhciBXSURUSCA9IDE0NTsKdmFyIFZhcmlhYmxlUG9wb3ZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhWYXJpYWJsZVBvcG92ZXIsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBWYXJpYWJsZVBvcG92ZXIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVUb2dnbGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd09wdGlvbnM6ICFfdGhpcy5zdGF0ZS5zaG93T3B0aW9ucyB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVZhcmlhYmxlU2VsZWN0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoZS5jdXJyZW50VGFyZ2V0LmlkKTsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93T3B0aW9uczogIV90aGlzLnN0YXRlLnNob3dPcHRpb25zIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIHNob3dPcHRpb25zOiBmYWxzZSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFZhcmlhYmxlUG9wb3Zlci5wcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7CiAgICAgICAgaWYgKCFuZXh0UHJvcHMuc2hvdykgewogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd09wdGlvbnM6IGZhbHNlIH0pOwogICAgICAgIH0KICAgIH07CiAgICBWYXJpYWJsZVBvcG92ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHRvcCA9IF9hLnRvcCwgdmFyaWFibGVzID0gX2EudmFyaWFibGVzLCBzaG93ID0gX2Euc2hvdzsKICAgICAgICB2YXIgc2hvd09wdGlvbnMgPSB0aGlzLnN0YXRlLnNob3dPcHRpb25zOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ2YXJpYWJsZS1wb3BvdmVyIiwgc3R5bGU6IHsKICAgICAgICAgICAgICAgIHRvcDogdG9wICsgInB4IiwKICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IC1XSURUSCAtIDE1ICsgInB4IiwKICAgICAgICAgICAgICAgIGRpc3BsYXk6IHNob3cgPyAnZmxleCcgOiAnbm9uZScsCiAgICAgICAgICAgICAgICB3aWR0aDogV0lEVEggKyAicHgiLAogICAgICAgICAgICB9IH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAidGl0bGUiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVRvZ2dsZSwgdGFiSW5kZXg6IC0xIH0sICJWQVJJQUJMRVMiKSwKICAgICAgICAgICAgc2hvd09wdGlvbnMgJiYgdmFyaWFibGVzLm1hcChmdW5jdGlvbiAodmFyaWFibGUsIGluZGV4KSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJ2YXJpYWJsZSIsIGtleTogaW5kZXgsIG9uQ2xpY2s6IF90aGlzLmhhbmRsZVZhcmlhYmxlU2VsZWN0LCBpZDogdmFyaWFibGUgfSwgdmFyaWFibGUpKTsgfSkpKTsKICAgIH07CiAgICByZXR1cm4gVmFyaWFibGVQb3BvdmVyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgVmFyaWFibGVQb3BvdmVyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/VariablePopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/VariablePopover.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,wBAAwB,CAAC;AAchC,IAAM,KAAK,GAAG,GAAG,CAAC;AAElB;IAA8B,mCAAiC;IAC7D;QAAA,YACE,iBAAO,SAKR;QAED,kBAAY,GAAG;YACb,KAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QAC1D,CAAC,CAAA;QAED,0BAAoB,GAAG,UAAC,CAA0C;YAChE,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YACxC,KAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QAC1D,CAAC,CAAA;QAZC,KAAI,CAAC,KAAK,GAAG;YACX,WAAW,EAAE,KAAK;SACnB,CAAC;;IACJ,CAAC;IAWD,0DAAgC,GAAhC,UAAiC,SAAgB;QAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;YACnB,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC;SACvC;IACH,CAAC;IAED,gCAAM,GAAN;QAAA,iBAiCC;QAhCO,IAAA,eAAqC,EAAnC,YAAG,EAAE,wBAAS,EAAE,cAAmB,CAAC;QACpC,IAAA,oCAAW,CAAgB;QAEnC,OAAO,CACL,6BACE,SAAS,EAAC,kBAAkB,EAC5B,KAAK,EAAE;gBACL,GAAG,EAAK,GAAG,OAAI;gBACf,UAAU,EAAK,CAAC,KAAK,GAAG,EAAE,OAAI;gBAC9B,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;gBAC/B,KAAK,EAAK,KAAK,OAAI;aACpB;YAED,gCACE,SAAS,EAAC,OAAO,EACjB,OAAO,EAAE,IAAI,CAAC,YAAY,EAC1B,QAAQ,EAAE,CAAC,CAAC,gBAGL;YACR,WAAW,IAAI,SAAS,CAAC,GAAG,CAAC,UAAC,QAAgB,EAAE,KAAa,IAAK,OAAA,CACjE,gCACE,SAAS,EAAC,UAAU,EACpB,GAAG,EAAE,KAAK,EACV,OAAO,EAAE,KAAI,CAAC,oBAAoB,EAClC,EAAE,EAAE,QAAQ,IAEX,QAAQ,CACF,CACV,EATkE,CASlE,CAAC,CACE,CACP,CAAC;IACJ,CAAC;IACH,sBAAC;AAAD,CAAC,AA1DD,CAA8B,KAAK,CAAC,aAAa,GA0DhD;AAED,eAAe,eAAe,CAAC","sourcesContent":["import React from 'react';\n\nimport './VariablePopover.scss';\n\ninterface Props {\n  variables: string[];\n  top: number;\n  right: number;\n  onSelect: (value: string) => void;\n  show: boolean;\n}\n\ninterface State {\n  showOptions: boolean;\n}\n\nconst WIDTH = 145;\n\nclass VariablePopover extends React.PureComponent<Props, State> {\n  constructor() {\n    super();\n\n    this.state = {\n      showOptions: false,\n    };\n  }\n\n  handleToggle = () => {\n    this.setState({ showOptions: !this.state.showOptions });\n  }\n\n  handleVariableSelect = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    this.props.onSelect(e.currentTarget.id);\n    this.setState({ showOptions: !this.state.showOptions });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    if (!nextProps.show) {\n      this.setState({ showOptions: false });\n    }\n  }\n\n  render() {\n    const { top, variables, show } = this.props;\n    const { showOptions } = this.state;\n\n    return (\n      <div\n        className=\"variable-popover\"\n        style={{\n          top: `${top}px`,\n          marginLeft: `${-WIDTH - 15}px`,\n          display: show ? 'flex' : 'none',\n          width: `${WIDTH}px`,\n        }}\n      >\n        <button\n          className=\"title\"\n          onClick={this.handleToggle}\n          tabIndex={-1}\n        >\n          VARIABLES\n        </button>\n        {showOptions && variables.map((variable: string, index: number) => (\n          <button\n            className=\"variable\"\n            key={index}\n            onClick={this.handleVariableSelect}\n            id={variable}\n          >\n            {variable}\n          </button>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default VariablePopover;\n"]}]}