{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/hubspot.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/hubspot.ts","mtime":1675280253980},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkgewogICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHsKICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKQogICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgfTsKICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9OwppbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IGpzb25SZXF1ZXN0IH0gZnJvbSAnLi9iYXNlJzsKaW1wb3J0IHsgY3JlYXRlSHVic3BvdFByb2ZpbGUgfSBmcm9tICdAc3JjL21vY2tzL2h1YnNwb3QnOwp2YXIgSHVic3BvdENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEh1YnNwb3RDbGllbnQoKSB7CiAgICB9CiAgICBIdWJzcG90Q2xpZW50LnByb3RvdHlwZS5mZXRjaENvbnRhY3QgPSBmdW5jdGlvbiAoZW1haWwpIHsKICAgICAgICByZXR1cm4ganNvblJlcXVlc3QoewogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgcm91dGU6ICIvdjEvaHVic3BvdC9jb250YWN0cy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KGVtYWlsKSwKICAgICAgICB9KQogICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiAoX19hc3NpZ24oeyBjb250YWN0czogW10gfSwgYykpOyB9KTsKICAgIH07CiAgICByZXR1cm4gSHVic3BvdENsaWVudDsKfSgpKTsKZXhwb3J0IHsgSHVic3BvdENsaWVudCB9OwpleHBvcnQgZnVuY3Rpb24gbW9ja0h1YnNwb3RDbGllbnQoKSB7CiAgICByZXR1cm4gewogICAgICAgIGZldGNoQ29udGFjdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JzZXJ2YWJsZS5vZihjcmVhdGVIdWJzcG90UHJvZmlsZSgpKTsgfSwKICAgIH07Cn0K"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/hubspot.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/api/hubspot.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,MAAM,CAAC;AAElC,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAC;AACrC,OAAO,EAAE,oBAAoB,EAAE,MAAM,oBAAoB,CAAC;AAM1D;IAAA;IAYA,CAAC;IAXC,oCAAY,GAAZ,UAAa,KAAa;QACxB,OAAO,WAAW,CAAC;YACjB,MAAM,EAAE,MAAM;YACd,KAAK,EAAE,0BAAwB,kBAAkB,CAAC,KAAK,CAAG;SAC3D,CAAC;aACD,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,YACR,QAAQ,EAAE,EAAE,IACT,CAAC,EACJ,EAHQ,CAGR,CAAC,CACF;IACH,CAAC;IACH,oBAAC;AAAD,CAAC,AAZD,IAYC;;AAED,MAAM,UAAU,iBAAiB;IAC/B,OAAO;QACL,YAAY,EAAE,cAAM,OAAA,UAAU,CAAC,EAAE,CAAC,oBAAoB,EAAE,CAAC,EAArC,CAAqC;KAC1D,CAAC;AACJ,CAAC","sourcesContent":["import { Observable } from 'rxjs';\nimport { HubspotContactProfile } from '@src/types/hubspot';\nimport { jsonRequest } from './base';\nimport { createHubspotProfile } from '@src/mocks/hubspot';\n\nexport interface HubspotAPI {\n  fetchContact(email: string): Observable<HubspotContactProfile>;\n}\n\nexport class HubspotClient implements HubspotAPI {\n  fetchContact(email: string): Observable<HubspotContactProfile> {\n    return jsonRequest({\n      method: 'POST',\n      route: `/v1/hubspot/contacts/${encodeURIComponent(email)}`,\n    })\n    .map(c => ({\n      contacts: [],\n      ...c,\n    }))\n    ;\n  }\n}\n\nexport function mockHubspotClient(): HubspotAPI {\n  return {\n    fetchContact: () => Observable.of(createHubspotProfile()),\n  };\n}\n"]}]}