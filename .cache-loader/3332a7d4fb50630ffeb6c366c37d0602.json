{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/index.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/index.tsx","mtime":1675280254090},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IFNlcXVlbmNlRGV0YWlsIGZyb20gJy4vU2VxdWVuY2VEZXRhaWwnOwppbXBvcnQgeyBzZXF1ZW5jZVVwZGF0ZSwgc2VxdWVuY2VDc3ZVcGxvYWQsIHNlcXVlbmNlRHVwbGljYXRlLCBzZXF1ZW5jZURlbGV0ZSwgc2VxdWVuY2VFeHBvcnQsIHNlcXVlbmNlU2hhcmUsIH0gZnJvbSAnQHNyYy9kdWNrcy9zZXF1ZW5jZXMnOwppbXBvcnQgeyBzZWxlY3RUZWFtTWVtYmVyIH0gZnJvbSAnQHNyYy9kdWNrcy90ZWFtTWVtYmVycyc7CmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXInOwppbXBvcnQgeyBzZXF1ZW5jZVJlY2lwaWVudENyZWF0ZSwgc2VxdWVuY2VSZWNpcGllbnRBZGRTaG93LCBzZXF1ZW5jZVJlY2lwaWVudEhlYWRlcnNBZGQsIHNlcXVlbmNlUmVjaXBpZW50U3VjY2Vzc0NvdW50Q2xlYXIsIH0gZnJvbSAnQHNyYy9kdWNrcy9zZXF1ZW5jZVJlY2lwaWVudHMnOwppbXBvcnQgeyBvbmJvYXJkaW5nUGF0Y2ggfSBmcm9tICdAc3JjL2R1Y2tzL21lJzsKaW1wb3J0IHsgc2VxdWVuY2VTdGFnZUNyZWF0ZSB9IGZyb20gJ0BzcmMvZHVja3Mvc2VxdWVuY2VTdGFnZXMnOwppbXBvcnQgeyB2YWx1ZXMsIGZsYXR0ZW4gfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyBzZWxlY3RBdmFpbGFibGVTZXF1ZW5jZVN0YWdlSW5zdGFuY2VzIH0gZnJvbSAnQHNyYy9kdWNrcy9zZXF1ZW5jZVN0YWdlSW5zdGFuY2VzJzsKdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZSwgb3duUHJvcHMpIHsKICAgIHZhciBzZWxlY3RlZFNlcXVlbmNlID0gb3duUHJvcHMubWF0Y2ggJiYgb3duUHJvcHMubWF0Y2gucGFyYW1zLnNlcXVlbmNlSWQ7CiAgICB2YXIgc2VxdWVuY2UgPSBzZWxlY3RlZFNlcXVlbmNlID8gc3RhdGUuc2VxdWVuY2VzW3NlbGVjdGVkU2VxdWVuY2VdIDogdW5kZWZpbmVkOwogICAgdmFyIHN0YWdlcyA9IHNlbGVjdGVkU2VxdWVuY2UgJiYgc3RhdGUuc2VxdWVuY2VTdGFnZXNbc2VsZWN0ZWRTZXF1ZW5jZV07CiAgICB2YXIgYXJyYXlTdGFnZXMgPSBzdGFnZXMgJiYgdmFsdWVzKHN0YWdlcykKICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdGFnZSkgeyByZXR1cm4gISFzdGFnZS5kYXRhOyB9KQogICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmRhdGEub3JkZXIgLSBiLmRhdGEub3JkZXI7IH0pIHx8IFtdOwogICAgdmFyIHJlY2lwaWVudHNDb3VudCA9IHNlcXVlbmNlICYmIHNlcXVlbmNlLmRhdGEgJiYKICAgICAgICBzdGF0ZS5zZXF1ZW5jZVJlY2lwaWVudHNbc2VxdWVuY2UuZGF0YS5pZF0gJiYKICAgICAgICBPYmplY3Qua2V5cyhzdGF0ZS5zZXF1ZW5jZVJlY2lwaWVudHNbc2VxdWVuY2UuZGF0YS5pZF0pLmxlbmd0aDsKICAgIC8vIEZsYXR0ZW5lZCBhcnJheSBvZiBhbGwgaW5zdGFuY2VzIGZvciBzZXF1ZW5jZQogICAgdmFyIGFsbEluc3RhbmNlcyA9IGZsYXR0ZW4oYXJyYXlTdGFnZXMKICAgICAgICAubWFwKGZ1bmN0aW9uIChzdGFnZSkgeyByZXR1cm4gc2VsZWN0QXZhaWxhYmxlU2VxdWVuY2VTdGFnZUluc3RhbmNlcyhzdGF0ZSwgc3RhZ2UuZGF0YSk7IH0pKTsKICAgIHJldHVybiB7CiAgICAgICAgc2VxdWVuY2U6IHNlcXVlbmNlLAogICAgICAgIHVzZXI6IHNlcXVlbmNlICYmIHNlcXVlbmNlLmRhdGEgPwogICAgICAgICAgICBzZWxlY3RUZWFtTWVtYmVyKHN0YXRlLCBzZXF1ZW5jZS5kYXRhLnVzZXIpIDogdW5kZWZpbmVkLAogICAgICAgIHNlbGVjdGVkVGFiOiBzdGF0ZS5zZWxlY3RlZFNlcXVlbmNlVGFiLAogICAgICAgIHRlYW06IHN0YXRlLnRlYW0gJiYgc3RhdGUudGVhbS5kYXRhLAogICAgICAgIG9uYm9hcmRpbmc6IHN0YXRlLm9uYm9hcmRpbmcsCiAgICAgICAgc3RhZ2VzOiBhcnJheVN0YWdlcywKICAgICAgICBpbnN0YW5jZXM6IGFsbEluc3RhbmNlcywKICAgICAgICBzZXF1ZW5jZVJlY2lwaWVudHNBZGRTdGF0ZTogc3RhdGUuc2VxdWVuY2VSZWNpcGllbnRzQWRkU3RhdGUsCiAgICAgICAgc2VxdWVuY2VSZWNpcGllbnRzQ291bnQ6IHJlY2lwaWVudHNDb3VudCB8fCAwLAogICAgfTsKfTsKdmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIChkaXNwYXRjaCkgeyByZXR1cm4gKHsKICAgIHVwZGF0ZVNlcXVlbmNlOiBmdW5jdGlvbiAoc2VxdWVuY2UpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlVXBkYXRlKHNlcXVlbmNlKSk7IH0sCiAgICBzaGFyZVNlcXVlbmNlOiBmdW5jdGlvbiAoc2VxdWVuY2UpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlU2hhcmUoc2VxdWVuY2UpKTsgfSwKICAgIHVwbG9hZENzdjogZnVuY3Rpb24gKG1ldGEpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlQ3N2VXBsb2FkKG1ldGEpKTsgfSwKICAgIGR1cGxpY2F0ZVNlcXVlbmNlOiBmdW5jdGlvbiAoc2VxdWVuY2UpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlRHVwbGljYXRlKHNlcXVlbmNlKSk7IH0sCiAgICBkZWxldGVTZXF1ZW5jZTogZnVuY3Rpb24gKHNlcXVlbmNlKSB7IHJldHVybiBkaXNwYXRjaChzZXF1ZW5jZURlbGV0ZShzZXF1ZW5jZSkpOyB9LAogICAgZXhwb3J0U2VxdWVuY2U6IGZ1bmN0aW9uIChzZXF1ZW5jZSkgeyByZXR1cm4gZGlzcGF0Y2goc2VxdWVuY2VFeHBvcnQoc2VxdWVuY2UpKTsgfSwKICAgIGFkZFJlY2lwaWVudHM6IGZ1bmN0aW9uIChyZWNpcGllbnQpIHsKICAgICAgICByZXR1cm4gZGlzcGF0Y2goc2VxdWVuY2VSZWNpcGllbnRDcmVhdGUocmVjaXBpZW50KSk7CiAgICB9LAogICAgdXBkYXRlT25ib2FyZGluZzogZnVuY3Rpb24gKG9uYm9hcmRpbmcpIHsgcmV0dXJuIGRpc3BhdGNoKG9uYm9hcmRpbmdQYXRjaChvbmJvYXJkaW5nKSk7IH0sCiAgICBjcmVhdGVTdGFnZTogZnVuY3Rpb24gKG1ldGEpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlU3RhZ2VDcmVhdGUobWV0YSkpOyB9LAogICAgc2hvd1NlcXVlbmNlUmVjaXBpZW50QWRkOiBmdW5jdGlvbiAoc2hvdWxkU2hvdykgeyByZXR1cm4gZGlzcGF0Y2goc2VxdWVuY2VSZWNpcGllbnRBZGRTaG93KHNob3VsZFNob3cpKTsgfSwKICAgIGFkZFNlcXVlbmNlUmVjaXBpZW50SGVhZGVyczogZnVuY3Rpb24gKG1ldGEpIHsgcmV0dXJuIGRpc3BhdGNoKHNlcXVlbmNlUmVjaXBpZW50SGVhZGVyc0FkZChtZXRhKSk7IH0sCiAgICBjbGVhclNlcXVlbmNlUmVjaXBpZW50U3VjY2Vzc0NvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwYXRjaChzZXF1ZW5jZVJlY2lwaWVudFN1Y2Nlc3NDb3VudENsZWFyKG51bGwpKTsgfSwKfSk7IH07CmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoU2VxdWVuY2VEZXRhaWwpKTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/index.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Sequences/routes/SequenceDetail/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { connect, Dispatch } from 'react-redux';\nimport { StoreState } from '@src/types';\nimport { Sequence } from '@src/types/sequences';\n\nimport SequenceDetail, { StateProps, DispatchProps } from './SequenceDetail';\nimport {\n  sequenceUpdate,\n  sequenceCsvUpload,\n  sequenceDuplicate,\n  sequenceDelete,\n  sequenceExport,\n  sequenceShare,\n} from '@src/ducks/sequences';\nimport { selectTeamMember } from '@src/ducks/teamMembers';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport {\n  SequenceRecipientCreateMeta,\n  sequenceRecipientCreate,\n  sequenceRecipientAddShow,\n  sequenceRecipientHeadersAdd,\n  sequenceRecipientSuccessCountClear,\n} from '@src/ducks/sequenceRecipients';\nimport { onboardingPatch } from '@src/ducks/me';\nimport { sequenceStageCreate } from '@src/ducks/sequenceStages';\nimport { values, flatten } from 'lodash';\nimport { selectAvailableSequenceStageInstances } from '@src/ducks/sequenceStageInstances';\n\nconst mapStateToProps = (state: StoreState, ownProps: RouteComponentProps<any>): StateProps => {\n  const selectedSequence = ownProps.match && ownProps.match.params.sequenceId;\n  const sequence = selectedSequence ? state.sequences[selectedSequence] : undefined;\n  const stages = selectedSequence && state.sequenceStages[selectedSequence];\n  const arrayStages = stages && values(stages)\n    .filter(stage => !!stage.data)\n    .sort((a, b) => a.data!.order - b.data!.order) || [];\n  const recipientsCount = sequence && sequence.data &&\n    state.sequenceRecipients[sequence.data.id] &&\n    Object.keys(state.sequenceRecipients[sequence.data.id]).length;\n\n  // Flattened array of all instances for sequence\n  const allInstances = flatten(arrayStages\n    .map(stage => selectAvailableSequenceStageInstances(state, stage.data!)));\n  return {\n    sequence,\n    user: sequence && sequence.data ?\n      selectTeamMember(state, sequence.data.user) : undefined,\n    selectedTab: state.selectedSequenceTab,\n    team: state.team && state.team.data,\n    onboarding: state.onboarding,\n    stages: arrayStages,\n    instances: allInstances,\n    sequenceRecipientsAddState: state.sequenceRecipientsAddState,\n    sequenceRecipientsCount: recipientsCount || 0,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<StoreState>): DispatchProps => ({\n  updateSequence: (sequence: Sequence) => dispatch(sequenceUpdate(sequence)),\n  shareSequence: (sequence: Sequence) => dispatch(sequenceShare(sequence)),\n  uploadCsv: meta => dispatch(sequenceCsvUpload(meta)),\n  duplicateSequence: (sequence: string) => dispatch(sequenceDuplicate(sequence)),\n  deleteSequence: (sequence: Sequence) => dispatch(sequenceDelete(sequence)),\n  exportSequence: (sequence: Sequence) => dispatch(sequenceExport(sequence)),\n  addRecipients: (recipient: SequenceRecipientCreateMeta) =>\n    dispatch(sequenceRecipientCreate(recipient)),\n  updateOnboarding: onboarding => dispatch(onboardingPatch(onboarding)),\n  createStage: meta => dispatch(sequenceStageCreate(meta)),\n  showSequenceRecipientAdd: shouldShow => dispatch(sequenceRecipientAddShow(shouldShow)),\n  addSequenceRecipientHeaders: meta => dispatch(sequenceRecipientHeadersAdd(meta)),\n  clearSequenceRecipientSuccessCount: () => dispatch(sequenceRecipientSuccessCountClear(null)),\n});\n\nexport default withRouter(connect<StateProps, DispatchProps>(\n  mapStateToProps, mapDispatchToProps,\n)(SequenceDetail));\n"]}]}