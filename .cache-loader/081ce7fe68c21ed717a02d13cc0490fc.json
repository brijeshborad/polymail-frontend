{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/EventDetail/EventDetail.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/EventDetail/EventDetail.tsx","mtime":1675280253996},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBFZGl0YWJsZUlucHV0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9Gb3JtL0VkaXRhYmxlSW5wdXQvRWRpdGFibGVJbnB1dCc7CmltcG9ydCBSZWNpcGllbnRzRWRpdG9yQ29ubmVjdCBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9SZWNpcGllbnRzRWRpdG9yJzsKaW1wb3J0IHsgRWRpdG9yVHlwZSwgfSBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9SZWNpcGllbnRzRWRpdG9yL1JlY2lwaWVudHNFZGl0b3InOwppbXBvcnQgQ29udGFjdEdyb3VwIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9Db250YWN0R3JvdXAuc3ZnJzsKaW1wb3J0IFRlbXBsYXRlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9UZW1wbGF0ZS5zdmcnOwppbXBvcnQgTG9jYXRpb24gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0xvY2F0aW9uLnN2Zyc7CmltcG9ydCB7IEV2ZW50UmVjaXBpZW50VHlwZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgJy4vRXZlbnREZXRhaWwuc2Nzcyc7CmltcG9ydCB7IHBhcnNlQWRkcmVzcyB9IGZyb20gJ0BzcmMvbGliL2FkZHJlc3MnOwp2YXIgRXZlbnREZXRhaWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoRXZlbnREZXRhaWwsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBFdmVudERldGFpbCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVNldCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uVXBkYXRlID0gX2Eub25VcGRhdGUsIHN0YXJ0VGltZSA9IF9hLnN0YXJ0VGltZSwgZW5kVGltZSA9IF9hLmVuZFRpbWU7CiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IHZhbHVlOwogICAgICAgICAgICBpZiAocHJvcGVydHkgPT09ICdzdGFydFRpbWUnKSB7CiAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IG1vbWVudChzdGFydFRpbWUuZm9ybWF0KCdNTS1ERC1ZWVlZJykgKyAiICIgKyB2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgPT09ICdlbmRUaW1lJykgewogICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBtb21lbnQoZW5kVGltZS5mb3JtYXQoJ01NLURELVlZWVknKSArICIgIiArIHZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV3VmFsdWUgfHwgbmV3VmFsdWUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICBvblVwZGF0ZShwcm9wZXJ0eSwgbmV3VmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIGlmIChyZWYpIHsKICAgICAgICAgICAgICAgIF90aGlzLnJlY2lwaWVudHNFZGl0b3IgPSByZWYuZ2V0V3JhcHBlZEluc3RhbmNlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU5hbWVJbnB1dFJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMubmFtZUlucHV0ID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTG9jYXRpb25JbnB1dFJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMubG9jYXRpb25JbnB1dCA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU5vdGVzSW5wdXRSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLm5vdGVzSW5wdXQgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVOYW1lSW5wdXRUYWIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoX3RoaXMudGltZW91dCkgewogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2NhdGlvbklucHV0LmVkaXQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVMb2NhdGlvbklucHV0VGFiID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnRpbWVvdXQpIHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lb3V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy50aW1lb3V0ID0gZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5uYW1lSW5wdXQuZWRpdCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5yZWNpcGllbnRFZGl0b3JGb2N1c2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgcmVjaXBpZW50RWRpdG9yRm9jdXNlZDogZmFsc2UgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBpZW50c0VkaXRvci5mb2N1cygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAwKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlY2lwaWVudEVkaXRvclRhYiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnRpbWVvdXQpIHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lb3V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUucmVjaXBpZW50RWRpdG9yRm9jdXNlZCkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyByZWNpcGllbnRFZGl0b3JGb2N1c2VkOiBmYWxzZSB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy50aW1lb3V0ID0gZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMubm90ZXNJbnB1dC5lZGl0KCk7CiAgICAgICAgICAgIH0sIDApOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVjaXBpZW50RWRpdG9yU2hpZnRUYWIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy50aW1lb3V0KSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMudGltZW91dCA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzLmxvY2F0aW9uSW5wdXQuZWRpdCgpOwogICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLnJlY2lwaWVudEVkaXRvckZvY3VzZWQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHJlY2lwaWVudEVkaXRvckZvY3VzZWQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAwKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU5vdGVzSW5wdXRUYWIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoX3RoaXMudGltZW91dCkgewogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnJlY2lwaWVudHNFZGl0b3IuZm9jdXMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZWNpcGllbnRzQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3QsIG5ld1JlY2lwaWVudHMpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uVXBkYXRlID0gX2Eub25VcGRhdGUsIHJlY2lwaWVudHMgPSBfYS5yZWNpcGllbnRzOwogICAgICAgICAgICBvblVwZGF0ZSgncmVjaXBpZW50cycsIG5ld1JlY2lwaWVudHMubWFwKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVjaXBpZW50cy5maW5kKGZ1bmN0aW9uIChyZWNpcGllbnQpIHsgcmV0dXJuIHJlY2lwaWVudC5kaXNwbGF5TmFtZSA9PT0gcjsgfSkgfHwgewogICAgICAgICAgICAgICAgICAgIHR5cGU6IEV2ZW50UmVjaXBpZW50VHlwZS5Db250YWN0LAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiByLAogICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHBhcnNlQWRkcmVzcyhyKS5lbWFpbCwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvbnRhY3RHcm91cEFkZCA9IGZ1bmN0aW9uIChsaXN0LCBjb250YWN0R3JvdXApIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uVXBkYXRlID0gX2Eub25VcGRhdGUsIHJlY2lwaWVudHMgPSBfYS5yZWNpcGllbnRzOwogICAgICAgICAgICBvblVwZGF0ZSgncmVjaXBpZW50cycsIHJlY2lwaWVudHMuY29uY2F0KFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiBFdmVudFJlY2lwaWVudFR5cGUuQ29udGFjdEdyb3VwLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBjb250YWN0R3JvdXAubmFtZSwKICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBjb250YWN0R3JvdXAuaWQsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdKSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVOYW1lSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAocHJvcGVydHksIHRleHQpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkaXNhYmxlQ3RhOiAhdGV4dCB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlY2lwaWVudEVkaXRvckZvY3VzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICByZWNpcGllbnRFZGl0b3JGb2N1c2VkOiB0cnVlLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBkaXNhYmxlQ3RhOiB0cnVlLAogICAgICAgICAgICByZWNpcGllbnRFZGl0b3JGb2N1c2VkOiBmYWxzZSwKICAgICAgICAgICAgcmVjaXBpZW50TmFtZXM6IFtdLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgRXZlbnREZXRhaWwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdGhpcy50aW1lb3V0ID0gZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubmFtZUlucHV0LmVkaXQoKTsgfSwgMCk7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgIGRpc2FibGVDdGE6ICF0aGlzLnByb3BzLm5hbWUsCiAgICAgICAgICAgIHJlY2lwaWVudEVkaXRvckZvY3VzZWQ6IGZhbHNlLAogICAgICAgICAgICByZWNpcGllbnROYW1lczogdGhpcy5wcm9wcy5yZWNpcGllbnRzLm1hcChmdW5jdGlvbiAocmVjaXBpZW50KSB7IHJldHVybiByZWNpcGllbnQuZGlzcGxheU5hbWU7IH0pLAogICAgICAgIH0pOwogICAgfTsKICAgIEV2ZW50RGV0YWlsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAgIH0KICAgIH07CiAgICBFdmVudERldGFpbC5wcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7CiAgICAgICAgaWYgKHRoaXMucHJvcHMubmFtZSAhPT0gbmV4dFByb3BzLm5hbWUpIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRpc2FibGVDdGE6ICFuZXh0UHJvcHMubmFtZSB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVjaXBpZW50cyAhPT0gbmV4dFByb3BzLnJlY2lwaWVudHMpIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICByZWNpcGllbnROYW1lczogbmV4dFByb3BzLnJlY2lwaWVudHMubWFwKGZ1bmN0aW9uIChyZWNpcGllbnQpIHsgcmV0dXJuIHJlY2lwaWVudC5kaXNwbGF5TmFtZTsgfSksCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICBFdmVudERldGFpbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHJlYWRPbmx5ID0gX2EucmVhZE9ubHksIG5hbWUgPSBfYS5uYW1lLCBub3RlcyA9IF9hLm5vdGVzLCBzdGFydFRpbWUgPSBfYS5zdGFydFRpbWUsIGVuZFRpbWUgPSBfYS5lbmRUaW1lLCBvbkFkZCA9IF9hLm9uQWRkLCBjdGFUZXh0ID0gX2EuY3RhVGV4dCwgbG9jYXRpb24gPSBfYS5sb2NhdGlvbjsKICAgICAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLCBkaXNhYmxlQ3RhID0gX2IuZGlzYWJsZUN0YSwgcmVjaXBpZW50TmFtZXMgPSBfYi5yZWNpcGllbnROYW1lczsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdldmVudC1kZXRhaWwnKSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRldGFpbHMiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRhYmxlSW5wdXQsIHsgY2xhc3NOYW1lOiAiZXZlbnQtbmFtZSIsIGtleTogImV2ZW50LW5hbWUiLCB0ZXh0OiBuYW1lLCBwcm9wZXJ0eTogIm5hbWUiLCBvblNldDogdGhpcy5oYW5kbGVTZXQsIHBsYWNlaG9sZGVyOiAiQWRkIGV2ZW50IG5hbWUiLCByZWFkT25seTogcmVhZE9ubHksIHJlZjogdGhpcy5oYW5kbGVOYW1lSW5wdXRSZWYsIG9uVGFiOiB0aGlzLmhhbmRsZU5hbWVJbnB1dFRhYiwgc2hvd0lmRW1wdHk6IHRydWUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZU5hbWVJbnB1dENoYW5nZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGF0ZSIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgc3RhcnRUaW1lLmZvcm1hdCgnZGRkZCwgTU1NTSBELCBZWVlZJykpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGltZXMiIH0sIHN0YXJ0VGltZS5mb3JtYXQoJ2g6bW0gYScpICsgIiB0byAiICsgZW5kVGltZS5mb3JtYXQoJ2g6bW0gYScpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibG9jYXRpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpY29uLWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMb2NhdGlvbiwgeyBjbGFzc05hbWU6ICJpY29uIiB9KSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0YWJsZUlucHV0LCB7IGNsYXNzTmFtZTogImV2ZW50LWxvY2F0aW9uIiwga2V5OiAiZXZlbnQtbG9jYXRpb24iLCB0ZXh0OiBsb2NhdGlvbiwgcHJvcGVydHk6ICJsb2NhdGlvbiIsIG9uU2V0OiB0aGlzLmhhbmRsZVNldCwgcGxhY2Vob2xkZXI6ICJBZGQgbG9jYXRpb24iLCBzaG93SWZFbXB0eTogdHJ1ZSwgcmVhZE9ubHk6IHJlYWRPbmx5LCByZWY6IHRoaXMuaGFuZGxlTG9jYXRpb25JbnB1dFJlZiwgb25UYWI6IHRoaXMuaGFuZGxlTG9jYXRpb25JbnB1dFRhYiB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInJlY2lwaWVudHMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpY29uLWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWN0R3JvdXAsIHsgY2xhc3NOYW1lOiAiaWNvbiIgfSkpLAogICAgICAgICAgICAgICAgICAgICFyZWFkT25seSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGllbnRzRWRpdG9yQ29ubmVjdCwgeyBpZDogRWRpdG9yVHlwZS5FdmVudCwgcmVmOiB0aGlzLmhhbmRsZVJlZiwgcmVjaXBpZW50czogcmVjaXBpZW50TmFtZXMsIG9uUmVjaXBpZW50c0NoYW5nZTogdGhpcy5oYW5kbGVSZWNpcGllbnRzQ2hhbmdlLCBmb2N1c2VkOiB0cnVlLCBvbkZvY3VzOiB0aGlzLmhhbmRsZVJlY2lwaWVudEVkaXRvckZvY3VzLCBvbkNvbnRhY3RHcm91cEFkZDogdGhpcy5oYW5kbGVDb250YWN0R3JvdXBBZGQsIG9uVGFiUHJlc3M6IHRoaXMuaGFuZGxlUmVjaXBpZW50RWRpdG9yVGFiLCBvblNoaWZ0VGFiUHJlc3M6IHRoaXMuaGFuZGxlUmVjaXBpZW50RWRpdG9yU2hpZnRUYWIgfSkpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibm90ZXMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpY29uLWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZW1wbGF0ZSwgeyBjbGFzc05hbWU6ICJpY29uIiB9KSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0YWJsZUlucHV0LCB7IGNsYXNzTmFtZTogImV2ZW50LW5vdGVzIiwga2V5OiAiZXZlbnQtbm90ZXMiLCB0ZXh0OiBub3RlcywgcHJvcGVydHk6ICJub3RlcyIsIG9uU2V0OiB0aGlzLmhhbmRsZVNldCwgbnVtYmVyT2ZMaW5lczogNSwgcGxhY2Vob2xkZXI6ICJBZGQgbm90ZXMiLCBzaG93SWZFbXB0eTogdHJ1ZSwgcmVhZE9ubHk6IHJlYWRPbmx5LCByZWY6IHRoaXMuaGFuZGxlTm90ZXNJbnB1dFJlZiwgb25UYWI6IHRoaXMuaGFuZGxlTm90ZXNJbnB1dFRhYiB9KSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImJvdHRvbS1hY3Rpb24tYmFyIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2FkZC1idXR0b24nLCB7IGRpc2FibGVkOiBkaXNhYmxlQ3RhIH0pLCBvbkNsaWNrOiBvbkFkZCB9LCBjdGFUZXh0KSkpKTsKICAgIH07CiAgICByZXR1cm4gRXZlbnREZXRhaWw7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBFdmVudERldGFpbDsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/EventDetail/EventDetail.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/CommandControl/components/Calendar/components/EventDetail/EventDetail.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport moment, { Moment } from 'moment';\nimport EditableInput from '@src/components/Form/EditableInput/EditableInput';\nimport RecipientsEditorConnect from '@src/components/Form/RecipientsEditor';\nimport RecipientsEditor, {\n  EditorType,\n} from '@src/components/Form/RecipientsEditor/RecipientsEditor';\n\nimport ContactGroup from '@src/components/Icons/ContactGroup.svg';\nimport Template from '@src/components/Icons/Template.svg';\nimport Location from '@src/components/Icons/Location.svg';\nimport { EventRecipient, EventRecipientType, ContactGroup as ContactGroupType } from '@src/types';\n\nimport './EventDetail.scss';\nimport { parseAddress } from '@src/lib/address';\n\ninterface Props {\n  readOnly?: boolean;\n  name: string;\n  recipients: EventRecipient[];\n  notes: string;\n  onUpdate: (property: string, value: string | Moment | EventRecipient[]) => void;\n  startTime: Moment;\n  endTime: Moment;\n  onAdd: () => void;\n  ctaText: string;\n  location: string;\n}\n\ninterface State {\n  disableCta: boolean;\n  recipientEditorFocused: boolean;\n  recipientNames: string[];\n}\n\nclass EventDetail extends React.PureComponent<Props, State> {\n  private recipientsEditor: RecipientsEditor;\n  private nameInput: EditableInput;\n  private locationInput: EditableInput;\n  private notesInput: EditableInput;\n  private timeout: NodeJS.Timer;\n\n  constructor() {\n    super();\n\n    this.state = {\n      disableCta: true,\n      recipientEditorFocused: false,\n      recipientNames: [],\n    };\n  }\n\n  componentDidMount() {\n    this.timeout = global.setTimeout(() => this.nameInput.edit(), 0);\n    this.setState({\n      disableCta: !this.props.name,\n      recipientEditorFocused: false,\n      recipientNames: this.props.recipients.map(recipient => recipient.displayName),\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    if (this.props.name !== nextProps.name) {\n      this.setState({ disableCta: ! nextProps.name });\n    }\n\n    if (this.props.recipients !== nextProps.recipients) {\n      this.setState({\n        recipientNames: nextProps.recipients.map(recipient => recipient.displayName),\n      });\n    }\n  }\n\n  handleSet = (property: string, value: string) => {\n    const { onUpdate, startTime, endTime } = this.props;\n    let newValue: string | Moment = value;\n    if (property === 'startTime') {\n      newValue = moment(`${startTime.format('MM-DD-YYYY')} ${value}`);\n    } else if (property === 'endTime') {\n      newValue = moment(`${endTime.format('MM-DD-YYYY')} ${value}`);\n    }\n\n    if (newValue || newValue === '') {\n      onUpdate(property, newValue);\n    }\n  }\n\n  handleRef = (ref: any) => {\n    if (ref) {\n      this.recipientsEditor = ref.getWrappedInstance();\n    }\n  }\n\n  handleNameInputRef = (ref: EditableInput) => {\n    this.nameInput = ref;\n  }\n\n  handleLocationInputRef = (ref: EditableInput) => {\n    this.locationInput = ref;\n  }\n\n  handleNotesInputRef = (ref: EditableInput) => {\n    this.notesInput = ref;\n  }\n\n  handleNameInputTab = (e: React.KeyboardEvent<HTMLElement>) => {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = global.setTimeout(\n      () => {\n        if (!e.shiftKey) {\n          this.locationInput.edit();\n        }\n      },\n      0,\n    );\n  }\n\n  handleLocationInputTab = (e: React.KeyboardEvent<HTMLElement>) => {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = global.setTimeout(\n      () => {\n        if (e.shiftKey) {\n          this.nameInput.edit();\n          if (this.state.recipientEditorFocused) {\n            this.setState({ recipientEditorFocused: false });\n          }\n        } else {\n          this.recipientsEditor.focus();\n        }\n      },\n      0,\n    );\n  }\n\n  handleRecipientEditorTab = () => {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    if (this.state.recipientEditorFocused) {\n      this.setState({ recipientEditorFocused: false });\n    }\n\n    this.timeout = global.setTimeout(\n      () => {\n        this.notesInput.edit();\n      },\n      0,\n    );\n  }\n\n  handleRecipientEditorShiftTab = () => {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = global.setTimeout(\n      () => {\n        this.locationInput.edit();\n        if (this.state.recipientEditorFocused) {\n          this.setState({ recipientEditorFocused: false });\n        }\n      },\n      0,\n    );\n  }\n\n  handleNotesInputTab = (e: React.KeyboardEvent<HTMLElement>) => {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = global.setTimeout(\n      () => {\n        if (e.shiftKey) {\n          this.recipientsEditor.focus();\n        }\n      },\n      0,\n    );\n  }\n\n  handleRecipientsChange = (list: string, newRecipients: string[]) => {\n    const { onUpdate, recipients } = this.props;\n    onUpdate(\n      'recipients',\n      newRecipients.map(\n        r =>\n          recipients.find(recipient => recipient.displayName === r) || {\n            type: EventRecipientType.Contact,\n            displayName: r,\n            identifier: parseAddress(r).email,\n          },\n      ),\n    );\n  }\n\n  handleContactGroupAdd = (list: string, contactGroup: ContactGroupType) => {\n    const { onUpdate, recipients } = this.props;\n    onUpdate(\n      'recipients',\n      recipients.concat([\n        {\n          type: EventRecipientType.ContactGroup,\n          displayName: contactGroup.name,\n          identifier: contactGroup.id,\n        },\n      ]),\n    );\n  }\n\n  handleNameInputChange = (property: string, text: string) => {\n    this.setState({ disableCta: !text });\n  }\n\n  handleRecipientEditorFocus = () => {\n    this.setState({\n      recipientEditorFocused: true,\n    });\n  }\n\n  render() {\n    const {\n      readOnly,\n      name,\n      notes,\n      startTime,\n      endTime,\n      onAdd,\n      ctaText,\n      location,\n    } = this.props;\n    const { disableCta, recipientNames } = this.state;\n\n    return (\n      <div className={classnames('event-detail')}>\n        <div className=\"details\">\n          <EditableInput\n            className=\"event-name\"\n            key=\"event-name\"\n            text={name}\n            property=\"name\"\n            onSet={this.handleSet}\n            placeholder=\"Add event name\"\n            readOnly={readOnly}\n            ref={this.handleNameInputRef}\n            onTab={this.handleNameInputTab}\n            showIfEmpty={true}\n            onChange={this.handleNameInputChange}\n          />\n          <div className=\"date\">\n            <span>{startTime.format('dddd, MMMM D, YYYY')}</span>\n          </div>\n          <div className=\"times\">\n            {`${startTime.format('h:mm a')} to ${endTime.format('h:mm a')}`}\n          </div>\n          <div className=\"location\">\n            <div className=\"icon-container\">\n              <Location className=\"icon\" />\n            </div>\n            <EditableInput\n              className=\"event-location\"\n              key=\"event-location\"\n              text={location}\n              property=\"location\"\n              onSet={this.handleSet}\n              placeholder=\"Add location\"\n              showIfEmpty={true}\n              readOnly={readOnly}\n              ref={this.handleLocationInputRef}\n              onTab={this.handleLocationInputTab}\n            />\n          </div>\n          <div className=\"recipients\">\n            <div className=\"icon-container\">\n              <ContactGroup className=\"icon\" />\n            </div>\n            {!readOnly && (\n              <RecipientsEditorConnect\n                id={EditorType.Event}\n                ref={this.handleRef}\n                recipients={recipientNames}\n                onRecipientsChange={this.handleRecipientsChange}\n                focused={true}\n                onFocus={this.handleRecipientEditorFocus}\n                onContactGroupAdd={this.handleContactGroupAdd}\n                onTabPress={this.handleRecipientEditorTab}\n                onShiftTabPress={this.handleRecipientEditorShiftTab}\n              />\n            )}\n          </div>\n          <div className=\"notes\">\n            <div className=\"icon-container\">\n              <Template className=\"icon\" />\n            </div>\n            <EditableInput\n              className=\"event-notes\"\n              key=\"event-notes\"\n              text={notes}\n              property=\"notes\"\n              onSet={this.handleSet}\n              numberOfLines={5}\n              placeholder=\"Add notes\"\n              showIfEmpty={true}\n              readOnly={readOnly}\n              ref={this.handleNotesInputRef}\n              onTab={this.handleNotesInputTab}\n            />\n          </div>\n        </div>\n        <div className=\"bottom-action-bar\">\n          <button className={classnames('add-button', { disabled: disableCta })} onClick={onAdd}>\n            {ctaText}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EventDetail;\n"]}]}