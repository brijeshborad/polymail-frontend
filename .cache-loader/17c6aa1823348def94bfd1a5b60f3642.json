{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/CalendarInviteBar/CalendarInviteBar.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/CalendarInviteBar/CalendarInviteBar.tsx","mtime":1675280254037},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgQXR0ZW5kZWVTdGF0dXMgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IENhbGVuZGFyQ2lyY2xlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9DYWxlbmRhckNpcmNsZS5zdmcnOwppbXBvcnQgJy4vQ2FsZW5kYXJJbnZpdGVCYXIuc2Nzcyc7CnZhciBDYWxlbmRhckludml0ZUJhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhDYWxlbmRhckludml0ZUJhciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIENhbGVuZGFySW52aXRlQmFyKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmdldER1cmF0aW9uID0gZnVuY3Rpb24gKHN0YXJ0VGltZSwgZW5kVGltZSkgewogICAgICAgICAgICB2YXIgZHVyYXRpb247CiAgICAgICAgICAgIHZhciBpbnRlcnZhbHMgPSBbCiAgICAgICAgICAgICAgICB7IGludGVydmFsOiAnc2Vjb25kcycsIHRocmVzaG9sZDogNjAsIHN1ZmZpeDogJ3MnIH0sCiAgICAgICAgICAgICAgICB7IGludGVydmFsOiAnbWludXRlcycsIHRocmVzaG9sZDogNjAsIHN1ZmZpeDogJ20nIH0sCiAgICAgICAgICAgICAgICB7IGludGVydmFsOiAnaG91cnMnLCB0aHJlc2hvbGQ6IDI0LCBzdWZmaXg6ICdoJyB9LAogICAgICAgICAgICAgICAgeyBpbnRlcnZhbDogJ2RheXMnLCB0aHJlc2hvbGQ6IDMxLCBzdWZmaXg6ICdkJyB9LAogICAgICAgICAgICAgICAgeyBpbnRlcnZhbDogJ21vbnRocycsIHRocmVzaG9sZDogMTIsIHN1ZmZpeDogJ20nIH0sCiAgICAgICAgICAgICAgICB7IGludGVydmFsOiAneWVhcnMnLCB0aHJlc2hvbGQ6IDAsIHN1ZmZpeDogJ3knIH0sCiAgICAgICAgICAgIF07CiAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICB2YXIgaW50ZXJ2YWw7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbnRlcnZhbHMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgIGludGVydmFsID0gaW50ZXJ2YWxzW2ldOwogICAgICAgICAgICAgICAgZHVyYXRpb24gPSBlbmRUaW1lLmRpZmYoc3RhcnRUaW1lLCBpbnRlcnZhbC5pbnRlcnZhbCk7CiAgICAgICAgICAgICAgICBpZiAoIWludGVydmFsLnRocmVzaG9sZCB8fCBkdXJhdGlvbiA8IGludGVydmFsLnRocmVzaG9sZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBkdXJhdGlvbiArIGludGVydmFsLnN1ZmZpeDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVSZXNwb25kID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0OwogICAgICAgICAgICB2YXIgYnV0dG9uID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1idXR0b24nKTsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHJlc3BvbmQgPSBfYS5yZXNwb25kLCBzZWxlY3RlZENhbGVuZGFyRXZlbnQgPSBfYS5zZWxlY3RlZENhbGVuZGFyRXZlbnQ7CiAgICAgICAgICAgIGlmIChidXR0b24gJiYgc2VsZWN0ZWRDYWxlbmRhckV2ZW50KSB7CiAgICAgICAgICAgICAgICByZXNwb25kKHNlbGVjdGVkQ2FsZW5kYXJFdmVudC5pZCwgYnV0dG9uKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgQ2FsZW5kYXJJbnZpdGVCYXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBzZWxlY3RlZENhbGVuZGFyRXZlbnQgPSBfYS5zZWxlY3RlZENhbGVuZGFyRXZlbnQsIHN0YXR1cyA9IF9hLnN0YXR1czsKICAgICAgICBpZiAoIXNlbGVjdGVkQ2FsZW5kYXJFdmVudCkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgdmFyIHN0YXJ0VGltZVN0cmluZyA9IG1vbWVudChzZWxlY3RlZENhbGVuZGFyRXZlbnQuc3RhcnRUaW1lKS5mb3JtYXQoJ2RkZCwgTU1NIEQsIGg6bW1BJyk7CiAgICAgICAgdmFyIGR1cmF0aW9uID0gdGhpcy5nZXREdXJhdGlvbihtb21lbnQoc2VsZWN0ZWRDYWxlbmRhckV2ZW50LnN0YXJ0VGltZSksIG1vbWVudChzZWxlY3RlZENhbGVuZGFyRXZlbnQuZW5kVGltZSkpOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjYWxlbmRhci1pbnZpdGUtYmFyIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhbGVuZGFyQ2lyY2xlLCB7IHdpZHRoOiAiMzRweCIsIGhlaWdodDogIjM0cHgiIH0pLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImxlZnQtc2lkZSIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImgzIiwgbnVsbCwgc2VsZWN0ZWRDYWxlbmRhckV2ZW50Lm5hbWUpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCBudWxsLCBzdGFydFRpbWVTdHJpbmcgKyAiICgiICsgZHVyYXRpb24gKyAiKSIpKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJyaWdodC1zaWRlIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyAiZGF0YS1idXR0b24iOiBBdHRlbmRlZVN0YXR1cy5BY2NlcHRlZCwgb25DbGljazogdGhpcy5oYW5kbGVSZXNwb25kLCBjbGFzc05hbWU6IHN0YXR1cyA9PT0gQXR0ZW5kZWVTdGF0dXMuQWNjZXB0ZWQgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZCB9LCAiQWNjZXB0IiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7ICJkYXRhLWJ1dHRvbiI6IEF0dGVuZGVlU3RhdHVzLlRlbnRhdGl2ZSwgb25DbGljazogdGhpcy5oYW5kbGVSZXNwb25kLCBjbGFzc05hbWU6IHN0YXR1cyA9PT0gQXR0ZW5kZWVTdGF0dXMuVGVudGF0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWQgfSwgIk1heWJlIiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7ICJkYXRhLWJ1dHRvbiI6IEF0dGVuZGVlU3RhdHVzLkRlY2xpbmVkLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVJlc3BvbmQsIGNsYXNzTmFtZTogc3RhdHVzID09PSBBdHRlbmRlZVN0YXR1cy5EZWNsaW5lZCA/ICdhY3RpdmUnIDogdW5kZWZpbmVkIH0sICJEZWNsaW5lIikpKSk7CiAgICB9OwogICAgcmV0dXJuIENhbGVuZGFySW52aXRlQmFyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXJJbnZpdGVCYXI7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/CalendarInviteBar/CalendarInviteBar.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/CalendarInviteBar/CalendarInviteBar.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,MAA8B,MAAM,QAAQ,CAAC;AACpD,OAAO,EAAiB,cAAc,EAAU,MAAM,YAAY,CAAC;AACnE,OAAO,cAAc,MAAM,0CAA0C,CAAC;AACtE,OAAO,0BAA0B,CAAC;AAelC;IAAgC,qCAAuD;IAAvF;QAAA,qEAgFC;QA/EC,iBAAW,GAAG,UAAC,SAAiB,EAAE,OAAe;YAC/C,IAAI,QAAQ,CAAC;YACb,IAAM,SAAS,GAAG;gBAChB,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE;gBACnD,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE;gBACnD,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE;gBACjD,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE;gBAChD,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE;gBAClD,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE;aACjD,CAAC;YAEF,IAAI,CAAC,CAAC;YACN,IAAI,QAAQ,CAAC;YACb,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;gBACxC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACxB,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,QAA2B,CAAC,CAAC;gBACzE,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,QAAQ,GAAG,QAAQ,CAAC,SAAS,EAAE;oBACxD,OAAO,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC;iBACnC;aACF;YAED,OAAO;QACT,CAAC,CAAA;QAED,mBAAa,GAAG,UAAC,CAA0C;YACzD,IAAM,MAAM,GAAG,CAAC,CAAC,MAAqB,CAAC;YACvC,IAAM,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;YAC5C,IAAA,gBAA+C,EAA7C,oBAAO,EAAE,gDAAoC,CAAC;YAEtD,IAAI,MAAM,IAAI,qBAAqB,EAAE;gBACnC,OAAO,CAAC,qBAAqB,CAAC,EAAE,EAAE,MAAwB,CAAC,CAAC;aAC7D;QACH,CAAC,CAAA;;IA+CH,CAAC;IA7CC,kCAAM,GAAN;QACQ,IAAA,eAA8C,EAA5C,gDAAqB,EAAE,kBAAqB,CAAC;QAErD,IAAI,CAAC,qBAAqB,EAAE;YAC1B,OAAO,IAAI,CAAC;SACb;QAED,IAAM,eAAe,GAAG,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;QAC5F,IAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAC/B,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAE,MAAM,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAC/E,CAAC;QAEF,OAAO,CACL,6BAAK,SAAS,EAAC,qBAAqB;YAClC,oBAAC,cAAc,IAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,GAAG;YAC7C,6BAAK,SAAS,EAAC,WAAW;gBACxB,gCAAK,qBAAqB,CAAC,IAAI,CAAM;gBACrC,gCAAQ,eAAe,UAAK,QAAQ,MAAG,CAAM,CACzC;YACN,6BAAK,SAAS,EAAC,YAAY;gBACzB,+CACe,cAAc,CAAC,QAAQ,EACpC,OAAO,EAAE,IAAI,CAAC,aAAa,EAC3B,SAAS,EAAE,MAAM,KAAK,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,aAG7D;gBACT,+CACe,cAAc,CAAC,SAAS,EACrC,OAAO,EAAE,IAAI,CAAC,aAAa,EAC3B,SAAS,EAAE,MAAM,KAAK,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,YAG9D;gBACT,+CACe,cAAc,CAAC,QAAQ,EACpC,OAAO,EAAE,IAAI,CAAC,aAAa,EAC3B,SAAS,EAAE,MAAM,KAAK,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,cAG7D,CACL,CACF,CACP,CAAC;IACJ,CAAC;IACH,wBAAC;AAAD,CAAC,AAhFD,CAAgC,KAAK,CAAC,aAAa,GAgFlD;AAED,eAAe,iBAAiB,CAAC","sourcesContent":["import React from 'react';\nimport moment, { Moment, unitOfTime } from 'moment';\nimport { CalendarEvent, AttendeeStatus, Thread } from '@src/types';\nimport CalendarCircle from '@src/components/Icons/CalendarCircle.svg';\nimport './CalendarInviteBar.scss';\n\nexport interface StateProps {\n  selectedCalendarEvent?: CalendarEvent;\n  status?: string;\n}\n\nexport interface DispatchProps {\n  respond: (id: string, status: AttendeeStatus) => void;\n}\n\nexport interface Props {\n  thread: Thread;\n}\n\nclass CalendarInviteBar extends React.PureComponent<Props & StateProps & DispatchProps> {\n  getDuration = (startTime: Moment, endTime: Moment) => {\n    let duration;\n    const intervals = [\n      { interval: 'seconds', threshold: 60, suffix: 's' },\n      { interval: 'minutes', threshold: 60, suffix: 'm' },\n      { interval: 'hours', threshold: 24, suffix: 'h' },\n      { interval: 'days', threshold: 31, suffix: 'd' },\n      { interval: 'months', threshold: 12, suffix: 'm' },\n      { interval: 'years', threshold: 0, suffix: 'y' },\n    ];\n\n    let i;\n    let interval;\n    for (i = 0; i < intervals.length; i += 1) {\n      interval = intervals[i];\n      duration = endTime.diff(startTime, interval.interval as unitOfTime.Diff);\n      if (!interval.threshold || duration < interval.threshold) {\n        return duration + interval.suffix;\n      }\n    }\n\n    return;\n  }\n\n  handleRespond = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const target = e.target as HTMLElement;\n    const button = target.getAttribute('data-button');\n    const { respond, selectedCalendarEvent } = this.props;\n\n    if (button && selectedCalendarEvent) {\n      respond(selectedCalendarEvent.id, button as AttendeeStatus);\n    }\n  }\n\n  render() {\n    const { selectedCalendarEvent, status } = this.props;\n\n    if (!selectedCalendarEvent) {\n      return null;\n    }\n\n    const startTimeString = moment(selectedCalendarEvent.startTime).format('ddd, MMM D, h:mmA');\n    const duration = this.getDuration(\n      moment(selectedCalendarEvent.startTime), moment(selectedCalendarEvent.endTime),\n    );\n\n    return (\n      <div className=\"calendar-invite-bar\">\n        <CalendarCircle width=\"34px\" height=\"34px\" />\n        <div className=\"left-side\">\n          <h3>{selectedCalendarEvent.name}</h3>\n          <h5>{`${startTimeString} (${duration})`}</h5>\n        </div>\n        <div className=\"right-side\">\n          <button\n            data-button={AttendeeStatus.Accepted}\n            onClick={this.handleRespond}\n            className={status === AttendeeStatus.Accepted ? 'active' : undefined}\n          >\n            Accept\n          </button>\n          <button\n            data-button={AttendeeStatus.Tentative}\n            onClick={this.handleRespond}\n            className={status === AttendeeStatus.Tentative ? 'active' : undefined}\n          >\n            Maybe\n          </button>\n          <button\n            data-button={AttendeeStatus.Declined}\n            onClick={this.handleRespond}\n            className={status === AttendeeStatus.Declined ? 'active' : undefined}\n          >\n            Decline\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CalendarInviteBar;\n"]}]}