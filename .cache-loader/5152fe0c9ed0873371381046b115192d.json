{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/NewTaskPopover/NewTaskPopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/NewTaskPopover/NewTaskPopover.tsx","mtime":1675280254033},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBQb3BvdmVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Qb3BvdmVyL1BvcG92ZXInOwppbXBvcnQgVGV4dElucHV0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9Gb3JtL1RleHRJbnB1dCc7CmltcG9ydCBEYXRlUGlja2VyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Gb3JtL0RhdGVQaWNrZXInOwppbXBvcnQgJy4vTmV3VGFza1BvcG92ZXIuc2Nzcyc7CnZhciBOZXdUYXNrUG9wb3ZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhOZXdUYXNrUG9wb3ZlciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIE5ld1Rhc2tQb3BvdmVyKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlUG9wb3ZlclJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3ZlclJlZiA9IHJlZjsKICAgICAgICAgICAgX3RoaXMudXBkYXRlUG9wdXBTdGF0ZSgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU3VibWl0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBfdGhpcy5wcm9wcy5vbk5ld1Rhc2soX3RoaXMuc3RhdGUuc3ViamVjdCwgX3RoaXMuc3RhdGUuZHVlRGF0ZSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0Lm5hbWUgPT09ICdzdWJqZWN0JykgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzdWJqZWN0OiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZURhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGR1ZURhdGU6IGRhdGUsIHNob3dEYXRlUGlja2VyOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNob3dEYXRlUGlja2VyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dEYXRlUGlja2VyOiB0cnVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlSGlkZURhdGVQaWNrZXIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dEYXRlUGlja2VyOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBzdWJqZWN0OiAnJywKICAgICAgICAgICAgc2hvd0RhdGVQaWNrZXI6IGZhbHNlLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgTmV3VGFza1BvcG92ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMudXBkYXRlUG9wdXBTdGF0ZSgpOwogICAgfTsKICAgIE5ld1Rhc2tQb3BvdmVyLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICAvLyByZXNldCBkYXRhIHdoZW4gcG9wdXAgaXMgcmV1c2VkCiAgICAgICAgaWYgKG5leHRQcm9wcy5zaG93ICE9PSB0aGlzLnByb3BzLnNob3cgJiYgbmV4dFByb3BzLnNob3cpIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN1YmplY3Q6ICcnLCBzaG93RGF0ZVBpY2tlcjogZmFsc2UsIGR1ZURhdGU6IHVuZGVmaW5lZCB9KTsKICAgICAgICB9CiAgICB9OwogICAgTmV3VGFza1BvcG92ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHsKICAgICAgICBpZiAocHJldlByb3BzLnNob3cgIT09IHRoaXMucHJvcHMuc2hvdykgewogICAgICAgICAgICB0aGlzLnVwZGF0ZVBvcHVwU3RhdGUoKTsKICAgICAgICB9CiAgICB9OwogICAgTmV3VGFza1BvcG92ZXIucHJvdG90eXBlLnVwZGF0ZVBvcHVwU3RhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMucG9wb3ZlclJlZikgewogICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93KSB7CiAgICAgICAgICAgICAgICB0aGlzLnBvcG92ZXJSZWYuc2hvdygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyUmVmLmhpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBOZXdUYXNrUG9wb3Zlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQb3BvdmVyLCB7IGNsYXNzTmFtZTogIm5ldy10YXNrLXBvcG92ZXIiLCByZWY6IHRoaXMuaGFuZGxlUG9wb3ZlclJlZiwgb25IaWRlOiB0aGlzLnByb3BzLm9uSGlkZSwgb3ZlcmxheTogdHJ1ZSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgeyBvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXQgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg0IiwgbnVsbCwgIk5ldyBUYXNrIiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwgeyBuYW1lOiAic3ViamVjdCIsIGRlc2NyaXB0aW9uOiAiU3ViamVjdCIsIHZhbHVlOiB0aGlzLnN0YXRlLnN1YmplY3QsIHR5cGU6ICJ0ZXh0IiwgcGxhY2Vob2xkZXI6ICJTdWJqZWN0Iiwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLCBhdXRvZm9jdXM6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwgeyBuYW1lOiAiZHVlRGF0ZSIsIGRlc2NyaXB0aW9uOiAiRHVlIERhdGUiLCB2YWx1ZTogdGhpcy5zdGF0ZS5kdWVEYXRlID8gdGhpcy5zdGF0ZS5kdWVEYXRlLmZvcm1hdCgnTU1NTSBEbywgWVlZWScpIDogJycsIHR5cGU6ICJ0ZXh0IiwgcGxhY2Vob2xkZXI6ICJEdWUgRGF0ZSIsIG9uRm9jdXM6IHRoaXMuaGFuZGxlU2hvd0RhdGVQaWNrZXIsIHJlYWRPbmx5OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zaG93RGF0ZVBpY2tlciAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGF0ZS1waWNrZXItcG9wb3ZlciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEYXRlUGlja2VyLCB7IHZhbHVlOiB0aGlzLnN0YXRlLmR1ZURhdGUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVDaGFuZ2UsIG9uU2VsZWN0OiB0aGlzLmhhbmRsZURhdGVDaGFuZ2UsIG9uQ2xpY2tPdXRzaWRlOiB0aGlzLmhhbmRsZUhpZGVEYXRlUGlja2VyLCBkaXNhYmxlUGFzdDogdHJ1ZSB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCBudWxsLCAiU2F2ZSIpKSkpOwogICAgfTsKICAgIHJldHVybiBOZXdUYXNrUG9wb3ZlcjsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IE5ld1Rhc2tQb3BvdmVyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/NewTaskPopover/NewTaskPopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/NewTaskPopover/NewTaskPopover.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport moment from 'moment';\nimport Popover from '@src/components/Popover/Popover';\nimport TextInput from '@src/components/Form/TextInput';\nimport DatePicker from '@src/components/Form/DatePicker';\n\nimport './NewTaskPopover.scss';\n\nexport interface Props {\n  show: boolean;\n  onHide(): void;\n  onNewTask(subject: string, dueDate?: moment.Moment): void;\n}\n\nexport interface State {\n  subject: string;\n  dueDate?: moment.Moment;\n  showDatePicker: boolean;\n}\n\nclass NewTaskPopover extends React.PureComponent<Props, State> {\n  popoverRef?: Popover;\n\n  constructor() {\n    super();\n    this.state = {\n      subject: '',\n      showDatePicker: false,\n    };\n  }\n\n  componentDidMount() {\n    this.updatePopupState();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    // reset data when popup is reused\n    if (nextProps.show !== this.props.show && nextProps.show) {\n      this.setState({ subject: '', showDatePicker: false, dueDate: undefined });\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.show !== this.props.show) {\n      this.updatePopupState();\n    }\n  }\n\n  handlePopoverRef = (ref: any) => {\n    this.popoverRef = ref;\n    this.updatePopupState();\n  }\n\n  updatePopupState() {\n    if (this.popoverRef) {\n      if (this.props.show) {\n        this.popoverRef.show();\n      } else {\n        this.popoverRef.hide();\n      }\n    }\n  }\n\n  handleSubmit = (e: React.FormEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onNewTask(this.state.subject, this.state.dueDate);\n  }\n\n  handleChange = (e: React.FormEvent<HTMLInputElement>) => {\n    if (e.currentTarget.name === 'subject') {\n      this.setState({ subject: e.currentTarget.value });\n    }\n  }\n\n  handleDateChange = (date: moment.Moment) => {\n    this.setState({ dueDate: date, showDatePicker: false });\n  }\n\n  handleShowDatePicker = () => {\n    this.setState({ showDatePicker: true });\n  }\n\n  handleHideDatePicker = (e: React.MouseEvent<HTMLDivElement>) => {\n    this.setState({ showDatePicker: false });\n  }\n\n  render() {\n    return (\n      <Popover\n        className=\"new-task-popover\"\n        ref={this.handlePopoverRef}\n        onHide={this.props.onHide}\n        overlay\n      >\n        <form onSubmit={this.handleSubmit}>\n          <h4>New Task</h4>\n          <TextInput\n            name=\"subject\"\n            description=\"Subject\"\n            value={this.state.subject}\n            type=\"text\"\n            placeholder=\"Subject\"\n            onChange={this.handleChange}\n            autofocus\n          />\n          <TextInput\n            name=\"dueDate\"\n            description=\"Due Date\"\n            value={this.state.dueDate ? this.state.dueDate.format('MMMM Do, YYYY') : ''}\n            type=\"text\"\n            placeholder=\"Due Date\"\n            onFocus={this.handleShowDatePicker}\n            readOnly\n          />\n          {this.state.showDatePicker &&\n            <div className=\"date-picker-popover\">\n              <DatePicker\n                value={this.state.dueDate}\n                onChange={this.handleDateChange}\n                onSelect={this.handleDateChange}\n                onClickOutside={this.handleHideDatePicker}\n                disablePast\n              />\n            </div>}\n          <button>Save</button>\n        </form>\n      </Popover>\n    );\n  }\n}\n\nexport default NewTaskPopover;\n"]}]}