{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadsDataSourceItem.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadsDataSourceItem.ts","mtime":1675280254118},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgTWFpbGJveFR5cGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKZXhwb3J0IHZhciB0aHJlYWREYXRhU291cmNlSXRlbSA9IGZ1bmN0aW9uICh0aHJlYWQsIG1vZGUpIHsgcmV0dXJuICh7CiAgICByZXNvdXJjZTogdGhyZWFkLAogICAgaWRlbnRpZmllcjogdGhyZWFkLmlkLAogICAgc29ydFZhbHVlOiB0aHJlYWRTb3J0KHRocmVhZCwgbW9kZSksCn0pOyB9OwovLyBTb3J0IGRhdGUgZm9yIG1vZGUKdmFyIHRocmVhZFNvcnQgPSBmdW5jdGlvbiAodGhyZWFkLCBtb2RlKSB7CiAgICBpZiAobW9kZS5zZW50KSB7CiAgICAgICAgcmV0dXJuIHRocmVhZC5sYXN0U2VudCAmJiAtdGhyZWFkLmxhc3RTZW50LmdldFRpbWUoKSB8fCAtdGhyZWFkLmludGVybmFsLmdldFRpbWUoKTsKICAgIH0KICAgIHN3aXRjaCAobW9kZS50eXBlKSB7CiAgICAgICAgY2FzZSBNYWlsYm94VHlwZS5JbmJveDoKICAgICAgICAgICAgcmV0dXJuIC10aHJlYWQuc29ydC5nZXRUaW1lKCk7CiAgICAgICAgY2FzZSBNYWlsYm94VHlwZS5MYXRlcjoKICAgICAgICAgICAgcmV0dXJuIHRocmVhZC5zb3J0LmdldFRpbWUoKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gLXRocmVhZC5pbnRlcm5hbC5nZXRUaW1lKCk7CiAgICB9Cn07CmV4cG9ydCB2YXIgZHJhZnREYXRhU291cmNlSXRlbSA9IGZ1bmN0aW9uIChkcmFmdCkgeyByZXR1cm4gKHsKICAgIHJlc291cmNlOiBkcmFmdCwKICAgIGlkZW50aWZpZXI6IGRyYWZ0LmlkLAogICAgc29ydFZhbHVlOiAtZHJhZnQudXBkYXRlZC5nZXRUaW1lKCksCn0pOyB9Owo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadsDataSourceItem.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Threads/components/ThreadList/components/InfiniteThreadList/ThreadsDataSourceItem.ts"],"names":[],"mappings":"AAAA,OAAO,EAA0B,WAAW,EAAE,MAAM,YAAY,CAAC;AAMjE,MAAM,CAAC,IAAM,oBAAoB,GAAG,UAAC,MAAc,EAAE,IAAa,IAA4B,OAAA,CAAC;IAC7F,QAAQ,EAAE,MAAM;IAChB,UAAU,EAAE,MAAM,CAAC,EAAE;IACrB,SAAS,EAAE,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC;CACpC,CAAC,EAJ4F,CAI5F,CAAC;AAEH,qBAAqB;AACrB,IAAM,UAAU,GAAG,UAAC,MAAc,EAAE,IAAa;IAC/C,IAAI,IAAI,CAAC,IAAI,EAAE;QACb,OAAO,MAAM,CAAC,QAAQ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;KACpF;IAED,QAAQ,IAAI,CAAC,IAAI,EAAE;QACjB,KAAK,WAAW,CAAC,KAAK;YACpB,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAChC,KAAK,WAAW,CAAC,KAAK;YACpB,OAAO,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAC/B;YACE,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;KACrC;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,mBAAmB,GAAG,UAAC,KAAY,IAA4B,OAAA,CAAC;IAC3E,QAAQ,EAAE,KAAK;IACf,UAAU,EAAE,KAAK,CAAC,EAAE;IACpB,SAAS,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE;CACpC,CAAC,EAJ0E,CAI1E,CAAC","sourcesContent":["import { Thread, Draft, Mailbox, MailboxType } from '@src/types';\nimport { DataSourceItem } from '@src/lib/DataSource';\n\nexport type ThreadsDataSourceItemTypes = Thread | Draft;\nexport type ThreadsDataSourceItem = DataSourceItem<ThreadsDataSourceItemTypes>;\n\nexport const threadDataSourceItem = (thread: Thread, mode: Mailbox): ThreadsDataSourceItem => ({\n  resource: thread,\n  identifier: thread.id,\n  sortValue: threadSort(thread, mode),\n});\n\n// Sort date for mode\nconst threadSort = (thread: Thread, mode: Mailbox): number => {\n  if (mode.sent) {\n    return thread.lastSent && -thread.lastSent.getTime() || -thread.internal.getTime();\n  }\n\n  switch (mode.type) {\n    case MailboxType.Inbox:\n      return -thread.sort.getTime();\n    case MailboxType.Later:\n      return thread.sort.getTime();\n    default:\n      return -thread.internal.getTime();\n  }\n};\n\nexport const draftDataSourceItem = (draft: Draft): ThreadsDataSourceItem => ({\n  resource: draft,\n  identifier: draft.id,\n  sortValue: -draft.updated.getTime(),\n});\n"]}]}