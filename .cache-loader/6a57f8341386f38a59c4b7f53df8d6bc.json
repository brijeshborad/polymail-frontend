{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/MailTab.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/MailTab.tsx","mtime":1675280254016},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CnZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoOwogICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKQogICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKQogICAgICAgICAgICByW2tdID0gYVtqXTsKICAgIHJldHVybiByOwp9OwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBmaW5kIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgTWFpbGJveFR5cGUsIExlZnRTaWRlYmFyQ291bnQsIEFjY291bnRUeXBlLCBBY2NvdW50U3RhdHVzLCB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgeyBtZW50aW9uVGFicyB9IGZyb20gJy4vbW9ja3MnOwppbXBvcnQgeyBNYWlsU2VjdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9TZWN0aW9uL01haWxTZWN0aW9uJzsKaW1wb3J0IExpc3RzU2VjdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvU2VjdGlvbi9MaXN0c1NlY3Rpb24nOwppbXBvcnQgVGVhbVNlY3Rpb24gZnJvbSAnLi9jb21wb25lbnRzL1NlY3Rpb24vVGVhbVNlY3Rpb24nOwppbXBvcnQgeyBjcmVhdGVEZXZpY2VUeXBlTm90aWZpY2F0aW9ucyB9IGZyb20gJ0BzcmMvbW9ja3MvYWNjb3VudHMnOwppbXBvcnQgeyBDb2xsYXBzZWRNYWlsU2VjdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9TZWN0aW9uL0NvbGxhcHNlZE1haWxTZWN0aW9uL0NvbGxhcHNlZE1haWxTZWN0aW9uJzsKaW1wb3J0IENvbGxhcHNlZFRlYW1TZWN0aW9uIGZyb20gJy4vY29tcG9uZW50cy9TZWN0aW9uL1RlYW1TZWN0aW9uL0NvbGxhcHNlZFRlYW1TZWN0aW9uJzsKaW1wb3J0IENvbGxhcHNlZE5hdmlnYXRpb25TZWN0aW9uIGZyb20gJy4vY29tcG9uZW50cy9TZWN0aW9uL0NvbGxhcHNlZE5hdmlnYXRpb25TZWN0aW9uJzsKdmFyIE1haWxUYWIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoTWFpbFRhYiwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIE1haWxUYWIoKSB7CiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICB9CiAgICBNYWlsVGFiLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgYWNjb3VudHMgPSBfYS5hY2NvdW50cywgbGlzdFRhYnMgPSBfYS5saXN0VGFicywgc2VsZWN0ZWRNYWlsYm94ID0gX2Euc2VsZWN0ZWRNYWlsYm94LCBtYWlsQ291bnQgPSBfYS5tYWlsQ291bnQsIGxlZnRTaWRlYmFyQ291bnQgPSBfYS5sZWZ0U2lkZWJhckNvdW50LCBkcmFmdENvdW50ID0gX2EuZHJhZnRDb3VudCwgc2VuZExhdGVyQ291bnQgPSBfYS5zZW5kTGF0ZXJDb3VudCwgc2VsZWN0ZWRUYWIgPSBfYS5zZWxlY3RlZFRhYiwgdHJhc2hDb2xsYXBzZWQgPSBfYS50cmFzaENvbGxhcHNlZCwgY29sbGFwc2VUcmFzaCA9IF9hLmNvbGxhcHNlVHJhc2gsIGFjY291bnRJbmJveENvdW50cyA9IF9hLmFjY291bnRJbmJveENvdW50cywgZHJhZnRFcnJvckNvdW50ID0gX2EuZHJhZnRFcnJvckNvdW50LCBvdXRib3hDb3VudCA9IF9hLm91dGJveENvdW50LCBjb2xsYXBzZWQgPSBfYS5jb2xsYXBzZWQ7CiAgICAgICAgdmFyIHNlbGVjdGVkQWNjb3VudElkID0gdGhpcy5wcm9wcy5zZWxlY3RlZEFjY291bnQ7CiAgICAgICAgdmFyIGFjY291bnRUYWJzID0gIXNlbGVjdGVkQWNjb3VudElkICYmIGFjY291bnRzLmxlbmd0aCA+IDIgPyBhY2NvdW50cwogICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmlkICE9PSAnYWxsJzsgfSkKICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYSkgewogICAgICAgICAgICB2YXIgY291bnQgPSAwOwogICAgICAgICAgICB2YXIgY291bnRzID0gYWNjb3VudEluYm94Q291bnRzW2EuaWRdOwogICAgICAgICAgICBpZiAoY291bnRzICYmIGxlZnRTaWRlYmFyQ291bnQgPT09IExlZnRTaWRlYmFyQ291bnQuQWxsKSB7CiAgICAgICAgICAgICAgICBjb3VudCA9IGNvdW50cy5pbmJveFJlYWQgKyBjb3VudHMuaW5ib3hVbnJlYWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY291bnRzKSB7CiAgICAgICAgICAgICAgICBjb3VudCA9IGNvdW50cy5pbmJveFVucmVhZDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAga2V5OiAiYWNjb3VudHMtIiArIGEuaWQsCiAgICAgICAgICAgICAgICBuYW1lOiBhLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgY291bnQ6IGNvdW50LAogICAgICAgICAgICAgICAgaGlkZUNvbGxhcHNlZDogdHJ1ZSwKICAgICAgICAgICAgfTsKICAgICAgICB9KSA6IFtdOwogICAgICAgIHZhciBtYWlsVGFicyA9IF9fc3ByZWFkQXJyYXlzKFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnaW5ib3gnLAogICAgICAgICAgICAgICAgbmFtZTogYWNjb3VudFRhYnMubGVuZ3RoID4gMSA/ICdBbGwgSW5ib3hlcycgOiAnSW5ib3gnLAogICAgICAgICAgICAgICAgY291bnQ6IGxlZnRTaWRlYmFyQ291bnQgPT09IExlZnRTaWRlYmFyQ291bnQuQWxsID8KICAgICAgICAgICAgICAgICAgICBtYWlsQ291bnQuaW5ib3hSZWFkICsgbWFpbENvdW50LmluYm94VW5yZWFkIDogbWFpbENvdW50LmluYm94VW5yZWFkLAogICAgICAgICAgICAgICAgc2hvd01vcmU6IHRydWUsCiAgICAgICAgICAgIH0KICAgICAgICBdLCBhY2NvdW50VGFicywgWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBrZXk6ICdsYXRlcicsCiAgICAgICAgICAgICAgICBuYW1lOiAnUmVhZCBMYXRlcicsCiAgICAgICAgICAgICAgICBjb3VudDogbWFpbENvdW50LmxhdGVyQ291bnQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJ3N0YXJyZWQnLAogICAgICAgICAgICAgICAgbmFtZTogJ1N0YXJyZWQnLAogICAgICAgICAgICAgICAgY291bnQ6IG1haWxDb3VudC5zdGFycmVkQ291bnQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJ2FyY2hpdmUnLAogICAgICAgICAgICAgICAgbmFtZTogJ0FyY2hpdmUnLAogICAgICAgICAgICAgICAgY291bnQ6IDAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJ3RyYXNoJywKICAgICAgICAgICAgICAgIG5hbWU6ICdUcmFzaCcsCiAgICAgICAgICAgICAgICBjb3VudDogMCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnc3BhbScsCiAgICAgICAgICAgICAgICBuYW1lOiAnU3BhbScsCiAgICAgICAgICAgICAgICBjb3VudDogMCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnc2VudCcsCiAgICAgICAgICAgICAgICBuYW1lOiAnU2VudCcsCiAgICAgICAgICAgICAgICBjb3VudDogMCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnc2VuZExhdGVyJywKICAgICAgICAgICAgICAgIG5hbWU6ICdTZW5kIExhdGVyJywKICAgICAgICAgICAgICAgIGNvdW50OiBzZW5kTGF0ZXJDb3VudCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAnZm9sbG93VXAnLAogICAgICAgICAgICAgICAgbmFtZTogJ0ZvbGxvdyBVcCcsCiAgICAgICAgICAgICAgICBjb3VudDogbWFpbENvdW50LmZvbGxvd1VwQ291bnQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGtleTogJ2RyYWZ0cycsCiAgICAgICAgICAgICAgICBuYW1lOiAnRHJhZnRzJywKICAgICAgICAgICAgICAgIGNvdW50OiBkcmFmdENvdW50LAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBrZXk6ICdvdXRib3gnLAogICAgICAgICAgICAgICAgbmFtZTogJ091dGJveCcsCiAgICAgICAgICAgICAgICBjb3VudDogb3V0Ym94Q291bnQsCiAgICAgICAgICAgICAgICBlcnJvckNvcHk6IGRyYWZ0RXJyb3JDb3VudCA/CiAgICAgICAgICAgICAgICAgICAgZHJhZnRFcnJvckNvdW50ICsgIiBkcmFmdCIgKyAoZHJhZnRFcnJvckNvdW50ID4gMSA/ICdzJyA6ICcnKSArICIgZmFpbGVkIHRvIHNlbmQiIDogdW5kZWZpbmVkLAogICAgICAgICAgICB9LAogICAgICAgIF0pOwogICAgICAgIHZhciBzZWxlY3RlZFRhYnMgPSBtYWlsVGFicwogICAgICAgICAgICAuY29uY2F0KG1lbnRpb25UYWJzLmNvbmNhdChsaXN0VGFicykpCiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHRhYikgewogICAgICAgICAgICBpZiAoc2VsZWN0ZWRNYWlsYm94Lmxpc3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YWIua2V5ID09PSBzZWxlY3RlZE1haWxib3gubGlzdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2VsZWN0ZWRNYWlsYm94LnR5cGUgPT09IE1haWxib3hUeXBlLkFueSAmJiBzZWxlY3RlZE1haWxib3guc3RhcnJlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRhYi5rZXkgPT09ICdzdGFycmVkJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2VsZWN0ZWRNYWlsYm94LnR5cGUgPT09IE1haWxib3hUeXBlLkFueSAmJiBzZWxlY3RlZE1haWxib3guZm9sbG93VXAgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YWIua2V5ID09PSAnZm9sbG93VXAnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzZWxlY3RlZE1haWxib3gudHlwZSA9PT0gTWFpbGJveFR5cGUuQW55ICYmIHNlbGVjdGVkTWFpbGJveC5zZW50ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGFiLmtleSA9PT0gJ3NlbnQnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzZWxlY3RlZE1haWxib3gudHlwZSA9PT0gTWFpbGJveFR5cGUuSW5ib3ggJiYKICAgICAgICAgICAgICAgIHNlbGVjdGVkTWFpbGJveC5hY2NvdW50ICE9PSBzZWxlY3RlZEFjY291bnRJZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRhYi5rZXkgPT09ICJhY2NvdW50cy0iICsgc2VsZWN0ZWRNYWlsYm94LmFjY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRhYi5rZXkgPT09IHNlbGVjdGVkTWFpbGJveC50eXBlOwogICAgICAgIH0pOwogICAgICAgIGlmICghdHJhc2hDb2xsYXBzZWQpIHsKICAgICAgICAgICAgdmFyIHRyYXNoU3ViU2VjdGlvbnNfMSA9IFsnc3BhbSddOwogICAgICAgICAgICBtYWlsVGFicyA9IG1haWxUYWJzLmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdHJhc2hTdWJTZWN0aW9uc18xLmluZGV4T2YodC5rZXkpID09PSAtMTsgfSk7CiAgICAgICAgfQogICAgICAgIHZhciBzZWxlY3RlZE1haWxUYWIgPSBzZWxlY3RlZFRhYnMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZFRhYiA9PT0gJ21haWwnID8KICAgICAgICAgICAgc2VsZWN0ZWRUYWJzWzBdLmtleSA6ICcnOwogICAgICAgIHZhciBhbGxBY2NvdW50ID0gewogICAgICAgICAgICBuYW1lOiAnVW5pZmllZCBNYWlsYm94JywKICAgICAgICAgICAgaWQ6ICdhbGwnLAogICAgICAgICAgICBlbWFpbDogJ1VuaWZpZWQgTWFpbGJveCcsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWxsIEFjY291bnRzJywKICAgICAgICAgICAgc2lnbmF0dXJlOiAnJywKICAgICAgICAgICAgdHlwZTogQWNjb3VudFR5cGUuR29vZ2xlLAogICAgICAgICAgICBzdGF0dXM6IEFjY291bnRTdGF0dXMuT2ssCiAgICAgICAgICAgIHNpZ25hdHVyZUltYWdlczogW10sCiAgICAgICAgICAgIC8vIG1vY2ssIGRvIG5vdCB1c2UgZm9yIGFueSBjb21wdXRhdGlvbgogICAgICAgICAgICBub3RpZmljYXRpb25zOiBjcmVhdGVEZXZpY2VUeXBlTm90aWZpY2F0aW9ucygpLAogICAgICAgIH07CiAgICAgICAgdmFyIHNlbGVjdGVkQWNjb3VudCA9IHNlbGVjdGVkQWNjb3VudElkICYmIGZpbmQoYWNjb3VudHMsIHsgaWQ6IHNlbGVjdGVkQWNjb3VudElkIH0pCiAgICAgICAgICAgIHx8IGFsbEFjY291bnQ7CiAgICAgICAgLy8gVE9ETyhTSElOKTogQWx0ZXJuYXRlIGZvciBUZWFtU2VjdGlvbi9MaXN0c1NlY3Rpb24gaW4gY29sbGFwc2VkIHN0YXRlCiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNlY3Rpb25zIiB9LAogICAgICAgICAgICAhY29sbGFwc2VkICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KE1haWxTZWN0aW9uLCB7IGFjY291bnRzOiBbYWxsQWNjb3VudF0uY29uY2F0KHRoaXMucHJvcHMuYWNjb3VudHMpLCBzZWxlY3RlZFRhYjogc2VsZWN0ZWRNYWlsVGFiLCB0YWJzOiBtYWlsVGFicywgdGl0bGU6ICJtYWlsIiwgc2VsZWN0ZWRBY2NvdW50OiBzZWxlY3RlZEFjY291bnQsIGNvbGxhcHNlVHJhc2g6IGNvbGxhcHNlVHJhc2gsIHRyYXNoQ29sbGFwc2VkOiB0cmFzaENvbGxhcHNlZCwgY29sbGFwc2VkOiBjb2xsYXBzZWQgfHwgZmFsc2UgfSkpLAogICAgICAgICAgICAhY29sbGFwc2VkICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFRlYW1TZWN0aW9uLCBudWxsKSksCiAgICAgICAgICAgICFjb2xsYXBzZWQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdHNTZWN0aW9uLCB7IHNlbGVjdGVkVGFiOiBzZWxlY3RlZE1haWxUYWIsIHRhYnM6IGxpc3RUYWJzLCB0aXRsZTogIm1lbnRpb25zIiwgc2VsZWN0ZWRBY2NvdW50OiBzZWxlY3RlZEFjY291bnQgfSkpLAogICAgICAgICAgICBjb2xsYXBzZWQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sbGFwc2VkTWFpbFNlY3Rpb24sIHsgYWNjb3VudHM6IFthbGxBY2NvdW50XS5jb25jYXQodGhpcy5wcm9wcy5hY2NvdW50cyksIHNlbGVjdGVkVGFiOiBzZWxlY3RlZE1haWxUYWIsIHRhYnM6IG1haWxUYWJzLCB0aXRsZTogIm1haWwiLCBzZWxlY3RlZEFjY291bnQ6IHNlbGVjdGVkQWNjb3VudCwgY29sbGFwc2VUcmFzaDogY29sbGFwc2VUcmFzaCwgdHJhc2hDb2xsYXBzZWQ6IHRyYXNoQ29sbGFwc2VkLCBjb2xsYXBzZWQ6IGNvbGxhcHNlZCB8fCBmYWxzZSB9KSksCiAgICAgICAgICAgIGNvbGxhcHNlZCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb2xsYXBzZWRUZWFtU2VjdGlvbiwgbnVsbCkpLAogICAgICAgICAgICBjb2xsYXBzZWQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sbGFwc2VkTmF2aWdhdGlvblNlY3Rpb24sIHsgc2VsZWN0ZWRUYWI6IHNlbGVjdGVkTWFpbFRhYiwgdGFiczogbGlzdFRhYnMsIHRpdGxlOiAibWVudGlvbnMiLCBzZWxlY3RlZEFjY291bnQ6IHNlbGVjdGVkQWNjb3VudCB9KSkpKTsKICAgIH07CiAgICByZXR1cm4gTWFpbFRhYjsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IE1haWxUYWI7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/MailTab.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/LeftSidebar/components/MailTab/MailTab.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { find } from 'lodash';\n\nimport {\n  Account, Tab, Mailbox, MailboxType, MailCount, LeftSidebarCount,\n  AccountType, AccountStatus, Features,\n} from '@src/types';\n\nimport { mentionTabs } from './mocks';\n\nimport { MailSection } from './components/Section/MailSection';\nimport ListsSection from './components/Section/ListsSection';\nimport TeamSection from './components/Section/TeamSection';\nimport { NavbarTab } from '@src/types/leftSidebar';\nimport { createDeviceTypeNotifications } from '@src/mocks/accounts';\nimport { CollapsedMailSection } from './components/Section/CollapsedMailSection/CollapsedMailSection';\nimport CollapsedTeamSection from './components/Section/TeamSection/CollapsedTeamSection';\nimport CollapsedNavigationSection from './components/Section/CollapsedNavigationSection';\n\ninterface State {\n  selectedTab: string;\n}\n\nexport interface StateProps {\n  draftCount: number;\n  outboxCount: number;\n  sendLaterCount: number;\n  listTabs: Tab[];\n  trashCollapsed: boolean;\n  accountInboxCounts: {\n    [account: string]: MailCount;\n  };\n  selectedAccount?: string;\n  features: Features;\n  draftErrorCount: number;\n  collapsed?: boolean;\n}\n\nexport interface DispatchProps {\n  collapseTrash: (collapse: boolean) => void;\n}\n\nexport interface Props {\n  accounts: Account[];\n  selectedMailbox: Mailbox;\n  mailCount: MailCount;\n  leftSidebarCount: LeftSidebarCount;\n  selectedTab?: NavbarTab;\n}\n\nclass MailTab extends React.PureComponent<Props & StateProps & DispatchProps, State> {\n  constructor() {\n    super();\n  }\n\n  render() {\n    const {\n      accounts,\n      listTabs,\n      selectedMailbox,\n      mailCount,\n      leftSidebarCount,\n      draftCount,\n      sendLaterCount,\n      selectedTab,\n      trashCollapsed,\n      collapseTrash,\n      accountInboxCounts,\n      draftErrorCount,\n      outboxCount,\n      collapsed,\n    } = this.props;\n    const selectedAccountId = this.props.selectedAccount;\n\n    const accountTabs = !selectedAccountId && accounts.length > 2 ? accounts\n      .filter(a => a.id !== 'all')\n      .map((a) => {\n        let count = 0;\n        const counts = accountInboxCounts[a.id];\n\n        if (counts && leftSidebarCount === LeftSidebarCount.All) {\n          count = counts.inboxRead + counts.inboxUnread;\n        } else if (counts) {\n          count = counts.inboxUnread;\n        }\n\n        return {\n          key: `accounts-${a.id}`,\n          name: a.description,\n          count,\n          hideCollapsed: true,\n        };\n      }) : [];\n\n    let mailTabs: Tab[] = [\n      {\n        key: 'inbox',\n        name: accountTabs.length > 1 ? 'All Inboxes' : 'Inbox',\n        count: leftSidebarCount === LeftSidebarCount.All ?\n          mailCount.inboxRead + mailCount.inboxUnread : mailCount.inboxUnread,\n        showMore: true,\n      },\n      ...accountTabs,\n      {\n        key: 'later',\n        name: 'Read Later',\n        count: mailCount.laterCount,\n      },\n      {\n        key: 'starred',\n        name: 'Starred',\n        count: mailCount.starredCount,\n      },\n      {\n        key: 'archive',\n        name: 'Archive',\n        count: 0,\n      },\n      {\n        key: 'trash',\n        name: 'Trash',\n        count: 0,\n      },\n      {\n        key: 'spam',\n        name: 'Spam',\n        count: 0,\n      },\n      {\n        key: 'sent',\n        name: 'Sent',\n        count: 0,\n      },\n      {\n        key: 'sendLater',\n        name: 'Send Later',\n        count: sendLaterCount,\n      },\n      {\n        key: 'followUp',\n        name: 'Follow Up',\n        count: mailCount.followUpCount,\n      },\n      {\n        key: 'drafts',\n        name: 'Drafts',\n        count: draftCount,\n      },\n      {\n        key: 'outbox',\n        name: 'Outbox',\n        count: outboxCount,\n        errorCopy: draftErrorCount ?\n          `${draftErrorCount} draft${draftErrorCount > 1 ? 's' : ''} failed to send` : undefined,\n      },\n    ];\n\n    const selectedTabs = mailTabs\n      .concat(mentionTabs.concat(listTabs))\n      .filter((tab) => {\n        if (selectedMailbox.list) {\n          return tab.key === selectedMailbox.list;\n        }\n        if (selectedMailbox.type === MailboxType.Any && selectedMailbox.starred === true) {\n          return tab.key === 'starred';\n        }\n        if (selectedMailbox.type === MailboxType.Any && selectedMailbox.followUp === true) {\n          return tab.key === 'followUp';\n        }\n        if (selectedMailbox.type === MailboxType.Any && selectedMailbox.sent === true) {\n          return tab.key === 'sent';\n        }\n        if (selectedMailbox.type === MailboxType.Inbox &&\n          selectedMailbox.account !== selectedAccountId) {\n          return tab.key === `accounts-${selectedMailbox.account}`;\n        }\n        return tab.key === selectedMailbox.type;\n      });\n\n    if (!trashCollapsed) {\n      const trashSubSections = ['spam'];\n      mailTabs = mailTabs.filter(t => trashSubSections.indexOf(t.key) === -1);\n    }\n\n    const selectedMailTab = selectedTabs.length > 0 && selectedTab === 'mail' ?\n      selectedTabs[0].key : '';\n    const allAccount: Account = {\n      name: 'Unified Mailbox',\n      id: 'all',\n      email: 'Unified Mailbox',\n      description: 'All Accounts',\n      signature: '',\n      type: AccountType.Google,\n      status: AccountStatus.Ok,\n      signatureImages: [],\n\n      // mock, do not use for any computation\n      notifications: createDeviceTypeNotifications(),\n    };\n    const selectedAccount = selectedAccountId && find(accounts, { id: selectedAccountId })\n      || allAccount;\n\n    // TODO(SHIN): Alternate for TeamSection/ListsSection in collapsed state\n    return (\n      <div className=\"sections\">\n        {!collapsed && (\n          <MailSection\n          accounts={[allAccount].concat(this.props.accounts)}\n          selectedTab={selectedMailTab}\n          tabs={mailTabs}\n          title=\"mail\"\n          selectedAccount={selectedAccount}\n          collapseTrash={collapseTrash}\n          trashCollapsed={trashCollapsed}\n          collapsed={collapsed || false}\n        />\n        )}\n        {!collapsed && (\n          <TeamSection />\n        )}\n        {!collapsed && (\n          <ListsSection\n            selectedTab={selectedMailTab}\n            tabs={listTabs}\n            title=\"mentions\"\n            selectedAccount={selectedAccount}\n          />\n        )}\n        {collapsed && (\n          <CollapsedMailSection\n            accounts={[allAccount].concat(this.props.accounts)}\n            selectedTab={selectedMailTab}\n            tabs={mailTabs}\n            title=\"mail\"\n            selectedAccount={selectedAccount}\n            collapseTrash={collapseTrash}\n            trashCollapsed={trashCollapsed}\n            collapsed={collapsed || false}\n        />\n        )}\n        {collapsed && (\n          <CollapsedTeamSection />\n        )}\n        {collapsed && (\n          <CollapsedNavigationSection\n            selectedTab={selectedMailTab}\n            tabs={listTabs}\n            title=\"mentions\"\n            selectedAccount={selectedAccount}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MailTab;\n"]}]}