{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/ShareToSlack/components/SlackMessageEditor/SlackTypeaheadPopover/SlackTypeaheadPopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/ShareToSlack/components/SlackMessageEditor/SlackTypeaheadPopover/SlackTypeaheadPopover.tsx","mtime":1675280254044},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvUG9wb3Zlci9Qb3BvdmVyJzsKaW1wb3J0IERyb3Bkb3duSXRlbSBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9Ecm9wZG93bkl0ZW0nOwppbXBvcnQgJy4vU2xhY2tUeXBlYWhlYWRQb3BvdmVyLnNjc3MnOwppbXBvcnQgeyBmaW5kSW5kZXggfSBmcm9tICdsb2Rhc2gnOwp2YXIgU2xhY2tUeXBlYWhlYWRQb3BvdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFNsYWNrVHlwZWFoZWFkUG9wb3ZlciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIFNsYWNrVHlwZWFoZWFkUG9wb3Zlcihwcm9wcykgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3ZlciA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLmRvd25BcnJvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGNoYW5uZWxzID0gX2EuY2hhbm5lbHMsIG1lbWJlcnMgPSBfYS5tZW1iZXJzOwogICAgICAgICAgICB2YXIgbmV4dEluZGV4ID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbmRleCArIDE7CiAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPj0gKGNoYW5uZWxzLmxlbmd0aCArIG1lbWJlcnMubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbmRleDogbmV4dEluZGV4IH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMudXBBcnJvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHByZXZpb3VzSW5kZXggPSBfdGhpcy5zdGF0ZS5zZWxlY3RlZEluZGV4IC0gMTsKICAgICAgICAgICAgaWYgKHByZXZpb3VzSW5kZXggPCAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEluZGV4OiBwcmV2aW91c0luZGV4IH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMub25TZWxlY3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBvbkNoYW5uZWxTZWxlY3QgPSBfYS5vbkNoYW5uZWxTZWxlY3QsIGNoYW5uZWxzID0gX2EuY2hhbm5lbHM7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbmRleDsKICAgICAgICAgICAgb25DaGFubmVsU2VsZWN0KGNoYW5uZWxzW3NlbGVjdGVkSW5kZXhdKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU1lbWJlclNlbGVjdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uTWVtYmVyU2VsZWN0ID0gX2Eub25NZW1iZXJTZWxlY3QsIG1lbWJlcnMgPSBfYS5tZW1iZXJzOwogICAgICAgICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IF90aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXg7CiAgICAgICAgICAgIG9uTWVtYmVyU2VsZWN0KG1lbWJlcnNbc2VsZWN0ZWRJbmRleF0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5zaG93KCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oaWRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyLmhpZGUoKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbW91c2VJblBvcG92ZXI6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTW91c2VFbnRlciA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBjaGFubmVscyA9IF9hLmNoYW5uZWxzLCBtZW1iZXJzID0gX2EubWVtYmVyczsKICAgICAgICAgICAgdmFyIG1lbWJlcklkID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubWVtYmVyOwogICAgICAgICAgICB2YXIgY2hhbm5lbElkID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubG9va3VwOwogICAgICAgICAgICBpZiAoY2hhbm5lbElkKSB7CiAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbEluZGV4ID0gZmluZEluZGV4KGNoYW5uZWxzLCB7IGlkOiBjaGFubmVsSWQgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW5kZXg6IGNoYW5uZWxJbmRleCwgbW91c2VJblBvcG92ZXI6IHRydWUgfSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1lbWJlcklkKSB7CiAgICAgICAgICAgICAgICB2YXIgbWVtYmVySW5kZXggPSBmaW5kSW5kZXgobWVtYmVycywgeyBpZDogbWVtYmVySWQgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW5kZXg6IG1lbWJlckluZGV4LCBtb3VzZUluUG9wb3ZlcjogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXg6IDAsCiAgICAgICAgICAgIG1vdXNlSW5Qb3BvdmVyOiBmYWxzZSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFNsYWNrVHlwZWFoZWFkUG9wb3Zlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgb25IaWRlID0gX2Eub25IaWRlLCBvblNob3cgPSBfYS5vblNob3csIGNoYW5uZWxzID0gX2EuY2hhbm5lbHMsIG1lbWJlcnMgPSBfYS5tZW1iZXJzOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQb3BvdmVyLCB7IGNsYXNzTmFtZTogInNsYWNrLXR5cGVhaGVhZC1wb3BvdmVyIiwgcmVmOiB0aGlzLmhhbmRsZVJlZiwgb25TaG93OiBvblNob3csIG9uSGlkZTogb25IaWRlLCBvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZSwgcGVyc2lzdGVudDogdHJ1ZSB9LAogICAgICAgICAgICAhIWNoYW5uZWxzLmxlbmd0aCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNoYW5uZWwgdGl0bGUiIH0sICJDaGFubmVscyIpLAogICAgICAgICAgICBjaGFubmVscy5tYXAoZnVuY3Rpb24gKHZhbCwgaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25JdGVtLCB7IGtleTogdmFsLmlkLCBsb29rdXA6IHZhbC5pZCwgaW5kZXg6IGksIHZhbHVlOiB2YWwubmFtZSwgb25DbGljazogX3RoaXMub25TZWxlY3QsIGNsYXNzTmFtZTogX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PT0gaSAmJiAnc2VsZWN0ZWQnIHx8IHVuZGVmaW5lZCwgb25Nb3VzZUVudGVyOiBfdGhpcy5oYW5kbGVNb3VzZUVudGVyIH0pOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgISFtZW1iZXJzLmxlbmd0aCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInBlb3BsZSB0aXRsZSIgfSwgIlBlb3BsZSIpLAogICAgICAgICAgICBtZW1iZXJzLm1hcChmdW5jdGlvbiAobWVtYmVyLCBpKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ21lbWJlcicsIHsgc2VsZWN0ZWQ6IF90aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXggPT09IGkgfSksICJkYXRhLW1lbWJlciI6IG1lbWJlci5pZCwga2V5OiBpLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVNZW1iZXJTZWxlY3QsIG9uTW91c2VFbnRlcjogX3RoaXMuaGFuZGxlTW91c2VFbnRlciwgdGFiSW5kZXg6IC0xIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJhdmF0YXIiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW1nIiwgeyBzcmM6IG1lbWJlci5waG90b1VybCB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJyZWFsLW5hbWUiIH0sIG1lbWJlci5yZWFsTmFtZSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJkaXNwbGF5LW5hbWUiIH0sIG1lbWJlci5kaXNwbGF5TmFtZSkpKTsgfSkpKTsKICAgIH07CiAgICByZXR1cm4gU2xhY2tUeXBlYWhlYWRQb3BvdmVyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgU2xhY2tUeXBlYWhlYWRQb3BvdmVyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/ShareToSlack/components/SlackMessageEditor/SlackTypeaheadPopover/SlackTypeaheadPopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/ShareToSlack/components/SlackMessageEditor/SlackTypeaheadPopover/SlackTypeaheadPopover.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport Popover from '@src/components/Popover/Popover';\nimport { SlackChannel, SlackMember } from '@src/types/slack';\nimport DropdownItem from '@src/components/Form/DropdownItem';\n\nimport './SlackTypeaheadPopover.scss';\nimport { findIndex } from 'lodash';\n\ninterface Props {\n  onHide: () => void;\n  onShow: () => void;\n  channels: SlackChannel[];\n  members: SlackMember[];\n  onMemberSelect: (m: SlackMember) => void;\n  onChannelSelect: (c: SlackChannel) => void;\n}\n\ninterface State {\n  selectedIndex: number;\n  mouseInPopover: boolean;\n}\n\nclass SlackTypeaheadPopover extends React.PureComponent<Props, State> {\n  popover: Popover;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      selectedIndex: 0,\n      mouseInPopover: false,\n    };\n  }\n\n  handleRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  downArrow = () => {\n    const { channels, members } = this.props;\n    const nextIndex = this.state.selectedIndex + 1;\n    if (nextIndex >= (channels.length + members.length)) {\n      return;\n    }\n\n    this.setState({ selectedIndex: nextIndex });\n  }\n\n  upArrow = () => {\n    const previousIndex = this.state.selectedIndex - 1;\n    if (previousIndex < 0) {\n      return;\n    }\n    this.setState({ selectedIndex: previousIndex });\n  }\n\n  onSelect = () => {\n    const { onChannelSelect, channels } = this.props;\n    const { selectedIndex } = this.state;\n\n    onChannelSelect(channels[selectedIndex]);\n  }\n\n  handleMemberSelect = () => {\n    const { onMemberSelect, members } = this.props;\n    const { selectedIndex } = this.state;\n\n    onMemberSelect(members[selectedIndex]);\n  }\n\n  show = () => {\n    this.popover.show();\n  }\n\n  hide = () => {\n    this.popover.hide();\n  }\n\n  handleMouseLeave = () => {\n    this.setState({ mouseInPopover: false });\n  }\n\n  handleMouseEnter = (e: React.MouseEvent<HTMLElement>) => {\n    const { channels, members } = this.props;\n    const memberId = e.currentTarget.dataset.member;\n    const channelId = e.currentTarget.dataset.lookup;\n    if (channelId) {\n      const channelIndex = findIndex(channels, { id: channelId });\n      this.setState({ selectedIndex: channelIndex, mouseInPopover: true });\n      return;\n    }\n\n    if (memberId) {\n      const memberIndex = findIndex(members, { id: memberId });\n      this.setState({ selectedIndex: memberIndex, mouseInPopover: true });\n      return;\n    }\n  }\n\n  render() {\n    const { onHide, onShow, channels, members } = this.props;\n\n    return (\n      <Popover\n        className=\"slack-typeahead-popover\"\n        ref={this.handleRef}\n        onShow={onShow}\n        onHide={onHide}\n        onMouseLeave={this.handleMouseLeave}\n        persistent\n      >\n        {!!channels.length && <div className=\"channel title\">\n          Channels\n        </div>}\n        {channels.map((val, i) =>\n          <DropdownItem\n            key={val.id}\n            lookup={val.id}\n            index={i}\n            value={val.name}\n            onClick={this.onSelect}\n            className={this.state.selectedIndex === i && 'selected' || undefined}\n            onMouseEnter={this.handleMouseEnter}\n          />,\n        )}\n        {!!members.length && <div className=\"people title\">\n          People\n        </div>}\n        {members.map((member, i) => (\n          <button\n            className={classnames(\n              'member',\n              { selected: this.state.selectedIndex === i },\n            )}\n            data-member={member.id}\n            key={i}\n            onClick={this.handleMemberSelect}\n            onMouseEnter={this.handleMouseEnter}\n            tabIndex={-1}\n          >\n            <span className=\"avatar\"><img src={member.photoUrl} /></span>\n            <span className=\"real-name\">{member.realName}</span>\n            <span className=\"display-name\">{member.displayName}</span>\n          </button>\n        ))}\n      </Popover>\n    );\n  }\n}\n\nexport default SlackTypeaheadPopover;\n"]}]}