{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamSignupPane/TeamSignupPane.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamSignupPane/TeamSignupPane.tsx","mtime":1675280254080},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IFRleHRJbnB1dCBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9UZXh0SW5wdXQnOwppbXBvcnQgJy4uL1NpZ251cFBhbmUvU2lnbnVwUGFuZS5zY3NzJzsKaW1wb3J0IHsgaXNFbWFpbCB9IGZyb20gJ0BzcmMvbGliL3NlYXJjaCc7CmltcG9ydCB7IFJlc291cmNlU3RhdHVzLCBPQXV0aFR5cGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IExvYWRlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvTG9hZGVyL0xvYWRlcic7CmltcG9ydCBHb29nbGUgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0dvb2dsZS5zdmcnOwppbXBvcnQgTWljcm9zb2Z0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9NaWNyb3NvZnQuc3ZnJzsKdmFyIFRlYW1TaWdudXBQYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFRlYW1TaWdudXBQYW5lLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gVGVhbVNpZ251cFBhbmUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVGaXJzdE5hbWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGZpcnN0TmFtZTogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTGFzdE5hbWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGxhc3ROYW1lOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVFbWFpbENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWw6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVBhc3N3b3JkQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBwYXNzd29yZDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU3VibWl0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgc2lnbnVwID0gX2Euc2lnbnVwLCBzZXRUb2FzdCA9IF9hLnNldFRvYXN0OwogICAgICAgICAgICB2YXIgX2IgPSBfdGhpcy5zdGF0ZSwgZmlyc3ROYW1lID0gX2IuZmlyc3ROYW1lLCBsYXN0TmFtZSA9IF9iLmxhc3ROYW1lLCBlbWFpbCA9IF9iLmVtYWlsLCBwYXNzd29yZCA9IF9iLnBhc3N3b3JkOwogICAgICAgICAgICBpZiAoIWlzRW1haWwoZW1haWwpKSB7CiAgICAgICAgICAgICAgICBzZXRUb2FzdChuZXcgRXJyb3IoJ1BsZWFzZSBjaG9vc2UgYSB2YWxpZCBlbWFpbCcpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgNikgewogICAgICAgICAgICAgICAgc2V0VG9hc3QobmV3IEVycm9yKCdQbGVhc2UgY2hvb3NlIGEgcGFzc3dvcmQgdGhhdCBpcyA4IGNoYXJhY3RlcnMgb3IgbW9yZSwgMSsgc3BlY2lhbCBjaGFyYWN0ZXJzJykpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbWFpbCAmJiBwYXNzd29yZCkgewogICAgICAgICAgICAgICAgc2lnbnVwKHsKICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTogbGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgICAgICAgICAgICAgICB0ZWFtSW52aXRlTm9uY2U6IF90aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5ub25jZSwKICAgICAgICAgICAgICAgICAgICB0ZWFtSW52aXRlUGF5bG9hZDogX3RoaXMucHJvcHMubWF0Y2gucGFyYW1zLnBheWxvYWQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlR29vZ2xlTG9naW4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgbWF0Y2ggPSBfYS5tYXRjaCwgbG9naW5PQXV0aCA9IF9hLmxvZ2luT0F1dGg7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgbG9naW5PQXV0aCh7CiAgICAgICAgICAgICAgICB0eXBlOiBPQXV0aFR5cGUuR29vZ2xlLAogICAgICAgICAgICAgICAgdGVhbUludml0ZU5vbmNlOiBtYXRjaC5wYXJhbXMubm9uY2UsCiAgICAgICAgICAgICAgICB0ZWFtSW52aXRlUGF5bG9hZDogbWF0Y2gucGFyYW1zLnBheWxvYWQsCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTWljcm9zb2Z0TG9naW4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgbWF0Y2ggPSBfYS5tYXRjaCwgbG9naW5PQXV0aCA9IF9hLmxvZ2luT0F1dGg7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgbG9naW5PQXV0aCh7CiAgICAgICAgICAgICAgICB0eXBlOiBPQXV0aFR5cGUuTWljcm9zb2Z0LAogICAgICAgICAgICAgICAgdGVhbUludml0ZU5vbmNlOiBtYXRjaC5wYXJhbXMubm9uY2UsCiAgICAgICAgICAgICAgICB0ZWFtSW52aXRlUGF5bG9hZDogbWF0Y2gucGFyYW1zLnBheWxvYWQsCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBUZWFtU2lnbnVwUGFuZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgaW52aXRlID0gX2EuaW52aXRlLCB2YWxpZGF0ZUludml0ZSA9IF9hLnZhbGlkYXRlSW52aXRlOwogICAgICAgIC8vIFRyaWdnZXIgaW52aXRlIHZhbGlkYXRpb24KICAgICAgICBpZiAoaW52aXRlLnN0YXR1cyA9PT0gUmVzb3VyY2VTdGF0dXMuUGVuZGluZykgewogICAgICAgICAgICB2YWxpZGF0ZUludml0ZSh7CiAgICAgICAgICAgICAgICBub25jZTogdGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMubm9uY2UsCiAgICAgICAgICAgICAgICBwYXlsb2FkOiB0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5wYXlsb2FkLAogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgVGVhbVNpZ251cFBhbmUucHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykgewogICAgICAgIHZhciBfYSwgX2I7CiAgICAgICAgdmFyIG9sZEVtYWlsID0gdGhpcy5wcm9wcy5pbnZpdGUuZGF0YSAmJiAoKF9hID0gdGhpcy5wcm9wcy5pbnZpdGUuZGF0YS5pbnZpdGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1haWwpIHx8ICcnOwogICAgICAgIHZhciBuZXdFbWFpbCA9IG5leHRQcm9wcy5pbnZpdGUuZGF0YSAmJiAoKF9iID0gbmV4dFByb3BzLmludml0ZS5kYXRhLmludml0ZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5lbWFpbCkgfHwgJyc7CiAgICAgICAgaWYgKG9sZEVtYWlsICE9PSBuZXdFbWFpbCAmJiB0aGlzLnN0YXRlLmVtYWlsID09PSAnJykgewogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWw6IG5ld0VtYWlsIH0pOwogICAgICAgIH0KICAgIH07CiAgICBUZWFtU2lnbnVwUGFuZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYTsKICAgICAgICB2YXIgX2IgPSB0aGlzLnByb3BzLCBpbnZpdGUgPSBfYi5pbnZpdGUsIGxvYWRpbmcgPSBfYi5sb2FkaW5nOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzaWdudXAtcGFuZSIgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZm9ybSIsIHsgY2xhc3NOYW1lOiAidXNlci1maWVsZHMtd3JhcHBlciIsIG9uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdCB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzaWdudXAtcHJvbXB0IiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGl0bGUiIH0sICJKb2luIHlvdXIgdGVhbW1hdGVzIG9uIFBvbHltYWlsIiksCiAgICAgICAgICAgICAgICAgICAgaW52aXRlLmRhdGEgJiYKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJkZXNjcmlwdGlvbiIgfSwgKChfYSA9IGludml0ZS5kYXRhLmludml0ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maXJzdE5hbWUpID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludml0ZS5kYXRhLmludml0ZXIuZmlyc3ROYW1lICsgIiBpbnZpdGVkIHlvdSIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgiIHRvIGpvaW4gIiArIGludml0ZS5kYXRhLnRlYW1OYW1lICsgIiBvbiBQb2x5bWFpbCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGludml0ZS5kYXRhLnRlYW1OYW1lKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm9hdXRoIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiZ29vZ2xlIiwgb25DbGljazogdGhpcy5oYW5kbGVHb29nbGVMb2dpbiwgdHlwZTogImJ1dHRvbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpY29uIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChHb29nbGUsIHsgd2lkdGg6ICIxOHB4IiwgaGVpZ2h0OiAiMThweCIgfSkpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRleHQiIH0sICJTaWduIGluIHdpdGggR29vZ2xlIikpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAibWljcm9zb2Z0Iiwgb25DbGljazogdGhpcy5oYW5kbGVNaWNyb3NvZnRMb2dpbiwgdHlwZTogImJ1dHRvbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpY29uIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChNaWNyb3NvZnQsIHsgd2lkdGg6ICIxOHB4IiwgaGVpZ2h0OiAiMThweCIgfSkpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRleHQiIH0sICJTaWduIGluIHdpdGggTWljcm9zb2Z0IikpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2VwYXJhdG9yLWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNlcGFyYXRvciIgfSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0IiB9LCAib3IiKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNlcGFyYXRvciIgfSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ1c2VyLWZpZWxkcyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm5hbWUtcGFuZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHsgZGVzY3JpcHRpb246ICJGaXJzdCBuYW1lIiwgcGxhY2Vob2xkZXI6ICJGaXJzdCIsIHZhbHVlOiB0aGlzLnN0YXRlLmZpcnN0TmFtZSwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRmlyc3ROYW1lQ2hhbmdlLCB0eXBlOiAidGV4dCIsIGF1dG9mb2N1czogdHJ1ZSwgYXV0b0NvbXBsZXRlOiAiZ2l2ZW4tbmFtZSIgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dElucHV0LCB7IGRlc2NyaXB0aW9uOiAiTGFzdCBuYW1lIiwgcGxhY2Vob2xkZXI6ICJMYXN0IiwgdmFsdWU6IHRoaXMuc3RhdGUubGFzdE5hbWUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUxhc3ROYW1lQ2hhbmdlLCB0eXBlOiAidGV4dCIsIGF1dG9Db21wbGV0ZTogImZhbWlseS1uYW1lIiB9KSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHsgZGVzY3JpcHRpb246ICJXb3JrIGVtYWlsIiwgcGxhY2Vob2xkZXI6ICJFbWFpbCIsIHZhbHVlOiB0aGlzLnN0YXRlLmVtYWlsLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVFbWFpbENoYW5nZSwgdHlwZTogImVtYWlsIiwgYXV0b0NvbXBsZXRlOiAiZW1haWwiIH0pLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwgeyBkZXNjcmlwdGlvbjogIkNob29zZSBhIHBhc3N3b3JkIiwgcGxhY2Vob2xkZXI6ICI4IGNoYXJhY3RlcnMgb3IgbW9yZSwgMSsgc3BlY2lhbCBjaGFyYWN0ZXJzIiwgdmFsdWU6IHRoaXMuc3RhdGUucGFzc3dvcmQsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVBhc3N3b3JkQ2hhbmdlLCB0eXBlOiAicGFzc3dvcmQiLCBhdXRvQ29tcGxldGU6ICJuZXctcGFzc3dvcmQiIH0pKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogInNpZ251cC1idXR0b24iLCB0eXBlOiAic3VibWl0IiwgZGlzYWJsZWQ6IGxvYWRpbmcgfSwKICAgICAgICAgICAgICAgICAgICBsb2FkaW5nICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGVyLCBudWxsKSwKICAgICAgICAgICAgICAgICAgICAhbG9hZGluZyAmJiAnQ3JlYXRlIEFjY291bnQnKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2lnbi11cC1sYWJlbCIgfSwKICAgICAgICAgICAgICAgICAgICAiQWxyZWFkeSBoYXZlIGEgUG9seW1haWwgYWNjb3VudD8iLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGluaywgeyB0bzogIi9sb2dpbiIgfSwgIiBMb2dpbiBoZXJlIikpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzaWduLXVwLWxhYmVsIiB9LAogICAgICAgICAgICAgICAgICAgICJCeSBjcmVhdGluZyBhbiBhY2NvdW50LCB5b3UgYWdyZWUgdG8gb3VyIiwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJiciIsIG51bGwpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7IGhyZWY6ICJodHRwczovL3BvbHltYWlsLmlvL2xlZ2FsL3ByaXZhY3kiLCB0YXJnZXQ6ICJfYmxhbmsiIH0sICJQcml2YWN5IFBvbGljeSAiKSwKICAgICAgICAgICAgICAgICAgICAiYW5kIiwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJhIiwgeyBocmVmOiAiaHR0cHM6Ly9wb2x5bWFpbC5pby9sZWdhbC90b3MiLCB0YXJnZXQ6ICJfYmxhbmsiIH0sICIgVGVybXMgb2YgU2VydmljZSIpLAogICAgICAgICAgICAgICAgICAgICIuIikpKSk7CiAgICB9OwogICAgcmV0dXJuIFRlYW1TaWdudXBQYW5lOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgVGVhbVNpZ251cFBhbmU7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamSignupPane/TeamSignupPane.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/TeamSignupPane/TeamSignupPane.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,IAAI,EAAuB,MAAM,kBAAkB,CAAC;AAE7D,OAAO,SAAS,MAAM,gCAAgC,CAAC;AAEvD,OAAO,+BAA+B,CAAC;AACvC,OAAO,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAE1C,OAAO,EAAY,cAAc,EAAE,SAAS,EAAE,MAAM,YAAY,CAAC;AAGjE,OAAO,MAAM,MAAM,+BAA+B,CAAC;AACnD,OAAO,MAAM,MAAM,kCAAkC,CAAC;AACtD,OAAO,SAAS,MAAM,qCAAqC,CAAC;AA2B5D;IAA6B,kCAE5B;IACC;QAAA,YACE,iBAAO,SAOR;QAuBD,2BAAqB,GAAG,UAAC,CAAoC;YAC3D,KAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;QACtD,CAAC,CAAA;QAED,0BAAoB,GAAG,UAAC,CAAoC;YAC1D,KAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;QACrD,CAAC,CAAA;QAED,uBAAiB,GAAG,UAAC,CAAoC;YACvD,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;QAClD,CAAC,CAAA;QAED,0BAAoB,GAAG,UAAC,CAAoC;YAC1D,KAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;QACrD,CAAC,CAAA;QAED,kBAAY,GAAG,UAAC,CAAmC;YACjD,CAAC,CAAC,cAAc,EAAE,CAAC;YAEb,IAAA,gBAAiC,EAA/B,kBAAM,EAAE,sBAAuB,CAAC;YAClC,IAAA,gBAKQ,EAJZ,wBAAS,EACT,sBAAQ,EACR,gBAAK,EACL,sBACY,CAAC;YAEf,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBACnB,QAAQ,CAAC,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC,CAAC;gBACnD,OAAO;aACR;YAED,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,QAAQ,CAAC,IAAI,KAAK,CAAC,8EAA8E,CAAC,CAAC,CAAC;gBACpG,OAAO;aACR;YAED,IAAI,KAAK,IAAI,QAAQ,EAAE;gBACrB,MAAM,CAAC;oBACL,SAAS,WAAA;oBACT,QAAQ,UAAA;oBACR,KAAK,OAAA;oBACL,QAAQ,UAAA;oBACR,eAAe,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK;oBAC9C,iBAAiB,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;iBACnD,CAAC,CAAC;aACJ;QACH,CAAC,CAAA;QAED,uBAAiB,GAAG,UAAC,CAAsC;YACnD,IAAA,gBAAkC,EAAhC,gBAAK,EAAE,0BAAyB,CAAC;YACzC,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,UAAU,CAAC;gBACT,IAAI,EAAE,SAAS,CAAC,MAAM;gBACtB,eAAe,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK;gBACnC,iBAAiB,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO;aACxC,CAAC,CAAC;QACL,CAAC,CAAA;QAED,0BAAoB,GAAG,UAAC,CAAsC;YACtD,IAAA,gBAAkC,EAAhC,gBAAK,EAAE,0BAAyB,CAAC;YACzC,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,UAAU,CAAC;gBACT,IAAI,EAAE,SAAS,CAAC,SAAS;gBACzB,eAAe,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK;gBACnC,iBAAiB,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO;aACxC,CAAC,CAAC;QACL,CAAC,CAAA;QApGC,KAAI,CAAC,KAAK,GAAG;YACX,SAAS,EAAE,EAAE;YACb,QAAQ,EAAE,EAAE;YACZ,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;SACb,CAAC;;IACJ,CAAC;IAED,0CAAiB,GAAjB;QACQ,IAAA,eAAuC,EAArC,kBAAM,EAAE,kCAA6B,CAAC;QAE9C,4BAA4B;QAC5B,IAAI,MAAM,CAAC,MAAM,KAAK,cAAc,CAAC,OAAO,EAAE;YAC5C,cAAc,CAAC;gBACb,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK;gBACpC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;aACzC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,yDAAgC,GAAhC,UAAiC,SAAqB;;QACpD,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,WAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,0CAAE,KAAK,CAAA,IAAI,EAAE,CAAC;QACvF,IAAM,QAAQ,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,WAAI,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,0CAAE,KAAK,CAAA,IAAI,EAAE,CAAC;QAErF,IAAI,QAAQ,KAAK,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,EAAE,EAAE;YACpD,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC;SACpC;IACH,CAAC;IA2ED,+BAAM,GAAN;;QACQ,IAAA,eAAgC,EAA9B,kBAAM,EAAE,oBAAsB,CAAC;QAEvC,OAAO,CACL,6BAAK,SAAS,EAAC,aAAa;YAC1B,8BAAM,SAAS,EAAC,qBAAqB,EAAC,QAAQ,EAAE,IAAI,CAAC,YAAY;gBAC/D,6BAAK,SAAS,EAAC,eAAe;oBAC5B,6BAAK,SAAS,EAAC,OAAO,sCAEhB;oBACL,MAAM,CAAC,IAAI;wBACV,6BAAK,SAAS,EAAC,aAAa,IACzB,OAAA,MAAM,CAAC,IAAI,CAAC,OAAO,0CAAE,SAAS,EAAC,CAAC;4BAC5B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,iBAAc;iCAC9C,cAAY,MAAM,CAAC,IAAI,CAAC,QAAQ,iBAAc,CAAA;4BAC5C,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAEtB,CAEJ;gBACN,6BAAK,SAAS,EAAC,OAAO;oBACpB,gCACE,SAAS,EAAC,QAAQ,EAClB,OAAO,EAAE,IAAI,CAAC,iBAAiB,EAC/B,IAAI,EAAC,QAAQ;wBAEb,6BAAK,SAAS,EAAC,MAAM;4BACnB,oBAAC,MAAM,IAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,GAAG,CACjC;wBACN,6BAAK,SAAS,EAAC,MAAM,0BAEf,CACC;oBACT,gCACE,SAAS,EAAC,WAAW,EACrB,OAAO,EAAE,IAAI,CAAC,oBAAoB,EAClC,IAAI,EAAC,QAAQ;wBAEb,6BAAK,SAAS,EAAC,MAAM;4BACnB,oBAAC,SAAS,IAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,GAAG,CACpC;wBACN,6BAAK,SAAS,EAAC,MAAM,6BAEf,CACC,CACL;gBACN,6BAAK,SAAS,EAAC,qBAAqB;oBAClC,6BAAK,SAAS,EAAC,WAAW,GAAG;oBAC7B,6BAAK,SAAS,EAAC,MAAM,SAAS;oBAC9B,6BAAK,SAAS,EAAC,WAAW,GAAG,CACzB;gBACN,6BAAK,SAAS,EAAC,aAAa;oBAC1B,6BAAK,SAAS,EAAC,WAAW;wBACxB,oBAAC,SAAS,IACR,WAAW,EAAC,YAAY,EACxB,WAAW,EAAC,OAAO,EACnB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAC3B,QAAQ,EAAE,IAAI,CAAC,qBAAqB,EACpC,IAAI,EAAC,MAAM,EACX,SAAS,EAAE,IAAI,EACf,YAAY,EAAC,YAAY,GACzB;wBACF,oBAAC,SAAS,IACR,WAAW,EAAC,WAAW,EACvB,WAAW,EAAC,MAAM,EAClB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAC1B,QAAQ,EAAE,IAAI,CAAC,oBAAoB,EACnC,IAAI,EAAC,MAAM,EACX,YAAY,EAAC,aAAa,GAC1B,CACE;oBACN;wBACE,oBAAC,SAAS,IACR,WAAW,EAAC,YAAY,EACxB,WAAW,EAAC,OAAO,EACnB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EACvB,QAAQ,EAAE,IAAI,CAAC,iBAAiB,EAChC,IAAI,EAAC,OAAO,EACZ,YAAY,EAAC,OAAO,GACpB;wBACF,oBAAC,SAAS,IACR,WAAW,EAAC,mBAAmB,EAC/B,WAAW,EAAC,6CAA6C,EACzD,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAC1B,QAAQ,EAAE,IAAI,CAAC,oBAAoB,EACnC,IAAI,EAAC,UAAU,EACf,YAAY,EAAC,cAAc,GAC3B,CACE,CACF;gBACN,gCACE,SAAS,EAAC,eAAe,EACzB,IAAI,EAAC,QAAQ,EACb,QAAQ,EAAE,OAAO;oBAEhB,OAAO,IAAI,oBAAC,MAAM,OAAG;oBACrB,CAAC,OAAO,IAAI,gBAAgB,CACtB;gBACT,6BAAK,SAAS,EAAC,eAAe;;oBAE5B,oBAAC,IAAI,IAAC,EAAE,EAAC,QAAQ,kBAAmB,CAChC;gBACN,6BAAK,SAAS,EAAC,eAAe;;oBAE5B,+BAAM;oBACN,2BAAG,IAAI,EAAC,mCAAmC,EAAC,MAAM,EAAC,QAAQ,sBAAoB;;oBAE/E,2BAAG,IAAI,EAAC,+BAA+B,EAAC,MAAM,EAAC,QAAQ,wBAAsB;wBAEzE,CACD,CACH,CACP,CAAC;IACJ,CAAC;IACH,qBAAC;AAAD,CAAC,AA7ND,CAA6B,KAAK,CAAC,aAAa,GA6N/C;AAED,eAAe,cAAc,CAAC","sourcesContent":["import React from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport TextInput from '@src/components/Form/TextInput';\n\nimport '../SignupPane/SignupPane.scss';\nimport { isEmail } from '@src/lib/search';\nimport { MeCreateMeta } from '@src/ducks/me';\nimport { Resource, ResourceStatus, OAuthType } from '@src/types';\nimport { TeamInviteValidateResponse } from '@src/api/team';\nimport { TeamInviteValidateMeta } from '@src/ducks/teamMembers';\nimport Loader from '@src/components/Loader/Loader';\nimport Google from '@src/components/Icons/Google.svg';\nimport Microsoft from '@src/components/Icons/Microsoft.svg';\nimport { AuthOAuthLoginMeta } from '@src/ducks/auth';\n\nexport interface DispatchProps {\n  signup: (user: MeCreateMeta) => void;\n  setToast: (e: Error) => void;\n  validateInvite: (invite: TeamInviteValidateMeta) => void;\n  loginOAuth: (meta: AuthOAuthLoginMeta) => void;\n}\n\nexport interface StateProps {\n  invite: Resource<TeamInviteValidateResponse>;\n  loading: boolean;\n}\n\nexport interface RouteProps {\n  nonce: string;\n  payload: string;\n}\n\ninterface State {\n  firstName: string;\n  lastName: string;\n  email: string;\n  password: string;\n}\n\nclass TeamSignupPane extends React.PureComponent<\n  RouteComponentProps<RouteProps> & StateProps & DispatchProps, State\n> {\n  constructor() {\n    super();\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n    };\n  }\n\n  componentDidMount() {\n    const { invite, validateInvite } = this.props;\n\n    // Trigger invite validation\n    if (invite.status === ResourceStatus.Pending) {\n      validateInvite({\n        nonce: this.props.match.params.nonce,\n        payload: this.props.match.params.payload,\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: StateProps) {\n    const oldEmail = this.props.invite.data && this.props.invite.data.inviter?.email || '';\n    const newEmail = nextProps.invite.data && nextProps.invite.data.inviter?.email || '';\n\n    if (oldEmail !== newEmail && this.state.email === '') {\n      this.setState({ email: newEmail });\n    }\n  }\n\n  handleFirstNameChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ firstName: e.currentTarget.value });\n  }\n\n  handleLastNameChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ lastName: e.currentTarget.value });\n  }\n\n  handleEmailChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ email: e.currentTarget.value });\n  }\n\n  handlePasswordChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ password: e.currentTarget.value });\n  }\n\n  handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const { signup, setToast } = this.props;\n    const {\n      firstName,\n      lastName,\n      email,\n      password,\n    } = this.state;\n\n    if (!isEmail(email)) {\n      setToast(new Error('Please choose a valid email'));\n      return;\n    }\n\n    if (password.length < 6) {\n      setToast(new Error('Please choose a password that is 8 characters or more, 1+ special characters'));\n      return;\n    }\n\n    if (email && password) {\n      signup({\n        firstName,\n        lastName,\n        email,\n        password,\n        teamInviteNonce: this.props.match.params.nonce,\n        teamInvitePayload: this.props.match.params.payload,\n      });\n    }\n  }\n\n  handleGoogleLogin = (e: React.MouseEvent<HTMLButtonElement>) => {\n    const { match, loginOAuth } = this.props;\n    e.preventDefault();\n    e.stopPropagation();\n\n    loginOAuth({\n      type: OAuthType.Google,\n      teamInviteNonce: match.params.nonce,\n      teamInvitePayload: match.params.payload,\n    });\n  }\n\n  handleMicrosoftLogin = (e: React.MouseEvent<HTMLButtonElement>) => {\n    const { match, loginOAuth } = this.props;\n    e.preventDefault();\n    e.stopPropagation();\n\n    loginOAuth({\n      type: OAuthType.Microsoft,\n      teamInviteNonce: match.params.nonce,\n      teamInvitePayload: match.params.payload,\n    });\n  }\n\n  render() {\n    const { invite, loading } = this.props;\n\n    return (\n      <div className=\"signup-pane\">\n        <form className=\"user-fields-wrapper\" onSubmit={this.handleSubmit}>\n          <div className=\"signup-prompt\">\n            <div className=\"title\">\n              Join your teammates on Polymail\n            </div>\n            {invite.data &&\n              <div className=\"description\">\n                {invite.data.inviter?.firstName ?\n                  `${invite.data.inviter.firstName} invited you` +\n                  ` to join ${invite.data.teamName} on Polymail`\n                    : invite.data.teamName}\n\n              </div>\n            }\n          </div>\n          <div className=\"oauth\">\n            <button\n              className=\"google\"\n              onClick={this.handleGoogleLogin}\n              type=\"button\"\n            >\n              <div className=\"icon\">\n                <Google width=\"18px\" height=\"18px\" />\n              </div>\n              <div className=\"text\">\n                Sign in with Google\n              </div>\n            </button>\n            <button\n              className=\"microsoft\"\n              onClick={this.handleMicrosoftLogin}\n              type=\"button\"\n            >\n              <div className=\"icon\">\n                <Microsoft width=\"18px\" height=\"18px\" />\n              </div>\n              <div className=\"text\">\n                Sign in with Microsoft\n              </div>\n            </button>\n          </div>\n          <div className=\"separator-container\">\n            <div className=\"separator\" />\n            <div className=\"text\">or</div>\n            <div className=\"separator\" />\n          </div>\n          <div className=\"user-fields\">\n            <div className=\"name-pane\">\n              <TextInput\n                description=\"First name\"\n                placeholder=\"First\"\n                value={this.state.firstName}\n                onChange={this.handleFirstNameChange}\n                type=\"text\"\n                autofocus={true}\n                autoComplete=\"given-name\"\n              />\n              <TextInput\n                description=\"Last name\"\n                placeholder=\"Last\"\n                value={this.state.lastName}\n                onChange={this.handleLastNameChange}\n                type=\"text\"\n                autoComplete=\"family-name\"\n              />\n            </div>\n            <div>\n              <TextInput\n                description=\"Work email\"\n                placeholder=\"Email\"\n                value={this.state.email}\n                onChange={this.handleEmailChange}\n                type=\"email\"\n                autoComplete=\"email\"\n              />\n              <TextInput\n                description=\"Choose a password\"\n                placeholder=\"8 characters or more, 1+ special characters\"\n                value={this.state.password}\n                onChange={this.handlePasswordChange}\n                type=\"password\"\n                autoComplete=\"new-password\"\n              />\n            </div>\n          </div>\n          <button\n            className=\"signup-button\"\n            type=\"submit\"\n            disabled={loading}\n          >\n            {loading && <Loader />}\n            {!loading && 'Create Account'}\n          </button>\n          <div className=\"sign-up-label\">\n            Already have a Polymail account?\n            <Link to=\"/login\"> Login here</Link>\n          </div>\n          <div className=\"sign-up-label\">\n            By creating an account, you agree to our\n            <br />\n            <a href=\"https://polymail.io/legal/privacy\" target=\"_blank\">Privacy Policy </a>\n            and\n            <a href=\"https://polymail.io/legal/tos\" target=\"_blank\"> Terms of Service</a>\n            .\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default TeamSignupPane;\n"]}]}