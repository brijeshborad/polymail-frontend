{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/sequences.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/sequences.ts","mtime":1675280254052},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkgewogICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHsKICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKQogICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgfTsKICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Owp2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sOwppbXBvcnQgdXBkYXRlIGZyb20gJ2ltbXV0YWJpbGl0eS1oZWxwZXInOwppbXBvcnQgeyBjcmVhdGUsIGNyZWF0ZUFjdGlvbiB9IGZyb20gJ0BzcmMvbGliL3JlZHV4JzsKaW1wb3J0IHsgcmVzb3VyY2VPaywgcmVzb3VyY2VGYWlsZWQsIHJlc291cmNlUGVuZGluZywgcmVzb3VyY2VMb2FkaW5nIH0gZnJvbSAnQHNyYy9saWIvcmVzb3VyY2UnOwppbXBvcnQgeyBrZXlCeSB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IGNyZWF0ZURlZmF1bHRIZWFkZXJzIH0gZnJvbSAnQHNyYy9kdWNrcy9zZXF1ZW5jZVJlY2lwaWVudHMnOwpleHBvcnQgdmFyIFNFUVVFTkNFX0xJU1QgPSAoX2EgPSBjcmVhdGUoJ1NFUVVFTkNFX0xJU1QnLCB7CiAgICBzdGFydDogZnVuY3Rpb24gKHN0YXRlLCBtZXRhKSB7CiAgICAgICAgcmV0dXJuIHVwZGF0ZShzdGF0ZSwgewogICAgICAgICAgICBzZXF1ZW5jZVBhZ2VMb2FkZWQ6IHsgc2VxdWVuY2VzOiB7ICRzZXQ6IGZhbHNlIH0gfSwKICAgICAgICB9KTsKICAgIH0sCiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEsIHBheWxvYWQpIHsKICAgICAgICByZXR1cm4gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHNlcXVlbmNlczogewogICAgICAgICAgICAgICAgJHNldDoga2V5QnkocGF5bG9hZC5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gcmVzb3VyY2VPayh2YWwpOyB9KSwgZnVuY3Rpb24gKHNlcXVlbmNlKSB7IHJldHVybiBzZXF1ZW5jZS5kYXRhICYmIHNlcXVlbmNlLmRhdGEuaWQ7IH0pLAogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXF1ZW5jZUNvdW50OiB7ICRzZXQ6IG1ldGEgPyBzdGF0ZS5zZXF1ZW5jZUNvdW50IDogcGF5bG9hZC5sZW5ndGggfSwKICAgICAgICAgICAgc2VxdWVuY2VQYWdlTG9hZGVkOiB7IHNlcXVlbmNlczogeyAkc2V0OiB0cnVlIH0gfSwKICAgICAgICB9KTsKICAgIH0sCn0pLCBfYS50eXBlKSwgc2VxdWVuY2VMaXN0ID0gX2EuYWN0aW9uLCBzZXF1ZW5jZUxpc3RSZWR1Y2VyID0gX2EucmVkdWNlcjsKZXhwb3J0IHZhciBTRVFVRU5DRV9DUkVBVEUgPSAoX2IgPSBjcmVhdGUoJ1NFUVVFTkNFX0NSRUFURScsIHsKICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSwgcGF5bG9hZCkgewogICAgICAgIHZhciBfYTsKICAgICAgICByZXR1cm4gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHNlcXVlbmNlczogKF9hID0ge30sCiAgICAgICAgICAgICAgICBfYVtwYXlsb2FkLmlkXSA9IHsgJHNldDogcmVzb3VyY2VPayhwYXlsb2FkKSB9LAogICAgICAgICAgICAgICAgX2EpLAogICAgICAgIH0pOwogICAgfSwKfSksIF9iLnR5cGUpLCBzZXF1ZW5jZUNyZWF0ZSA9IF9iLmFjdGlvbiwgc2VxdWVuY2VDcmVhdGVSZWR1Y2VyID0gX2IucmVkdWNlcjsKZXhwb3J0IHZhciBTRVFVRU5DRV9VUERBVEUgPSAoX2MgPSBjcmVhdGUoJ1NFUVVFTkNFX1VQREFURScsIHsKICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSwgcGF5bG9hZCkgewogICAgICAgIHZhciBfYTsKICAgICAgICByZXR1cm4gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHNlcXVlbmNlczogKF9hID0ge30sCiAgICAgICAgICAgICAgICBfYVtwYXlsb2FkLmlkXSA9IHsgJHNldDogcmVzb3VyY2VPayhwYXlsb2FkKSB9LAogICAgICAgICAgICAgICAgX2EpLAogICAgICAgIH0pOwogICAgfSwKICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSwgZXJyb3IpIHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgcmV0dXJuIHVwZGF0ZShzdGF0ZSwgewogICAgICAgICAgICBzZXF1ZW5jZXM6IChfYSA9IHt9LAogICAgICAgICAgICAgICAgX2FbbWV0YS5pZF0gPSB7ICRzZXQ6IHJlc291cmNlRmFpbGVkKGVycm9yKSB9LAogICAgICAgICAgICAgICAgX2EpLAogICAgICAgIH0pOwogICAgfSwKfSksIF9jLnR5cGUpLCBzZXF1ZW5jZVVwZGF0ZSA9IF9jLmFjdGlvbiwgc2VxdWVuY2VVcGRhdGVSZWR1Y2VyID0gX2MucmVkdWNlcjsKZXhwb3J0IHZhciBTRVFVRU5DRV9TSEFSRSA9IChfZCA9IGNyZWF0ZSgnU0VRVUVOQ0VfU0hBUkUnLCB7CiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEsIHBheWxvYWQpIHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgcmV0dXJuIHVwZGF0ZShzdGF0ZSwgewogICAgICAgICAgICBzZXF1ZW5jZXM6IChfYSA9IHt9LAogICAgICAgICAgICAgICAgX2FbcGF5bG9hZC5pZF0gPSB7ICRzZXQ6IHJlc291cmNlT2socGF5bG9hZCkgfSwKICAgICAgICAgICAgICAgIF9hKSwKICAgICAgICB9KTsKICAgIH0sCiAgICBmYWlsdXJlOiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEsIGVycm9yKSB7CiAgICAgICAgdmFyIF9hOwogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgc2VxdWVuY2VzOiAoX2EgPSB7fSwKICAgICAgICAgICAgICAgIF9hW21ldGEuaWRdID0geyAkc2V0OiByZXNvdXJjZUZhaWxlZChlcnJvcikgfSwKICAgICAgICAgICAgICAgIF9hKSwKICAgICAgICB9KTsKICAgIH0sCn0pLCBfZC50eXBlKSwgc2VxdWVuY2VTaGFyZSA9IF9kLmFjdGlvbiwgc2VxdWVuY2VTaGFyZVJlZHVjZXIgPSBfZC5yZWR1Y2VyOwpleHBvcnQgdmFyIFNFUVVFTkNFX0RFTEVURSA9IChfZSA9IGNyZWF0ZSgnU0VRVUVOQ0VfREVMRVRFJywgewogICAgc3RhcnQ6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSkgewogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgc2VxdWVuY2VzOiB7CiAgICAgICAgICAgICAgICAkdW5zZXQ6IFttZXRhLmlkXSwKICAgICAgICAgICAgfSwKICAgICAgICB9KTsKICAgIH0sCiAgICBmYWlsdXJlOiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEsIGVycm9yKSB7CiAgICAgICAgdmFyIF9hOwogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgc2VxdWVuY2VzOiAoX2EgPSB7fSwKICAgICAgICAgICAgICAgIF9hW21ldGEuaWRdID0gewogICAgICAgICAgICAgICAgICAgICRzZXQ6IHJlc291cmNlT2sobWV0YSksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgX2EpLAogICAgICAgIH0pOwogICAgfSwKfSksIF9lLnR5cGUpLCBzZXF1ZW5jZURlbGV0ZSA9IF9lLmFjdGlvbiwgc2VxdWVuY2VEZWxldGVSZWR1Y2VyID0gX2UucmVkdWNlcjsKZXhwb3J0IHZhciBTRVFVRU5DRV9TRUxFQ1QgPSAoX2YgPSBjcmVhdGUoJ1NFUVVFTkNFX1NFTEVDVCcsIHsKICAgIHNldHVwOiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEpIHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgaWYgKHN0YXRlLnNlcXVlbmNlc1ttZXRhXSkgewogICAgICAgICAgICByZXR1cm4gc3RhdGU7CiAgICAgICAgfQogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgc2VxdWVuY2VzOiAoX2EgPSB7fSwKICAgICAgICAgICAgICAgIF9hW21ldGFdID0geyAkc2V0OiByZXNvdXJjZVBlbmRpbmcoKSB9LAogICAgICAgICAgICAgICAgX2EpLAogICAgICAgIH0pOwogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEpIHsKICAgICAgICByZXR1cm4gKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZSksIHsgc2VsZWN0ZWRTZXF1ZW5jZTogbWV0YSB9KSk7CiAgICB9LAogICAgc3VjY2VzczogZnVuY3Rpb24gKHN0YXRlLCBtZXRhLCBwYXlsb2FkKSB7CiAgICAgICAgdmFyIF9hOwogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgc2VxdWVuY2VzOiAoX2EgPSB7fSwKICAgICAgICAgICAgICAgIF9hW21ldGFdID0gewogICAgICAgICAgICAgICAgICAgICRzZXQ6IHJlc291cmNlT2socGF5bG9hZCksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgX2EpLAogICAgICAgIH0pOwogICAgfSwKfSksIF9mLnR5cGUpLCBzZXF1ZW5jZVNlbGVjdCA9IF9mLmFjdGlvbiwgc2VxdWVuY2VTZWxlY3RSZWR1Y2VyID0gX2YucmVkdWNlcjsKZXhwb3J0IHZhciBTRVFVRU5DRV9UQUJfU0VMRUNUID0gKF9nID0gY3JlYXRlKCdTRVFVRU5DRV9UQUJfU0VMRUNUJywgewogICAgc3RhcnQ6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSkgewogICAgICAgIHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwgeyBzZWxlY3RlZFNlcXVlbmNlVGFiOiBtZXRhIH0pKTsKICAgIH0sCn0pLCBfZy50eXBlKSwgc2VxdWVuY2VUYWJTZWxlY3QgPSBfZy5hY3Rpb24sIHNlcXVlbmNlVGFiU2VsZWN0UmVkdWNlciA9IF9nLnJlZHVjZXI7CmV4cG9ydCB2YXIgU0VRVUVOQ0VfQ1NWX1VQTE9BRCA9IChfaCA9IGNyZWF0ZSgnU0VRVUVOQ0VfQ1NWX1VQTE9BRCcsIHsKICAgIHNldHVwOiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEpIHsKICAgICAgICBpZiAoc3RhdGUuc2VxdWVuY2VSZWNpcGllbnRzQWRkU3RhdGUpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YXRlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHNlcXVlbmNlUmVjaXBpZW50c0FkZFN0YXRlOiB7CiAgICAgICAgICAgICAgICAkc2V0OiB7CiAgICAgICAgICAgICAgICAgICAgcmVjaXBpZW50czogW10sCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogY3JlYXRlRGVmYXVsdEhlYWRlcnMoc3RhdGUpLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICB9KTsKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKHN0YXRlLCBtZXRhKSB7CiAgICAgICAgcmV0dXJuIHVwZGF0ZShzdGF0ZSwgewogICAgICAgICAgICBzZXF1ZW5jZVJlY2lwaWVudHNBZGRTdGF0ZTogewogICAgICAgICAgICAgICAgaGVhZGVyc1RvQWRkOiB7ICRzZXQ6IHJlc291cmNlTG9hZGluZygpIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICB9LAogICAgc3VjY2VzczogZnVuY3Rpb24gKHN0YXRlLCBtZXRhLCBwYXlsb2FkKSB7CiAgICAgICAgcmV0dXJuIHVwZGF0ZShzdGF0ZSwgewogICAgICAgICAgICBzZXF1ZW5jZVJlY2lwaWVudHNBZGRTdGF0ZTogewogICAgICAgICAgICAgICAgY3N2OiB7ICRzZXQ6IHBheWxvYWQuY2xvdWRGaWxlIH0sCiAgICAgICAgICAgICAgICBlbWFpbEhlYWRlcjogewogICAgICAgICAgICAgICAgICAgICRzZXQ6IHBheWxvYWQuZW1haWxIZWFkZXIgPyBwYXlsb2FkLmVtYWlsSGVhZGVyLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZ2l2ZW5OYW1lSGVhZGVyOiB7CiAgICAgICAgICAgICAgICAgICAgJHNldDogcGF5bG9hZC5naXZlbk5hbWVIZWFkZXIgPyBwYXlsb2FkLmdpdmVuTmFtZUhlYWRlci50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZhbWlseU5hbWVIZWFkZXI6IHsKICAgICAgICAgICAgICAgICAgICAkc2V0OiBwYXlsb2FkLmZhbWlseU5hbWVIZWFkZXIgPyBwYXlsb2FkLmZhbWlseU5hbWVIZWFkZXIudG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBoZWFkZXJzVG9BZGQ6IHsgJHNldDogcmVzb3VyY2VPayhwYXlsb2FkLmhlYWRlcnMubWFwKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLnRvTG93ZXJDYXNlKCk7IH0pKSB9LAogICAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgfSwKICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSwgZXJyb3IpIHsKICAgICAgICByZXR1cm4gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHNlcXVlbmNlUmVjaXBpZW50c0FkZFN0YXRlOiB7CiAgICAgICAgICAgICAgICBoZWFkZXJzVG9BZGQ6IHsgJHNldDogdW5kZWZpbmVkIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICB9LAp9KSwgX2gudHlwZSksIHNlcXVlbmNlQ3N2VXBsb2FkID0gX2guYWN0aW9uLCBzZXF1ZW5jZUNzdlVwbG9hZFJlZHVjZXIgPSBfaC5yZWR1Y2VyOwpleHBvcnQgdmFyIFNFUVVFTkNFX0NTVl9DTEVBUiA9IChfaiA9IGNyZWF0ZSgnU0VRVUVOQ0VfQ1NWX0NMRUFSJywgewogICAgc3RhcnQ6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSkgewogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgJHVuc2V0OiBbJ3JlY2lwaWVudENTVicsICdyZWNpcGllbnRDU1ZIZWFkZXInLCAndXBsb2FkZWRTZXF1ZW5jZVJlY2lwaWVudHMnXSwKICAgICAgICB9KTsKICAgIH0sCn0pLCBfai50eXBlKSwgc2VxdWVuY2VDc3ZDbGVhciA9IF9qLmFjdGlvbiwgc2VxdWVuY2VDc3ZDbGVhclJlZHVjZXIgPSBfai5yZWR1Y2VyOwpleHBvcnQgdmFyIFNFUVVFTkNFX0RVUExJQ0FURSA9IChfayA9IGNyZWF0ZSgnU0VRVUVOQ0VfRFVQTElDQVRFJywgewogICAgc3VjY2VzczogZnVuY3Rpb24gKHN0YXRlLCBtZXRhLCBwYXlsb2FkKSB7CiAgICAgICAgdmFyIF9hOwogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgc2VxdWVuY2VzOiAoX2EgPSB7fSwKICAgICAgICAgICAgICAgIF9hW3BheWxvYWQuaWRdID0geyAkc2V0OiByZXNvdXJjZU9rKHBheWxvYWQpIH0sCiAgICAgICAgICAgICAgICBfYSksCiAgICAgICAgfSk7CiAgICB9LAp9KSwgX2sudHlwZSksIHNlcXVlbmNlRHVwbGljYXRlID0gX2suYWN0aW9uLCBzZXF1ZW5jZUR1cGxpY2F0ZVJlZHVjZXIgPSBfay5yZWR1Y2VyOwpleHBvcnQgdmFyIFNFUVVFTkNFX0NPVU5UID0gKF9sID0gY3JlYXRlKCdTRVFVRU5DRV9DT1VOVCcsIHsKICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSwgcGF5bG9hZCkgewogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgc2VxdWVuY2VDb3VudDogeyAkc2V0OiBwYXlsb2FkLmxlbmd0aCB9LAogICAgICAgIH0pOwogICAgfSwKfSksIF9sLnR5cGUpLCBzZXF1ZW5jZUNvdW50ID0gX2wuYWN0aW9uLCBzZXF1ZW5jZUNvdW50UmVkdWNlciA9IF9sLnJlZHVjZXI7CmV4cG9ydCB2YXIgU0VRVUVOQ0VfRVhQT1JUID0gJ1NFUVVFTkNFX0VYUE9SVCc7CmV4cG9ydCB2YXIgc2VxdWVuY2VFeHBvcnQgPSBjcmVhdGVBY3Rpb24oU0VRVUVOQ0VfRVhQT1JUKTsKZXhwb3J0IGRlZmF1bHQgWwogICAgc2VxdWVuY2VMaXN0UmVkdWNlciwKICAgIHNlcXVlbmNlQ3JlYXRlUmVkdWNlciwKICAgIHNlcXVlbmNlVXBkYXRlUmVkdWNlciwKICAgIHNlcXVlbmNlU2hhcmVSZWR1Y2VyLAogICAgc2VxdWVuY2VEZWxldGVSZWR1Y2VyLAogICAgc2VxdWVuY2VTZWxlY3RSZWR1Y2VyLAogICAgc2VxdWVuY2VUYWJTZWxlY3RSZWR1Y2VyLAogICAgc2VxdWVuY2VDc3ZVcGxvYWRSZWR1Y2VyLAogICAgc2VxdWVuY2VDc3ZDbGVhclJlZHVjZXIsCiAgICBzZXF1ZW5jZUR1cGxpY2F0ZVJlZHVjZXIsCiAgICBzZXF1ZW5jZUNvdW50UmVkdWNlciwKXTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/sequences.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/sequences.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,OAAO,MAAM,MAAM,qBAAqB,CAAC;AACzC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAEtD,OAAO,EAAE,UAAU,EAAE,cAAc,EAAE,eAAe,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACjG,OAAO,EAAE,KAAK,EAAE,MAAM,QAAQ,CAAC;AAC/B,OAAO,EAAE,oBAAoB,EAAE,MAAM,+BAA+B,CAAC;AAErE,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;YAAmB,EACnB,wBAAoB,EACpB,gCAA4B,CAkB3B;AAEH,MAAM,CACJ,IAAA;;;;;;;;;YAAqB,EACrB,0BAAsB,EACtB,kCAA8B,CAQ7B;AAEH,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;;;YAAqB,EACrB,0BAAsB,EACtB,kCAA8B,CAe7B;AAEH,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;;;YAAoB,EACpB,yBAAqB,EACrB,iCAA6B,CAe5B;AAEH,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;;;;YAAqB,EACrB,0BAAsB,EACtB,kCAA8B,CAiB7B;AAEH,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;YAAqB,EACrB,0BAAsB,EACtB,kCAA8B,CAuB7B;AAEH,MAAM,CACJ,IAAA;;;;YAAyB,EACzB,6BAAyB,EACzB,qCAAiC,CAIhC;AAUH,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAAyB,EACzB,6BAAyB,EACzB,qCAAiC,CA4ChC;AAEH,MAAM,CACJ,IAAA;;;;;;YAAwB,EACxB,4BAAwB,EACxB,oCAAgC,CAM/B;AAEH,MAAM,CACJ,IAAA;;;;;;;;;YAAwB,EACxB,6BAAyB,EACzB,qCAAiC,CAQhC;AAEH,MAAM,CACJ,IAAA;;;;;;YAAoB,EACpB,yBAAqB,EACrB,iCAA6B,CAM5B;AAEH,MAAM,CAAC,IAAM,eAAe,GAAG,iBAAiB,CAAC;AACjD,MAAM,CAAC,IAAM,cAAc,GAAG,YAAY,CAGxC,eAAe,CAAC,CAAC;AAEnB,eAAe;IACb,mBAAmB;IACnB,qBAAqB;IACrB,qBAAqB;IACrB,oBAAoB;IACpB,qBAAqB;IACrB,qBAAqB;IACrB,wBAAwB;IACxB,wBAAwB;IACxB,uBAAuB;IACvB,wBAAwB;IACxB,oBAAoB;CACrB,CAAC","sourcesContent":["import update from 'immutability-helper';\nimport { create, createAction } from '@src/lib/redux';\nimport { Sequence, SequenceTab } from '@src/types/sequences';\nimport { resourceOk, resourceFailed, resourcePending, resourceLoading } from '@src/lib/resource';\nimport { keyBy } from 'lodash';\nimport { createDefaultHeaders } from '@src/ducks/sequenceRecipients';\n\nexport const {\n  type: SEQUENCE_LIST,\n  action: sequenceList,\n  reducer: sequenceListReducer,\n} = create<boolean, Sequence[]>('SEQUENCE_LIST', {\n  start: (state, meta) => {\n    return update(state, {\n      sequencePageLoaded: { sequences: { $set: false } },\n    });\n  },\n  success: (state, meta, payload) =>\n    update(state, {\n      sequences: {\n        $set: keyBy(\n          payload.map(val => resourceOk(val)),\n          sequence => sequence.data && sequence.data.id,\n        ),\n      },\n      sequenceCount: { $set: meta ? state.sequenceCount : payload.length },\n      sequencePageLoaded: { sequences: { $set: true } },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_CREATE,\n  action: sequenceCreate,\n  reducer: sequenceCreateReducer,\n} = create<Sequence, Sequence>('SEQUENCE_CREATE', {\n  success: (state, meta, payload) =>\n    update(state, {\n      sequences: {\n        [payload.id]: { $set: resourceOk(payload) },\n      },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_UPDATE,\n  action: sequenceUpdate,\n  reducer: sequenceUpdateReducer,\n} = create<Sequence, Sequence>('SEQUENCE_UPDATE', {\n  success: (state, meta, payload) => {\n    return update(state, {\n      sequences: {\n        [payload.id]: { $set: resourceOk(payload) },\n      },\n    });\n  },\n  failure: (state, meta, error) =>\n    update(state, {\n      sequences: {\n        [meta.id]: { $set: resourceFailed(error) },\n      },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_SHARE,\n  action: sequenceShare,\n  reducer: sequenceShareReducer,\n} = create<Sequence, Sequence>('SEQUENCE_SHARE', {\n  success: (state, meta, payload) => {\n    return update(state, {\n      sequences: {\n        [payload.id]: { $set: resourceOk(payload) },\n      },\n    });\n  },\n  failure: (state, meta, error) =>\n    update(state, {\n      sequences: {\n        [meta.id]: { $set: resourceFailed(error) },\n      },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_DELETE,\n  action: sequenceDelete,\n  reducer: sequenceDeleteReducer,\n} = create<Sequence, null>('SEQUENCE_DELETE', {\n  start: (state, meta) =>\n    update(state, {\n      sequences: {\n        $unset: [meta.id],\n      },\n    }),\n\n  failure: (state, meta, error) =>\n    update(state, {\n      sequences: {\n        [meta.id]: {\n          $set: resourceOk(meta),\n        },\n      },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_SELECT,\n  action: sequenceSelect,\n  reducer: sequenceSelectReducer,\n} = create<string, Sequence>('SEQUENCE_SELECT', {\n  setup: (state, meta) => {\n    if (state.sequences[meta]) {\n      return state;\n    }\n\n    return update(state, {\n      sequences: {\n        [meta]: { $set: resourcePending() },\n      },\n    });\n  },\n  start: (state, meta) =>\n    ({ ...state, selectedSequence: meta }),\n  success: (state, meta, payload) =>\n    update(state, {\n      sequences: {\n        [meta]: {\n          $set: resourceOk(payload),\n        },\n      },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_TAB_SELECT,\n  action: sequenceTabSelect,\n  reducer: sequenceTabSelectReducer,\n} = create<SequenceTab, null>('SEQUENCE_TAB_SELECT', {\n  start: (state, meta) =>\n    ({ ...state, selectedSequenceTab: meta }),\n});\n\nexport interface SequenceCsvUploadPayload {\n  cloudFile: string;\n  headers: string[];\n  emailHeader: string;\n  familyNameHeader?: string;\n  givenNameHeader?: string;\n}\n\nexport const {\n  type: SEQUENCE_CSV_UPLOAD,\n  action: sequenceCsvUpload,\n  reducer: sequenceCsvUploadReducer,\n} = create<File, SequenceCsvUploadPayload>('SEQUENCE_CSV_UPLOAD', {\n  setup: (state, meta) => {\n    if (state.sequenceRecipientsAddState) {\n      return state;\n    }\n\n    return update(state, {\n      sequenceRecipientsAddState: {\n        $set: {\n          recipients: [],\n          headers: createDefaultHeaders(state),\n        },\n      },\n    });\n  },\n  start: (state, meta) =>\n    update(state, {\n      sequenceRecipientsAddState: {\n        headersToAdd: { $set: resourceLoading() },\n      },\n    }),\n  success: (state, meta, payload) =>\n    update(state, {\n      sequenceRecipientsAddState: {\n        csv: { $set: payload.cloudFile },\n        emailHeader: {\n          $set: payload.emailHeader ? payload.emailHeader.toLowerCase() : undefined,\n        },\n        givenNameHeader: {\n          $set: payload.givenNameHeader ? payload.givenNameHeader.toLowerCase() : undefined,\n        },\n        familyNameHeader: {\n          $set: payload.familyNameHeader ? payload.familyNameHeader.toLowerCase() : undefined,\n        },\n        headersToAdd: { $set: resourceOk(payload.headers.map(h => h.toLowerCase())) },\n      },\n    }),\n  failure: (state, meta, error) =>\n    update(state, {\n      sequenceRecipientsAddState: {\n        headersToAdd: { $set: undefined },\n      },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_CSV_CLEAR,\n  action: sequenceCsvClear,\n  reducer: sequenceCsvClearReducer,\n} = create<null, null>('SEQUENCE_CSV_CLEAR', {\n  start: (state, meta) =>\n    update(state, {\n      $unset: ['recipientCSV', 'recipientCSVHeader', 'uploadedSequenceRecipients'],\n    }),\n});\n\nexport const {\n  type: SEQUENCE_DUPLICATE,\n  action: sequenceDuplicate,\n  reducer: sequenceDuplicateReducer,\n} = create<string, Sequence>('SEQUENCE_DUPLICATE', {\n  success: (state, meta, payload) =>\n    update(state, {\n      sequences: {\n        [payload.id]: { $set: resourceOk(payload) },\n      },\n    }),\n});\n\nexport const {\n  type: SEQUENCE_COUNT,\n  action: sequenceCount,\n  reducer: sequenceCountReducer,\n} = create<null, Sequence[]>('SEQUENCE_COUNT', {\n  success: (state, meta, payload) =>\n    update(state, {\n      sequenceCount: { $set: payload.length },\n    }),\n});\n\nexport const SEQUENCE_EXPORT = 'SEQUENCE_EXPORT';\nexport const sequenceExport = createAction<\n  Sequence,\n  null\n>(SEQUENCE_EXPORT);\n\nexport default [\n  sequenceListReducer,\n  sequenceCreateReducer,\n  sequenceUpdateReducer,\n  sequenceShareReducer,\n  sequenceDeleteReducer,\n  sequenceSelectReducer,\n  sequenceTabSelectReducer,\n  sequenceCsvUploadReducer,\n  sequenceCsvClearReducer,\n  sequenceDuplicateReducer,\n  sequenceCountReducer,\n];\n"]}]}