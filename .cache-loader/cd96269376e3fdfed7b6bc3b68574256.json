{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Analytics/Analytics.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Analytics/Analytics.tsx","mtime":1675280254072},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgJy4vQW5hbHl0aWNzLnNjc3MnOwppbXBvcnQgTGVmdFNpZGViYXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL0xlZnRTaWRlYmFyJzsKaW1wb3J0IFRvYXN0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9CYXNlL1RvYXN0JzsKaW1wb3J0IEFuYWx5dGljc1BhZ2UgZnJvbSAnLi9BbmFseXRpY3NQYWdlJzsKaW1wb3J0IHsgcmVjb3JkRXZlbnQsIFVzZXJFdmVudHMgfSBmcm9tICdAc3JjL2xpYi9hbmFseXRpY3MnOwppbXBvcnQgeyBTd2l0Y2gsIFJvdXRlLCBtYXRjaFBhdGggfSBmcm9tICdyZWFjdC1yb3V0ZXInOwp2YXIgUk9VVEVTID0gWwogICAgewogICAgICAgIHRpdGxlOiAnVGVhbSBBbmFseXRpY3MnLAogICAgICAgIHBhdGg6ICcvYW5hbHl0aWNzJywKICAgICAgICBjb21wb25lbnQ6IEFuYWx5dGljc1BhZ2UsCiAgICB9LApdOwp2YXIgQW5hbHl0aWNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKEFuYWx5dGljcywgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIEFuYWx5dGljcygpIHsKICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CiAgICB9CiAgICBBbmFseXRpY3MucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJlY29yZEV2ZW50KFVzZXJFdmVudHMuQW5hbHl0aWNzVmlld2VkKTsKICAgIH07CiAgICBBbmFseXRpY3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBhY2NvdW50cyA9IF9hLmFjY291bnRzLCBsaXN0cyA9IF9hLmxpc3RzLCBzZWxlY3RlZE1haWxib3ggPSBfYS5zZWxlY3RlZE1haWxib3gsIG1haWxDb3VudCA9IF9hLm1haWxDb3VudCwgbGVmdFNpZGViYXJDb3VudCA9IF9hLmxlZnRTaWRlYmFyQ291bnQsIGxvY2F0aW9uID0gX2EubG9jYXRpb247CiAgICAgICAgdmFyIExlZnRTaWRlYmFyQ29ubmVjdCA9IExlZnRTaWRlYmFyOwogICAgICAgIHZhciBtYXRjaCA9IFJPVVRFUy5maW5kKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgICAgICByZXR1cm4gISFtYXRjaFBhdGgobG9jYXRpb24ucGF0aG5hbWUsIHsKICAgICAgICAgICAgICAgIHBhdGg6IHJvdXRlLnBhdGgsCiAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHRpdGxlID0gbWF0Y2ggJiYgbWF0Y2gudGl0bGU7CiAgICAgICAgLy8gVE9ETyhTSElOKTogUmVpbXBsZW1lbnQKICAgICAgICAvLyA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnYW5hbHl0aWNzJywgeyAnc2hvdWxkLXVwZ3JhZGUnOiAhZmVhdHVyZXMuYW5hbHl0aWNzICYmIH0pfT48L2Rpdj4KICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdhbmFseXRpY3MnKSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExlZnRTaWRlYmFyQ29ubmVjdCwgeyBhY2NvdW50czogYWNjb3VudHMsIGxpc3RzOiBsaXN0cywgc2VsZWN0ZWRNYWlsYm94OiBzZWxlY3RlZE1haWxib3gsIG1haWxDb3VudDogbWFpbENvdW50LCBsZWZ0U2lkZWJhckNvdW50OiBsZWZ0U2lkZWJhckNvdW50LCBzZWxlY3RlZFRpdGxlOiB0aXRsZSB9KSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICcvYW5hbHl0aWNzJywgY29tcG9uZW50OiBBbmFseXRpY3NQYWdlLCBrZXk6ICcvYW5hbHl0aWNzJywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICcvYW5hbHl0aWNzL3Vuc3Vic2NyaWJlcicsIGtleTogJy9hbmFseXRpY3MvdW5zdWJzY3JpYmVyJywgZXhhY3Q6IHRydWUgfSkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRvYXN0LCBudWxsKSkpOwogICAgfTsKICAgIHJldHVybiBBbmFseXRpY3M7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBBbmFseXRpY3M7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Analytics/Analytics.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Analytics/Analytics.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,UAAU,MAAM,YAAY,CAAC;AAapC,OAAO,kBAAkB,CAAC;AAE1B,OAAO,WAAW,MAAM,6BAA6B,CAAC;AACtD,OAAO,KAAK,MAAM,4BAA4B,CAAC;AAC/C,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,oBAAoB,CAAC;AAC7D,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAuB,MAAM,cAAc,CAAC;AAa7E,IAAM,MAAM,GAAG;IACb;QACE,KAAK,EAAE,gBAAgB;QACvB,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,aAAa;KACzB;CACF,CAAC;AAEF;IAAwB,6BAAqD;IAA7E;;IAqDA,CAAC;IApDC,qCAAiB,GAAjB;QACE,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;IAC1C,CAAC;IAED,0BAAM,GAAN;QACQ,IAAA,eAOQ,EANZ,sBAAQ,EACR,gBAAK,EACL,oCAAe,EACf,wBAAS,EACT,sCAAgB,EAChB,sBACY,CAAC;QACf,IAAM,kBAAkB,GAAG,WAAkB,CAAC;QAE9C,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,UAAA,KAAK;YAC7B,OAAA,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE;gBAC7B,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,KAAK,EAAE,IAAI;aACZ,CAAC;QAHF,CAGE,CAAC,CAAC;QAEN,IAAM,KAAK,GAAG,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC;QAEnC,0BAA0B;QAC1B,gGAAgG;QAChG,OAAO,CACL,6BAAK,SAAS,EAAE,UAAU,CAAC,WAAW,CAAC;YACrC,oBAAC,kBAAkB,IACjB,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,eAAe,EAAE,eAAe,EAChC,SAAS,EAAE,SAAS,EACpB,gBAAgB,EAAE,gBAAgB,EAClC,aAAa,EAAE,KAAK,GACpB;YACF,oBAAC,MAAM;gBACL,oBAAC,KAAK,IACJ,IAAI,EAAE,YAAY,EAClB,SAAS,EAAE,aAAa,EACxB,GAAG,EAAE,YAAY,EACjB,KAAK,SACL;gBACF,oBAAC,KAAK,IACJ,IAAI,EAAE,yBAAyB,EAC/B,GAAG,EAAE,yBAAyB,EAC9B,KAAK,SACL,CACK;YACT,oBAAC,KAAK,OAAG,CACL,CACP,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,AArDD,CAAwB,KAAK,CAAC,aAAa,GAqD1C;AAED,eAAe,SAAS,CAAC","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\n\nimport {\n  Contact,\n  ContactGroup,\n  Account,\n  List,\n  Mailbox,\n  MailCount,\n  LeftSidebarCount,\n  Features,\n} from '@src/types';\n\nimport './Analytics.scss';\n\nimport LeftSidebar from '@src/components/LeftSidebar';\nimport Toast from '@src/components/Base/Toast';\nimport AnalyticsPage from './AnalyticsPage';\nimport { recordEvent, UserEvents } from '@src/lib/analytics';\nimport { Switch, Route, matchPath, RouteComponentProps } from 'react-router';\n\nexport interface Props {\n  contact: Contact;\n  contactGroups: { [id: string]: ContactGroup; };\n  accounts: Account[];\n  lists: List[];\n  selectedMailbox: Mailbox;\n  mailCount: MailCount;\n  leftSidebarCount: LeftSidebarCount;\n  features: Features;\n}\n\nconst ROUTES = [\n  {\n    title: 'Team Analytics',\n    path: '/analytics',\n    component: AnalyticsPage,\n  },\n];\n\nclass Analytics extends React.PureComponent<Props & RouteComponentProps<any>> {\n  componentDidMount() {\n    recordEvent(UserEvents.AnalyticsViewed);\n  }\n\n  render() {\n    const {\n      accounts,\n      lists,\n      selectedMailbox,\n      mailCount,\n      leftSidebarCount,\n      location,\n    } = this.props;\n    const LeftSidebarConnect = LeftSidebar as any;\n\n    const match = ROUTES.find(route =>\n      !!matchPath(location.pathname, {\n        path: route.path,\n        exact: true,\n      }));\n\n    const title = match && match.title;\n\n    // TODO(SHIN): Reimplement\n    // <div className={classnames('analytics', { 'should-upgrade': !features.analytics && })}></div>\n    return (\n      <div className={classnames('analytics')}>\n        <LeftSidebarConnect\n          accounts={accounts}\n          lists={lists}\n          selectedMailbox={selectedMailbox}\n          mailCount={mailCount}\n          leftSidebarCount={leftSidebarCount}\n          selectedTitle={title}\n        />\n        <Switch>\n          <Route\n            path={'/analytics'}\n            component={AnalyticsPage}\n            key={'/analytics'}\n            exact\n          />\n          <Route\n            path={'/analytics/unsubscriber'}\n            key={'/analytics/unsubscriber'}\n            exact\n          />\n        </Switch>\n        <Toast />\n      </div>\n    );\n  }\n}\n\nexport default Analytics;\n"]}]}