{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Cells/AsanaTaskCell/AsanaTaskCell.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Cells/AsanaTaskCell/AsanaTaskCell.tsx","mtime":1675280253990},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC10aW1lem9uZSc7CmltcG9ydCAnLi9Bc2FuYVRhc2tDZWxsLnNjc3MnOwppbXBvcnQgQXJjaGl2ZUNoZWNrIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9BcmNoaXZlLnN2Zyc7CmltcG9ydCBEZWZhdWx0QXZhdGFyIGZyb20gJ0BzcmMvYXNzZXRzL2RlZmF1bHRBdmF0YXIucG5nJzsKaW1wb3J0IHsgQW1wbGl0dWRlRXZlbnRzLCBsb2dBbXBsaXR1ZGVFdmVudCB9IGZyb20gJ0BzcmMvbGliL2FtcGxpdHVkZS1hbmFseXRpY3MnOwp2YXIgQXNhbmFUYXNrQ2VsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhBc2FuYVRhc2tDZWxsLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gQXNhbmFUYXNrQ2VsbCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHRhc2sgPSBfdGhpcy5wcm9wcy50YXNrOwogICAgICAgICAgICBsb2dBbXBsaXR1ZGVFdmVudChBbXBsaXR1ZGVFdmVudHMuQ2xpY2tBc2FuYVRhc2spOwogICAgICAgICAgICB3aW5kb3cub3Blbih0YXNrLmFwaVVybCwgJ19ibGFuaycpOwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgQXNhbmFUYXNrQ2VsbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHRhc2sgPSBfYS50YXNrLCBjcmVhdGVkQnkgPSBfYS5jcmVhdGVkQnksIG1lID0gX2EubWU7CiAgICAgICAgdmFyIGR1ZURhdGUgPSAodGFzay5kdWVBdCAmJiBtb21lbnQodGFzay5kdWVBdCkpIHx8CiAgICAgICAgICAgICh0YXNrLmR1ZU9uICYmIG1vbWVudC51dGModGFzay5kdWVPbikpIHx8IHVuZGVmaW5lZDsKICAgICAgICB2YXIgY3JlYXRlZE1vbWVudCA9IG1vbWVudCh0YXNrLmNyZWF0ZWQpOwogICAgICAgIHZhciBwYXN0RHVlID0gZHVlRGF0ZSAmJiBkdWVEYXRlLmlzQmVmb3JlKG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpKTsKICAgICAgICB2YXIgZHVlRGF0ZVN0cmluZyA9IGR1ZURhdGUgJiYgZHVlRGF0ZS5jYWxlbmRhcih1bmRlZmluZWQsIHsKICAgICAgICAgICAgc2FtZURheTogJ1tUb2RheV0nLAogICAgICAgICAgICBuZXh0RGF5OiAnW1RvbW9ycm93XScsCiAgICAgICAgICAgIG5leHRXZWVrOiAnZGRkZCcsCiAgICAgICAgICAgIGxhc3REYXk6ICdbWWVzdGVyZGF5XScsCiAgICAgICAgICAgIGxhc3RXZWVrOiAnW0xhc3RdIGRkZGQnLAogICAgICAgICAgICBzYW1lRWxzZTogZHVlRGF0ZS55ZWFyKCkgPT09IG1vbWVudCgpLnllYXIoKSA/ICdNTU0gRCcgOiAnTU1NIEQsIFlZWVknLAogICAgICAgIH0pOwogICAgICAgIHZhciBjcmVhdGVkU3RyaW5nID0gY3JlYXRlZE1vbWVudCAmJiBtb21lbnQoY3JlYXRlZE1vbWVudCkuY2FsZW5kYXIodW5kZWZpbmVkLCB7CiAgICAgICAgICAgIHNhbWVEYXk6ICJbIiArIGNyZWF0ZWRNb21lbnQuZnJvbU5vdygpICsgIl0iLAogICAgICAgICAgICBuZXh0RGF5OiAnW1RvbW9ycm93XScsCiAgICAgICAgICAgIG5leHRXZWVrOiAnZGRkZCcsCiAgICAgICAgICAgIGxhc3REYXk6ICJbIiArIGNyZWF0ZWRNb21lbnQuZnJvbU5vdygpICsgIl0iLAogICAgICAgICAgICBsYXN0V2VlazogIlsiICsgY3JlYXRlZE1vbWVudC5mcm9tTm93KCkgKyAiXSIsCiAgICAgICAgICAgIHNhbWVFbHNlOiBjcmVhdGVkTW9tZW50LnllYXIoKSA9PT0gbW9tZW50KCkueWVhcigpID8gJ01NTSBEJyA6ICdNTU0gRCwgWVlZWScsCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGNyZWF0ZWRCeVN0cmluZyA9IG1lICYmIG1lLmlkID09PSB0YXNrLnVzZXIgPwogICAgICAgICAgICAnWW91ICcgOiBjcmVhdGVkQnkuZmlyc3ROYW1lICsgJyAnICsgY3JlYXRlZEJ5Lmxhc3ROYW1lICsgJyAnOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2FzYW5hLXRhc2stY2VsbCcsIHsKICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogdGFzay5jb21wbGV0ZWQsIGRlbGV0ZWQ6IHRhc2suZGVsZXRlZCwKICAgICAgICAgICAgfSksICJkYXRhLXRhc2siOiB0YXNrLmlkIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaGVhZGluZyIgfSwKICAgICAgICAgICAgICAgIGNyZWF0ZWRCeVN0cmluZywKICAgICAgICAgICAgICAgICJjcmVhdGVkIGEgbmV3IHRhc2sgaW4gQXNhbmEgZnJvbSB0aGlzIGNvbnZlcnNhdGlvbiIsCiAgICAgICAgICAgICAgICAnICcgKyBjcmVhdGVkU3RyaW5nKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJtYWluIiwgb25DbGljazogdGhpcy5oYW5kbGVDbGljayB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjaGVjayIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFyY2hpdmVDaGVjaywgeyB3aWR0aDogIjExcHgiLCBoZWlnaHQ6ICI5cHgiLCBjbGFzc05hbWU6ICJjaGVjay1pY29uIiB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm5hbWUiIH0sIHRhc2submFtZSksCiAgICAgICAgICAgICAgICAhIWR1ZURhdGVTdHJpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2R1ZS1kYXRlJywgeyAncGFzdC1kdWUnOiAhIXBhc3REdWUgfSkgfSwgZHVlRGF0ZVN0cmluZyksCiAgICAgICAgICAgICAgICAhIXRhc2suYXNzaWduZWUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhc3NpZ25lZSIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogdGFzay5hc3NpZ25lZVBob3RvVXJsIHx8IERlZmF1bHRBdmF0YXIgfSkpKSkpOwogICAgfTsKICAgIHJldHVybiBBc2FuYVRhc2tDZWxsOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQXNhbmFUYXNrQ2VsbDsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Cells/AsanaTaskCell/AsanaTaskCell.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Cells/AsanaTaskCell/AsanaTaskCell.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport moment from 'moment-timezone';\nimport './AsanaTaskCell.scss';\nimport { AsanaTask } from '@src/types/asana';\nimport ArchiveCheck from '@src/components/Icons/Archive.svg';\nimport { TeamMember, Me } from '@src/types';\nimport DefaultAvatar from '@src/assets/defaultAvatar.png';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\n\nexport interface Props {\n  task: AsanaTask;\n}\n\nexport interface StateProps {\n  createdBy: TeamMember;\n  me?: Me;\n}\n\nclass AsanaTaskCell extends React.PureComponent<Props & StateProps> {\n  handleClick = () => {\n    const { task } = this.props;\n    logAmplitudeEvent(AmplitudeEvents.ClickAsanaTask);\n    window.open(task.apiUrl, '_blank');\n  }\n\n  render() {\n    const { task, createdBy, me } = this.props;\n    const dueDate = (task.dueAt && moment(task.dueAt)) ||\n      (task.dueOn && moment.utc(task.dueOn)) || undefined;\n    const createdMoment = moment(task.created);\n\n    const pastDue = dueDate && dueDate.isBefore(moment().startOf('day'));\n\n    const dueDateString = dueDate && dueDate.calendar(undefined, {\n      sameDay: '[Today]',\n      nextDay: '[Tomorrow]',\n      nextWeek: 'dddd',\n      lastDay: '[Yesterday]',\n      lastWeek: '[Last] dddd',\n      sameElse: dueDate.year() === moment().year() ? 'MMM D' : 'MMM D, YYYY',\n    });\n\n    const createdString = createdMoment && moment(createdMoment).calendar(undefined, {\n      sameDay: `[${createdMoment.fromNow()}]`,\n      nextDay: '[Tomorrow]',\n      nextWeek: 'dddd',\n      lastDay: `[${createdMoment.fromNow()}]`,\n      lastWeek: `[${createdMoment.fromNow()}]`,\n      sameElse: createdMoment.year() === moment().year() ? 'MMM D' : 'MMM D, YYYY',\n    });\n\n    const createdByString = me && me.id === task.user ?\n      'You ' : createdBy.firstName + ' ' + createdBy.lastName + ' ';\n\n    return (\n      <div\n        className={classnames('asana-task-cell', {\n          completed: task.completed, deleted: task.deleted,\n        })}\n        data-task={task.id}\n      >\n        <div className=\"heading\">\n          {createdByString}\n          created a new task in Asana from this conversation\n          {' ' + createdString}\n        </div>\n        <button className=\"main\" onClick={this.handleClick}>\n          <div className=\"check\">\n            <ArchiveCheck width=\"11px\" height=\"9px\" className=\"check-icon\" />\n          </div>\n          <div className=\"name\">\n            {task.name}\n          </div>\n          {!!dueDateString && <div className={classnames('due-date', { 'past-due': !!pastDue })}>\n            {dueDateString}\n          </div>}\n          {!!task.assignee && <div className=\"assignee\">\n            <img src={task.assigneePhotoUrl || DefaultAvatar} />\n          </div>}\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default AsanaTaskCell;\n"]}]}