{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/rightSidebar.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/rightSidebar.ts","mtime":1675280254050},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9hLCBfYiwgX2M7CmltcG9ydCB1cGRhdGUgZnJvbSAnaW1tdXRhYmlsaXR5LWhlbHBlcic7CmltcG9ydCB7IGNyZWF0ZSwgY3JlYXRlQWN0aW9uIH0gZnJvbSAnQHNyYy9saWIvcmVkdXgnOwpleHBvcnQgdmFyIFJJR0hUX1NJREVCQVJfTElOS1NfU0VUID0gKF9hID0gY3JlYXRlKCdSSUdIVF9TSURFQkFSX0xJTktTX1NFVCcsIHsKICAgIHN0YXJ0OiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEpIHsKICAgICAgICByZXR1cm4gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHJpZ2h0U2lkZWJhcjogewogICAgICAgICAgICAgICAgbGlua3M6IHsgJHNldDogdW5kZWZpbmVkIH0sCiAgICAgICAgICAgICAgICBjb2xsYXBzZWQ6IHsKICAgICAgICAgICAgICAgICAgICB0aHJlYWRzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgfSwKICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdGF0ZSwgbWV0YSwgcGF5bG9hZCkgewogICAgICAgIHJldHVybiB1cGRhdGUoc3RhdGUsIHsKICAgICAgICAgICAgcmlnaHRTaWRlYmFyOiB7CiAgICAgICAgICAgICAgICBsaW5rczogeyAkc2V0OiBwYXlsb2FkIH0sCiAgICAgICAgICAgICAgICBjb2xsYXBzZWQ6IHsKICAgICAgICAgICAgICAgICAgICB0aHJlYWRzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgfSwKfSksIF9hLnR5cGUpLCByaWdodFNpZGViYXJMaW5rc1NldCA9IF9hLmFjdGlvbiwgcmlnaHRTaWRlYmFyTGlua3NTZXRSZWR1Y2VyID0gX2EucmVkdWNlcjsKZXhwb3J0IHZhciBSSUdIVF9TSURFQkFSX1RBQl9TRUxFQ1QgPSAoX2IgPSBjcmVhdGUoJ1JJR0hUX1NJREVCQVJfVEFCX1NFTEVDVCcsIHsKICAgIHN0YXJ0OiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEpIHsKICAgICAgICB2YXIgb2xkVGFiID0gc3RhdGUucmlnaHRTaWRlYmFyLnRhYjsKICAgICAgICByZXR1cm4gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHJpZ2h0U2lkZWJhcjogewogICAgICAgICAgICAgICAgbGlua3M6IHsKICAgICAgICAgICAgICAgICAgICAkc2V0OiBvbGRUYWIgPT09IG1ldGEucnNiVGFiID8gc3RhdGUucmlnaHRTaWRlYmFyLmxpbmtzIDogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRhYjogeyAkc2V0OiBtZXRhLnJzYlRhYiB9LAogICAgICAgICAgICAgICAgc3ViVGFiOiB7ICRzZXQ6IG1ldGEucnNiU3ViVGFiID8gbWV0YS5yc2JTdWJUYWIgOiBzdGF0ZS5yaWdodFNpZGViYXIuc3ViVGFiIH0sCiAgICAgICAgICAgICAgICBjb2xsYXBzZWQ6IHsKICAgICAgICAgICAgICAgICAgICB0aHJlYWRzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJHNldDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICB9LAp9KSwgX2IudHlwZSksIHJpZ2h0U2lkZWJhclRhYlNlbGVjdCA9IF9iLmFjdGlvbiwgcmlnaHRTaWRlYmFyVGFiU2VsZWN0UmVkdWNlciA9IF9iLnJlZHVjZXI7CmV4cG9ydCB2YXIgUklHSFRfU0lERUJBUl9DT0xMQVBTRSA9IChfYyA9IGNyZWF0ZSgnUklHSFRfU0lERUJBUl9DT0xMQVBTRScsIHsKICAgIHN0YXJ0OiBmdW5jdGlvbiAoc3RhdGUsIG1ldGEpIHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgdmFyIG5ld1N0YXRlID0gdXBkYXRlKHN0YXRlLCB7CiAgICAgICAgICAgIHJpZ2h0U2lkZWJhcjogewogICAgICAgICAgICAgICAgY29sbGFwc2VkOiAoX2EgPSB7fSwKICAgICAgICAgICAgICAgICAgICBfYVttZXRhLnBhZ2VdID0geyAkc2V0OiBtZXRhLmNvbGxhcHNlZCB9LAogICAgICAgICAgICAgICAgICAgIF9hKSwKICAgICAgICAgICAgfSwKICAgICAgICB9KTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmlnaHRTaWRlYmFyQ29sbGFwc2VkJywgSlNPTi5zdHJpbmdpZnkobmV3U3RhdGUucmlnaHRTaWRlYmFyLmNvbGxhcHNlZCkpOwogICAgICAgIHJldHVybiBuZXdTdGF0ZTsKICAgIH0sCn0pLCBfYy50eXBlKSwgcmlnaHRTaWRlYmFyQ29sbGFwc2UgPSBfYy5hY3Rpb24sIHJpZ2h0U2lkZWJhckNvbGxhcHNlUmVkdWNlciA9IF9jLnJlZHVjZXI7CmV4cG9ydCB2YXIgUklHSFRfU0lERUJBUl9TSE9XX0NPTlRBQ1QgPSAnUklHSFRfU0lERUJBUl9TSE9XX0NPTlRBQ1QnOwpleHBvcnQgdmFyIHJpZ2h0U2lkZWJhclNob3dDb250YWN0ID0gY3JlYXRlQWN0aW9uKFJJR0hUX1NJREVCQVJfU0hPV19DT05UQUNUKTsKZXhwb3J0IGRlZmF1bHQgWwogICAgcmlnaHRTaWRlYmFyVGFiU2VsZWN0UmVkdWNlciwKICAgIHJpZ2h0U2lkZWJhckNvbGxhcHNlUmVkdWNlciwKICAgIHJpZ2h0U2lkZWJhckxpbmtzU2V0UmVkdWNlciwKXTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/rightSidebar.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/ducks/rightSidebar.ts"],"names":[],"mappings":";AAAA,OAAO,MAAM,MAAM,qBAAqB,CAAC;AACzC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAStD,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;YAA6B,EAC7B,gCAA4B,EAC5B,wCAAoC,CAwBnC;AAEH,MAAM,CACJ,IAAA;;;;;;;;;;;;;;;;;;;;;YAA8B,EAC9B,iCAA6B,EAC7B,yCAAqC,CAsBpC;AAOH,MAAM,CACJ,IAAA;;;;;;;;;;;;;YAA4B,EAC5B,gCAA4B,EAC5B,wCAAoC,CAenC;AAEH,MAAM,CAAC,IAAM,0BAA0B,GAAG,4BAA4B,CAAC;AACvE,MAAM,CAAC,IAAM,uBAAuB,GAAG,YAAY,CACjD,0BAA0B,CAC3B,CAAC;AAEF,eAAe;IACb,4BAA4B;IAC5B,2BAA2B;IAC3B,2BAA2B;CAC5B,CAAC","sourcesContent":["import update from 'immutability-helper';\nimport { create, createAction } from '@src/lib/redux';\nimport { RightSidebarTab, RightSidebarSubTab, Page } from '@src/types/rightSidebar';\nimport { AnchorElement } from '@src/lib/html';\n\nexport interface RightSidebarMeta {\n  rsbTab: RightSidebarTab;\n  rsbSubTab?: RightSidebarSubTab;\n}\n\nexport const {\n  type: RIGHT_SIDEBAR_LINKS_SET,\n  action: rightSidebarLinksSet,\n  reducer: rightSidebarLinksSetReducer,\n} = create<null, AnchorElement[]>('RIGHT_SIDEBAR_LINKS_SET', {\n  start: (state, meta) =>\n    update(state, {\n      rightSidebar: {\n        links: { $set: undefined },\n        collapsed: {\n          threads: {\n            $set: false,\n          },\n        },\n      },\n    }),\n  success: (state, meta, payload) =>\n    update(state, {\n      rightSidebar: {\n        links: { $set: payload },\n        collapsed: {\n          threads: {\n            $set: false,\n          },\n        },\n      },\n    }),\n});\n\nexport const {\n  type: RIGHT_SIDEBAR_TAB_SELECT,\n  action: rightSidebarTabSelect,\n  reducer: rightSidebarTabSelectReducer,\n} = create<RightSidebarMeta, null>('RIGHT_SIDEBAR_TAB_SELECT', {\n  start: (state, meta) => {\n    const oldTab = state.rightSidebar.tab;\n    return update(state, {\n      rightSidebar: {\n        links: {\n          $set: oldTab === meta.rsbTab ? state.rightSidebar.links : undefined,\n        },\n        tab: { $set: meta.rsbTab },\n        subTab: { $set: meta.rsbSubTab ? meta.rsbSubTab : state.rightSidebar.subTab },\n        collapsed: {\n          threads: {\n            $set: false,\n          },\n          settings: {\n            $set: false,\n          },\n        },\n      },\n    });\n  },\n});\n\nexport interface RightSidebarCollapseMeta {\n  page: Page;\n  collapsed: boolean;\n}\n\nexport const {\n  type: RIGHT_SIDEBAR_COLLAPSE,\n  action: rightSidebarCollapse,\n  reducer: rightSidebarCollapseReducer,\n} = create<RightSidebarCollapseMeta, null>('RIGHT_SIDEBAR_COLLAPSE', {\n  start: (state, meta) => {\n    const newState = update(state, {\n      rightSidebar: {\n        collapsed: {\n          [meta.page]: { $set: meta.collapsed },\n        },\n      },\n    });\n\n    localStorage.setItem('rightSidebarCollapsed', JSON.stringify(newState.rightSidebar.collapsed));\n\n    return newState;\n  },\n});\n\nexport const RIGHT_SIDEBAR_SHOW_CONTACT = 'RIGHT_SIDEBAR_SHOW_CONTACT';\nexport const rightSidebarShowContact = createAction<string, undefined>(\n  RIGHT_SIDEBAR_SHOW_CONTACT,\n);\n\nexport default [\n  rightSidebarTabSelectReducer,\n  rightSidebarCollapseReducer,\n  rightSidebarLinksSetReducer,\n];\n"]}]}