{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/HyperlinkInput.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/HyperlinkInput.tsx","mtime":1675280254003},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCAnLi9IeXBlcmxpbmtJbnB1dC5zY3NzJzsKaW1wb3J0IHsgS2V5Q29kZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwp2YXIgSHlwZXJsaW5rSW5wdXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoSHlwZXJsaW5rSW5wdXQsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBIeXBlcmxpbmtJbnB1dCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uSGlkZSgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5vblN1Ym1pdCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgX3RoaXMucHJvcHMub25TdWJtaXQoX3RoaXMuc3RhdGUudmFsdWUpOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiAnJyB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMuaW5wdXQgPSByZWY7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gS2V5Q29kZS5Fc2MpIHsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkhpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIEh5cGVybGlua0lucHV0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0ID0gdGhpcy5wcm9wcy5zZWxlY3RlZFRleHQ7CiAgICAgICAgaWYgKHRoaXMuaW5wdXQpIHsKICAgICAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdmFyIHVybCA9IHNlbGVjdGVkVGV4dCAmJiBuZXcgVVJMKHNlbGVjdGVkVGV4dCk7CiAgICAgICAgICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB1cmwudG9TdHJpbmcoKSB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoX2EpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBIeXBlcmxpbmtJbnB1dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgeyBvblN1Ym1pdDogdGhpcy5vblN1Ym1pdCwgY2xhc3NOYW1lOiAiaHlwZXJsaW5rLWZvcm0iLCBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1ciwgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24gfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7IGRpcjogImF1dG8iLCBjbGFzc05hbWU6ICJoeXBlcmxpbmstaW5wdXQiLCBwbGFjZWhvbGRlcjogIkVudGVyIExpbmsgVVJMIiwgdmFsdWU6IHZhbHVlLCByZWY6IHRoaXMuaGFuZGxlUmVmLCBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSB9KSkpOwogICAgfTsKICAgIHJldHVybiBIeXBlcmxpbmtJbnB1dDsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IEh5cGVybGlua0lucHV0Owo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/HyperlinkInput.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ContentEditable/HyperlinkInput.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,uBAAuB,CAAC;AAC/B,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAWrC;IAA6B,kCAAiC;IAG5D;QAAA,YACE,iBAAO,SAKR;QAgBD,gBAAU,GAAG;YACX,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QACtB,CAAC,CAAA;QAED,cAAQ,GAAG,UAAC,CAAoC;YAC9C,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;QAClD,CAAC,CAAA;QAED,cAAQ,GAAG,UAAC,CAA+B;YACzC,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACtC,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/B,CAAC,CAAA;QAED,eAAS,GAAG,UAAC,GAAqB;YAChC,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QACnB,CAAC,CAAA;QAED,mBAAa,GAAG,UAAC,CAAuC;YACtD,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,GAAG,EAAE;gBAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;aACrB;QACH,CAAC,CAAA;QA3CC,KAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,EAAE;SACV,CAAC;;IACJ,CAAC;IAED,0CAAiB,GAAjB;QACU,IAAA,sCAAY,CAAgB;QACpC,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;YAEnB,IAAI;gBACF,IAAM,GAAG,GAAG,YAAY,IAAI,IAAI,GAAG,CAAC,YAAY,CAAC,CAAC;gBAClD,IAAI,GAAG,EAAE;oBACP,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;iBAC1C;aACF;YAAC,WAAM;gBAAE,OAAO;aAAE;SACpB;IACH,CAAC;IA4BD,+BAAM,GAAN;QACU,IAAA,wBAAK,CAAgB;QAC7B,OAAO,CACL,8BACE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,SAAS,EAAC,gBAAgB,EAC1B,MAAM,EAAE,IAAI,CAAC,UAAU,EACvB,SAAS,EAAE,IAAI,CAAC,aAAa;YAE7B,+BACE,GAAG,EAAC,MAAM,EACV,SAAS,EAAC,iBAAiB,EAC3B,WAAW,EAAC,gBAAgB,EAC5B,KAAK,EAAE,KAAK,EACZ,GAAG,EAAE,IAAI,CAAC,SAAS,EACnB,QAAQ,EAAE,IAAI,CAAC,QAAQ,GACvB,CACG,CACR,CAAC;IACJ,CAAC;IACH,qBAAC;AAAD,CAAC,AAvED,CAA6B,KAAK,CAAC,aAAa,GAuE/C;AAED,eAAe,cAAc,CAAC","sourcesContent":["import React from 'react';\n\nimport './HyperlinkInput.scss';\nimport { KeyCode } from '@src/types';\n\ninterface Props {\n  selectedText?: string;\n  onSubmit: (href: string) => void;\n  onHide: () => void;\n}\ninterface State {\n  value: string;\n}\n\nclass HyperlinkInput extends React.PureComponent<Props, State> {\n  private input: HTMLInputElement | null;\n\n  constructor() {\n    super();\n\n    this.state = {\n      value: '',\n    };\n  }\n\n  componentDidMount() {\n    const { selectedText } = this.props;\n    if (this.input) {\n      this.input.focus();\n\n      try {\n        const url = selectedText && new URL(selectedText);\n        if (url) {\n          this.setState({ value: url.toString() });\n        }\n      } catch { return; }\n    }\n  }\n\n  handleBlur = () => {\n    this.props.onHide();\n  }\n\n  onChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ value: e.currentTarget.value });\n  }\n\n  onSubmit = (e: React.FormEvent<HTMLElement>) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.value);\n    this.setState({ value: '' });\n  }\n\n  handleRef = (ref: HTMLInputElement) => {\n    this.input = ref;\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLFormElement>) => {\n    if (e.keyCode === KeyCode.Esc) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.onHide();\n    }\n  }\n\n  render() {\n    const { value } = this.state;\n    return (\n      <form\n        onSubmit={this.onSubmit}\n        className=\"hyperlink-form\"\n        onBlur={this.handleBlur}\n        onKeyDown={this.handleKeyDown}\n      >\n        <input\n          dir=\"auto\"\n          className=\"hyperlink-input\"\n          placeholder=\"Enter Link URL\"\n          value={value}\n          ref={this.handleRef}\n          onChange={this.onChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default HyperlinkInput;\n"]}]}