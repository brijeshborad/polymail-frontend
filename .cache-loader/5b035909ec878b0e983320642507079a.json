{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Salesforce/Salesforce.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Salesforce/Salesforce.tsx","mtime":1675280254103},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkgewogICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHsKICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKQogICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgfTsKICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9OwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgTmF2aWdhdGlvbkhlYWRlciBmcm9tICdAc3JjL3JvdXRlcy9TZXR0aW5ncy9jb21wb25lbnRzL05hdmlnYXRpb25IZWFkZXInOwppbXBvcnQgYnJvd3Nlckhpc3RvcnkgZnJvbSAnQHNyYy9saWIvYnJvd3Nlckhpc3RvcnknOwppbXBvcnQgVG9nZ2xlQ2VsbCBmcm9tICdAc3JjL3JvdXRlcy9TZXR0aW5ncy9jb21wb25lbnRzL1RvZ2dsZUNlbGwnOwppbXBvcnQgU2FsZXNmb3JjZUxvZ28gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL1NhbGVzZm9yY2VMb2dvLnN2Zyc7CmltcG9ydCBzYWxlc2ZvcmNlU2NyZWVuc2hvdCBmcm9tICcuL2Fzc2V0cy9zYWxlc2ZvcmNlLXNjcmVlbnNob3RAM3gucG5nJzsKaW1wb3J0ICcuL1NhbGVzZm9yY2Uuc2Nzcyc7CnZhciBoYW5kbGVVcGdyYWRlID0gZnVuY3Rpb24gKCkgewogICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnL3NldHRpbmdzL2JpbGxpbmcnKTsKfTsKdmFyIGhhbmRsZU9uQmFjayA9IGZ1bmN0aW9uICgpIHsKICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zZXR0aW5ncy9pbnRlZ3JhdGlvbnMnKTsKfTsKdmFyIFNhbGVzZm9yY2UgPSBmdW5jdGlvbiAocHJvcHMpIHsKICAgIHZhciBoYW5kbGVJbnN0YWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChwcm9wcy50ZWFtSWQpIHsKICAgICAgICAgICAgcHJvcHMubG9naW5TYWxlc2ZvcmNlKHByb3BzLnRlYW1JZCk7CiAgICAgICAgfQogICAgfTsKICAgIHZhciBoYW5kbGVUb2dnbGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcHJvcHMudXBkYXRlUHJlZmVyZW5jZXMoX19hc3NpZ24oX19hc3NpZ24oe30sIHByb3BzLnByZWZlcmVuY2VzKSwgeyBzeW5jRW1haWxzVG9Dcm06ICFwcm9wcy5wcmVmZXJlbmNlcy5zeW5jRW1haWxzVG9Dcm0gfSkpOwogICAgfTsKICAgIHZhciBzYWxlc2ZvcmNlRW5hYmxlZCA9IHByb3BzLmhhc0VudGVycHJpc2UgJiYgcHJvcHMuc2FsZXNmb3JjZUVuYWJsZWQ7CiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2V0dGluZ3MtcGFuZWwgc2FsZXNmb3JjZS1pbnRlZ3JhdGlvbiIgfSwKICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25IZWFkZXIsIHsgdGl0bGU6ICJTYWxlc2ZvcmNlIiwgb25CYWNrOiBoYW5kbGVPbkJhY2sgfSksCiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTYWxlc2ZvcmNlTG9nbywgeyB3aWR0aDogIjg1cHgiLCBoZWlnaHQ6ICI2MHB4IiB9KSksCiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDEiLCBudWxsLCAiU2FsZXNmb3JjZSIpLAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInAiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCAiRGlzcGxheSwgY3JlYXRlLCBhbmQgdXBkYXRlIFNhbGVzZm9yY2UgcmVjb3JkcyBpbiBQb2x5bWFpbCIpLAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsCiAgICAgICAgICAgIHNhbGVzZm9yY2VFbmFibGVkICYmCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImVuYWJsZWQiIH0sICJFTkFCTEVEIiksCiAgICAgICAgICAgIHByb3BzLmhhc0VudGVycHJpc2UgJiYgIXByb3BzLnNhbGVzZm9yY2VFbmFibGVkICYmCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImluc3RhbGwiLCBvbkNsaWNrOiBoYW5kbGVJbnN0YWxsIH0sIHByb3BzLnNhbGVzZm9yY2VJbnZhbGlkID8gJ1JlYXV0aGVudGljYXRlJyA6ICdJbnN0YWxsJyksCiAgICAgICAgICAgICFwcm9wcy5oYXNFbnRlcnByaXNlICYmCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImluc3RhbGwiLCBvbkNsaWNrOiBoYW5kbGVVcGdyYWRlIH0sICJVcGdyYWRlIikpLAogICAgICAgIHNhbGVzZm9yY2VFbmFibGVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaW50ZWdyYXRpb24tc2V0dGluZ3MiIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQ2VsbCwgeyBvbjogcHJvcHMucHJlZmVyZW5jZXMuc3luY0VtYWlsc1RvQ3JtLCB0aXRsZTogIlN5bmMgbWVzc2FnZXMgdG8gU2FsZXNmb3JjZSIsIHN1YnRpdGxlOiAnQXV0b21hdGljYWxseSBsb2cgbWVzc2FnZXMgdG8gdGhlIGNvcnJlc3BvbmRpbmcgY29udGFjdCwgbGVhZCwnCiAgICAgICAgICAgICAgICAgICAgKyAnIG9yIG9wcG9ydHVuaXR5IGluIFNhbGVzZm9yY2UnLCBvblRvZ2dsZTogaGFuZGxlVG9nZ2xlIH0pKSwKICAgICAgICAhc2FsZXNmb3JjZUVuYWJsZWQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpbnRlZ3JhdGlvbi1kZXRhaWxzIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJociIsIG51bGwpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJwIiwgeyBjbGFzc05hbWU6ICJkZXRhaWxzIiB9LCAiV2l0aCB0aGUgU2FsZXNmb3JjZSBJbnRlZ3JhdGlvbiwgeW91IGNhbjoiKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgidWwiLCBudWxsLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGkiLCBudWxsLCAiQXV0b21hdGljYWxseSBzeW5jIGFsbCBpbmNvbWluZyBhbmQgb3V0Z29pbmcgbWVzc2FnZXMgdG8gcmVsZXZhbnQgU2FsZXNmb3JjZSByZWNvcmRzLiIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGkiLCBudWxsLCAiQ3JlYXRlIG5ldyBjb250YWN0cywgbGVhZHMsIGFuZCBhY2NvdW50cy4iKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgbnVsbCwgIlVwZGF0ZSBjb250YWN0LCBsZWFkLCBhbmQgYWNjb3VudCBpbmZvcm1hdGlvbi4iKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgbnVsbCwgIkF1dG9tYXRpY2FsbHkgZGlzcGxheSByZWxldmFudCBTYWxlc2ZvcmNlIHJlY29yZHMgd2hlbiB2aWV3aW5nIGEgY29udmVyc2F0aW9uLiIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGkiLCBudWxsLCAiQ3JlYXRlIGFuZCB2aWV3IHRhc2tzIGFuZCBhY3Rpdml0eS4iKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogc2FsZXNmb3JjZVNjcmVlbnNob3QsIGNsYXNzTmFtZTogInNjcmVlbnNob3QiIH0pKSkpKTsKfTsKZXhwb3J0IGRlZmF1bHQgU2FsZXNmb3JjZTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Salesforce/Salesforce.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Salesforce/Salesforce.tsx"],"names":[],"mappings":";;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,gBAAgB,MAAM,kDAAkD,CAAC;AAChF,OAAO,cAAc,MAAM,yBAAyB,CAAC;AAErD,OAAO,UAAU,MAAM,4CAA4C,CAAC;AAEpE,OAAO,cAAc,MAAM,0CAA0C,CAAC;AACtE,OAAO,oBAAoB,MAAM,uCAAuC,CAAC;AAEzE,OAAO,mBAAmB,CAAC;AAgB3B,IAAM,aAAa,GAAG;IACpB,cAAc,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;AAC3C,CAAC,CAAC;AAEF,IAAM,YAAY,GAAG;IACnB,cAAc,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAChD,CAAC,CAAC;AAEF,IAAM,UAAU,GAAqC,UAAC,KAAK;IACzD,IAAM,aAAa,GAAG;QACpB,IAAI,KAAK,CAAC,MAAM,EAAE;YAChB,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SACrC;IACH,CAAC,CAAC;IAEF,IAAM,YAAY,GAAG;QACnB,KAAK,CAAC,iBAAiB,uBAClB,KAAK,CAAC,WAAW,KACpB,eAAe,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,eAAe,IACnD,CAAC;IACL,CAAC,CAAC;IAEF,IAAM,iBAAiB,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,iBAAiB,CAAC;IAEzE,OAAO,CACL,6BAAK,SAAS,EAAC,uCAAuC;QACpD,oBAAC,gBAAgB,IACf,KAAK,EAAC,YAAY,EAClB,MAAM,EAAE,YAAY,GACpB;QACF;YAAK,oBAAC,cAAc,IAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,GAAG,CAAM;QACxD,6CAAmB;QACnB,2BAAG,SAAS,EAAC,aAAa,iEAA+D;QACzF;YACG,iBAAiB;gBAChB,6BAAK,SAAS,EAAC,SAAS,cAAc;YACvC,KAAK,CAAC,aAAa,IAAI,CAAC,KAAK,CAAC,iBAAiB;gBAC9C,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,aAAa,IAC/C,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,SAAS,CAChD;YACV,CAAC,KAAK,CAAC,aAAa;gBACnB,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,aAAa,cAAkB,CAClE;QAEL,iBAAiB,IAAI,6BAAK,SAAS,EAAC,sBAAsB;YACzD,oBAAC,UAAU,IACT,EAAE,EAAE,KAAK,CAAC,WAAW,CAAC,eAAe,EACrC,KAAK,EAAC,6BAA6B,EACnC,QAAQ,EAAE,gEAAgE;sBACxE,+BAA+B,EACjC,QAAQ,EAAE,YAAY,GACtB,CACE;QAEL,CAAC,iBAAiB,IAAI,6BAAK,SAAS,EAAC,qBAAqB;YACzD,+BAAM;YACN,2BAAG,SAAS,EAAC,SAAS,gDAA8C;YACpE;gBACE,wHAC6C;gBAC7C,4EAAkD;gBAClD,iFAAuD;gBACvD,iHAAuF;gBACvF,sEAA4C,CACzC;YACL;gBAAK,6BAAK,GAAG,EAAE,oBAAoB,EAAE,SAAS,EAAC,YAAY,GAAG,CAAM,CAChE,CACF,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["import React from 'react';\n\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport browserHistory from '@src/lib/browserHistory';\n\nimport ToggleCell from '@src/routes/Settings/components/ToggleCell';\n\nimport SalesforceLogo from '@src/components/Icons/SalesforceLogo.svg';\nimport salesforceScreenshot from './assets/salesforce-screenshot@3x.png';\n\nimport './Salesforce.scss';\nimport { Preferences } from '@src/types';\n\nexport interface Props {\n  salesforceEnabled: boolean;\n  salesforceInvalid: boolean;\n  hasEnterprise: boolean;\n  preferences: Preferences;\n  teamId?: string;\n}\n\nexport interface DispatchProps {\n  loginSalesforce: (teamId: string) => void;\n  updatePreferences: (preferences: Preferences) => void;\n}\n\nconst handleUpgrade = () => {\n  browserHistory.push('/settings/billing');\n};\n\nconst handleOnBack = () => {\n  browserHistory.push('/settings/integrations');\n};\n\nconst Salesforce: React.SFC<Props & DispatchProps> = (props) => {\n  const handleInstall = () => {\n    if (props.teamId) {\n      props.loginSalesforce(props.teamId);\n    }\n  };\n\n  const handleToggle = () => {\n    props.updatePreferences({\n      ...props.preferences,\n      syncEmailsToCrm: !props.preferences.syncEmailsToCrm,\n    });\n  };\n\n  const salesforceEnabled = props.hasEnterprise && props.salesforceEnabled;\n\n  return (\n    <div className=\"settings-panel salesforce-integration\">\n      <NavigationHeader\n        title=\"Salesforce\"\n        onBack={handleOnBack}\n      />\n      <div><SalesforceLogo width=\"85px\" height=\"60px\" /></div>\n      <h1>Salesforce</h1>\n      <p className=\"description\">Display, create, and update Salesforce records in Polymail</p>\n      <div>\n        {salesforceEnabled &&\n          <div className=\"enabled\">ENABLED</div>}\n        {props.hasEnterprise && !props.salesforceEnabled &&\n          <button className=\"install\" onClick={handleInstall}>\n            {props.salesforceInvalid ? 'Reauthenticate' : 'Install'}\n          </button>}\n        {!props.hasEnterprise &&\n          <button className=\"install\" onClick={handleUpgrade}>Upgrade</button>}\n      </div>\n\n      {salesforceEnabled && <div className=\"integration-settings\">\n        <ToggleCell\n          on={props.preferences.syncEmailsToCrm}\n          title=\"Sync messages to Salesforce\"\n          subtitle={'Automatically log messages to the corresponding contact, lead,'\n          + ' or opportunity in Salesforce'}\n          onToggle={handleToggle}\n        />\n      </div>}\n\n      {!salesforceEnabled && <div className=\"integration-details\">\n        <hr />\n        <p className=\"details\">With the Salesforce Integration, you can:</p>\n        <ul>\n          <li>Automatically sync all incoming and outgoing\n          messages to relevant Salesforce records.</li>\n          <li>Create new contacts, leads, and accounts.</li>\n          <li>Update contact, lead, and account information.</li>\n          <li>Automatically display relevant Salesforce records when viewing a conversation.</li>\n          <li>Create and view tasks and activity.</li>\n        </ul>\n        <div><img src={salesforceScreenshot} className=\"screenshot\" /></div>\n      </div>}\n    </div>\n  );\n};\n\nexport default Salesforce;\n"]}]}