{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/CreateSection.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/CreateSection.tsx","mtime":1675280254034},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBUaXRsZSBmcm9tICcuL1RpdGxlJzsKaW1wb3J0IEhlYWRlciBmcm9tICcuL0hlYWRlcic7CmltcG9ydCBGaWVsZCBmcm9tICcuL0ZpZWxkJzsKaW1wb3J0IHsgU09iamVjdEZpZWxkVHlwZSB9IGZyb20gJ0BzcmMvdHlwZXMvc2FsZXNmb3JjZSc7CmltcG9ydCAnLi9DcmVhdGVTZWN0aW9uLnNjc3MnOwppbXBvcnQgeyBnZXRTYWxlc2ZvcmNlRmllbGQgfSBmcm9tICdAc3JjL2xpYi9tb2RlbHMvc2FsZXNmb3JjZSc7CnZhciBDcmVhdGVTZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKENyZWF0ZVNlY3Rpb24sIF9zdXBlcik7CiAgICBmdW5jdGlvbiBDcmVhdGVTZWN0aW9uKCkgewogICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKICAgIH0KICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovCiAgICBDcmVhdGVTZWN0aW9uLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBnZXRTYWxlc2ZvcmNlRmllbGQodGhpcy5wcm9wcy5maWVsZHMsICdOYW1lJyk7CiAgICB9OwogICAgQ3JlYXRlU2VjdGlvbi5wcm90b3R5cGUuZW1haWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGdldFNhbGVzZm9yY2VGaWVsZCh0aGlzLnByb3BzLmZpZWxkcywgJ0VtYWlsJyk7CiAgICB9OwogICAgQ3JlYXRlU2VjdGlvbi5wcm90b3R5cGUucGhvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGdldFNhbGVzZm9yY2VGaWVsZCh0aGlzLnByb3BzLmZpZWxkcywgJ1Bob25lJyk7CiAgICB9OwogICAgLyogZXNsaW50LWVuYWJsZSAqLwogICAgQ3JlYXRlU2VjdGlvbi5wcm90b3R5cGUucmVuZGVyRmllbGRzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIGZpZWxkcyA9IFtdOwogICAgICAgIGlmICh0aGlzLnByb3BzLmZpZWxkcy5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5wcm9wcy5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgICAgICAgIGlmICgoZmllbGQudHlwZSA9PT0gU09iamVjdEZpZWxkVHlwZS5SZWZlcmVuY2UgJiYgZmllbGQubmFtZSAhPT0gJ093bmVySWQnKQogICAgICAgICAgICAgICAgICAgIHx8IGZpZWxkLnR5cGUgPT09IFNPYmplY3RGaWVsZFR5cGUuSWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoKGZpZWxkLnR5cGUgPT09ICdyZWZlcmVuY2UnICYmIGZpZWxkLm5hbWUgIT09ICdPd25lcicpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGZpZWxkLm5hbWUgPT09ICdFbWFpbCcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaWVsZHMucHVzaCgoUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZCwgeyBrZXk6IGZpZWxkLm5hbWUsIG5hbWU6IGZpZWxkLm5hbWUsIGZpZWxkOiBmaWVsZCwgb25DaGFuZ2U6IF90aGlzLnByb3BzLm9uQ2hhbmdlLCB0YWJiYWJsZTogdHJ1ZSwgc2luZ2xlQ2xpY2tUb0VkaXQ6IHRydWUgfSkpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJkYXRhIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIsIG51bGwsCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIGZpZWxkcykpKSk7CiAgICB9OwogICAgQ3JlYXRlU2VjdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0aXRsZSA9IHRoaXMucHJvcHMudGl0bGU7CiAgICAgICAgdmFyIGVycm9yID0gdGhpcy5wcm9wcy5lcnJvcjsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2FsZXNmb3JjZS1jcmVhdGUtc2VjdGlvbiIgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJtYWluIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaXRsZSwgeyB0aXRsZTogdGl0bGUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlciwgeyBuYW1lOiB0aGlzLm5hbWUoKSwgZW1haWw6IHRoaXMucHJvcHMuZW1haWwsIHBob25lOiB0aGlzLnBob25lKCksIGhyZWY6ICIiIH0pLAogICAgICAgICAgICAgICAgISFlcnJvciAmJiBlcnJvci5jb2RlICE9PSA0MDQgJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImVycm9yLXNlY3Rpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29weSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJcdTI2QTBcdUZFMEYgIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UpKSwKICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyRmllbGRzKCkpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImFjdGlvbi1idXR0b25zIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJzYXZlLWJ1dHRvbiIsIG9uQ2xpY2s6IHRoaXMucHJvcHMub25TYXZlIH0sIHRpdGxlKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiY2FuY2VsLWJ1dHRvbiIsIG9uQ2xpY2s6IHRoaXMucHJvcHMub25DYW5jZWwgfSwgIkNhbmNlbCIpKSkpOwogICAgfTsKICAgIHJldHVybiBDcmVhdGVTZWN0aW9uOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQ3JlYXRlU2VjdGlvbjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/CreateSection.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Section/CreateSection.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport Title from './Title';\nimport Header from './Header';\nimport Field from './Field';\nimport { SObjectFieldType, SObjectField } from '@src/types/salesforce';\n\nimport './CreateSection.scss';\nimport { ApiError } from '@src/api/base';\nimport { getSalesforceField } from '@src/lib/models/salesforce';\n\nexport interface Props {\n  title: string;\n  email: string;\n  fields: SObjectField[];\n  button?: string;\n  onChange: (fieldName: string, value: any) => void;\n\n  // Make non optional\n  onSave?: () => void;\n  onCancel?: () => void;\n\n  // Error\n  error?: Error;\n}\n\nclass CreateSection extends React.PureComponent<Props> {\n  /* eslint-disable no-restricted-syntax */\n  name() {\n    return getSalesforceField(this.props.fields, 'Name');\n  }\n\n  email() {\n    return getSalesforceField(this.props.fields, 'Email');\n  }\n\n  phone() {\n    return getSalesforceField(this.props.fields, 'Phone');\n  }\n  /* eslint-enable */\n\n  renderFields() {\n    const fields: JSX.Element[] = [];\n\n    if (this.props.fields.length) {\n      this.props.fields.forEach((field) => {\n        if ((field.type === SObjectFieldType.Reference && field.name !== 'OwnerId')\n          || field.type === SObjectFieldType.Id) {\n          return;\n        }\n\n        if ((field.type === 'reference' && field.name !== 'Owner')) {\n          return;\n        }\n\n        if (field.name === 'Email') {\n          return;\n        }\n\n        fields.push((\n          <Field\n            key={field.name}\n            name={field.name}\n            field={field}\n            onChange={this.props.onChange}\n            tabbable\n            singleClickToEdit\n          />\n        ));\n      });\n    }\n\n    return (\n      <div className=\"data\">\n        <table>\n          <tbody>{fields}</tbody>\n        </table>\n      </div>\n    );\n  }\n\n  render() {\n    const { title } = this.props;\n    const { error } = this.props;\n    return (\n      <div className=\"salesforce-create-section\">\n        <div className=\"main\">\n          <Title title={title} />\n          <Header\n            name={this.name()}\n            email={this.props.email}\n            phone={this.phone()}\n            href=\"\"\n          />\n          {!!error && (error as ApiError).code !== 404 &&\n            <div className=\"error-section\">\n              <div className=\"copy\">\n                ⚠️ {error.message}\n              </div>\n            </div>\n          }\n          {this.renderFields()}\n        </div>\n        <div className=\"action-buttons\">\n          <button\n            className=\"save-button\"\n            onClick={this.props.onSave}\n          >\n            {title}\n          </button>\n          <button\n            className=\"cancel-button\"\n            onClick={this.props.onCancel}\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateSection;\n"]}]}