{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ErrorBoundary/ErrorBoundary.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ErrorBoundary/ErrorBoundary.tsx","mtime":1675280254005},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHdpdGhTY29wZSwgY2FwdHVyZUV4Y2VwdGlvbiB9IGZyb20gJ0BzZW50cnkvYnJvd3Nlcic7CmltcG9ydCAnLi9FcnJvckJvdW5kYXJ5LnNjc3MnOwppbXBvcnQgeyBXaW5kb3dzVGl0bGVCYXJQcm92aWRlciB9IGZyb20gJy4uL0Jhc2UvV2luZG93c1RpdGxlQmFyJzsKdmFyIEVycm9yQm91bmRhcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoRXJyb3JCb3VuZGFyeSwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIEVycm9yQm91bmRhcnkocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpczsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgZXJyb3I6IHByb3BzLmNyYXNoZWQgfHwgZmFsc2UsCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBFcnJvckJvdW5kYXJ5LnByb3RvdHlwZS5jb21wb25lbnREaWRDYXRjaCA9IGZ1bmN0aW9uIChlcnJvciwgaW5mbykgewogICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogISFlcnJvciB9KTsKICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yQm91bmRhcnknLCBlcnJvciwgaW5mbyk7CiAgICAgICAgd2l0aFNjb3BlKGZ1bmN0aW9uIChzY29wZSkgewogICAgICAgICAgICBzY29wZS5zZXRFeHRyYSgnaW5mbycsIGluZm8pOwogICAgICAgICAgICBjYXB0dXJlRXhjZXB0aW9uKGVycm9yKTsKICAgICAgICB9KTsKICAgIH07CiAgICBFcnJvckJvdW5kYXJ5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGVycm9yID0gdGhpcy5zdGF0ZS5lcnJvcjsKICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuOwogICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChFcnJvclBhZ2UsIG51bGwpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY2hpbGRyZW47CiAgICB9OwogICAgcmV0dXJuIEVycm9yQm91bmRhcnk7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwovLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1jbGFzc2VzLXBlci1maWxlCnZhciBFcnJvclBhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoRXJyb3JQYWdlLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gRXJyb3JQYWdlKCkgewogICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKICAgIH0KICAgIEVycm9yUGFnZS5wcm90b3R5cGUuaGFuZGxlUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9OwogICAgRXJyb3JQYWdlLnByb3RvdHlwZS5oYW5kbGVDb250YWN0U3VwcG9ydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly9oZWxwLnBvbHltYWlsLmlvLycsICdfYmxhbmsnKTsKICAgIH07CiAgICBFcnJvclBhZ2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2luZG93c1RpdGxlQmFyUHJvdmlkZXIsIG51bGwsCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZXJyb3ItYm91bmRhcnkiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImVtcHR5LWxzYiIgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1haW4iIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDEiLCBudWxsLCAiXHVEODNFXHVERDE0IiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCAiT29wcywgbG9va3MgbGlrZSBzb21ldGhpbmcgd2VudCB3cm9uZyEiKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNCIsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICJQbGVhc2UgIiwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYSIsIHsgb25DbGljazogdGhpcy5oYW5kbGVSZWZyZXNoIH0sICJyZWZyZXNoIiksCiAgICAgICAgICAgICAgICAgICAgICAgICIgdGhlIHBhZ2Ugb3IgIiwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYSIsIHsgb25DbGljazogdGhpcy5oYW5kbGVDb250YWN0U3VwcG9ydCB9LCAiY29udGFjdCBzdXBwb3J0IiksCiAgICAgICAgICAgICAgICAgICAgICAgICIgZm9yIGhlbHAuIikpKSkpOwogICAgfTsKICAgIHJldHVybiBFcnJvclBhZ2U7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgeyBFcnJvclBhZ2UgfTsKZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ErrorBoundary/ErrorBoundary.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ErrorBoundary/ErrorBoundary.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,SAAS,EAAE,gBAAgB,EAAE,MAAM,iBAAiB,CAAC;AAC9D,OAAO,sBAAsB,CAAC;AAC9B,OAAO,EAAE,uBAAuB,EAAE,MAAM,yBAAyB,CAAC;AAWlE;IAA4B,iCAAiC;IAC3D,uBAAY,KAAY;QAAxB,YACE,kBAAM,KAAK,CAAC,SAKb;QAHC,KAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,KAAK;SAC9B,CAAC;;IACJ,CAAC;IAED,yCAAiB,GAAjB,UAAkB,KAAY,EAAE,IAAqB;QACnD,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;QAClC,sCAAsC;QACtC,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QAC5C,SAAS,CAAC,UAAC,KAAK;YACd,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAC7B,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8BAAM,GAAN;QACU,IAAA,wBAAK,CAAgB;QACrB,IAAA,8BAAQ,CAAgB;QAEhC,IAAI,KAAK,EAAE;YACT,OAAO,oBAAC,SAAS,OAAG,CAAC;SACtB;QAED,OAAO,QAAQ,CAAC;IAClB,CAAC;IACH,oBAAC;AAAD,CAAC,AA7BD,CAA4B,KAAK,CAAC,aAAa,GA6B9C;AAED,iDAAiD;AACjD;IAA+B,6BAAiC;IAAhE;;IAwBA,CAAC;IAvBC,iCAAa,GAAb;QACE,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,wCAAoB,GAApB;QACE,MAAM,CAAC,IAAI,CAAC,2BAA2B,EAAE,QAAQ,CAAC,CAAC;IACrD,CAAC;IAED,0BAAM,GAAN;QACE,OAAO,CACL,oBAAC,uBAAuB;YACtB,6BAAK,SAAS,EAAC,gBAAgB;gBAC7B,6BAAK,SAAS,EAAC,WAAW,GAAG;gBAC7B,6BAAK,SAAS,EAAC,MAAM;oBACnB,+CAAW;oBACX,yEAA+C;oBAC/C;;wBAAW,2BAAG,OAAO,EAAE,IAAI,CAAC,aAAa,cAAa;;wBACnD,2BAAG,OAAO,EAAE,IAAI,CAAC,oBAAoB,sBAAqB;qCAAe,CACxE,CACF,CACkB,CAC3B,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,AAxBD,CAA+B,KAAK,CAAC,aAAa,GAwBjD;;AAED,eAAe,aAAa,CAAC","sourcesContent":["import React from 'react';\nimport { withScope, captureException } from '@sentry/browser';\nimport './ErrorBoundary.scss';\nimport { WindowsTitleBarProvider } from '../Base/WindowsTitleBar';\n\ninterface Props {\n  children?: any;\n  crashed?: boolean;\n}\n\ninterface State {\n  error: boolean;\n}\n\nclass ErrorBoundary extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      error: props.crashed || false,\n    };\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo) {\n    this.setState({ error: !!error });\n    // tslint:disable-next-line:no-console\n    console.error('ErrorBoundary', error, info);\n    withScope((scope) => {\n      scope.setExtra('info', info);\n      captureException(error);\n    });\n  }\n\n  render() {\n    const { error } = this.state;\n    const { children } = this.props;\n\n    if (error) {\n      return <ErrorPage />;\n    }\n\n    return children;\n  }\n}\n\n// tslint:disable-next-line: max-classes-per-file\nexport class ErrorPage extends React.PureComponent<Props, State> {\n  handleRefresh() {\n    window.location.reload();\n  }\n\n  handleContactSupport() {\n    window.open('https://help.polymail.io/', '_blank');\n  }\n\n  render() {\n    return (\n      <WindowsTitleBarProvider>\n        <div className=\"error-boundary\">\n          <div className=\"empty-lsb\" />\n          <div className=\"main\">\n            <h1>ðŸ¤”</h1>\n            <h3>Oops, looks like something went wrong!</h3>\n            <h4>Please <a onClick={this.handleRefresh}>refresh</a> the page\n            or <a onClick={this.handleContactSupport}>contact support</a> for help.</h4>\n          </div>\n        </div>\n      </WindowsTitleBarProvider>\n    );\n  }\n}\n\nexport default ErrorBoundary;\n"]}]}