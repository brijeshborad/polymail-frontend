{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/MultiSelectDropdown.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/MultiSelectDropdown.tsx","mtime":1675280254006},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgRGlzY2xvc3VyZSBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvRGlzY2xvc3VyZS5zdmcnOwppbXBvcnQgUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvUG9wb3Zlci9Qb3BvdmVyJzsKaW1wb3J0IERyb3Bkb3duSXRlbSBmcm9tICcuL0Ryb3Bkb3duSXRlbSc7CmltcG9ydCB7IEtleUNvZGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IHsgc29ydFN0cmluZ01hdGNoZXMsIGZ1enp5Rm9ybWF0dGVkU3RyaW5nIH0gZnJvbSAnQHNyYy9saWIvbWF0Y2hlcic7CmltcG9ydCB7IHR5cGVhaGVhZFJlZ2V4IH0gZnJvbSAnQHNyYy9saWIvdHlwZWFoZWFkJzsKaW1wb3J0IENsb3NlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9DbG9zZS5zdmcnOwppbXBvcnQgJy4vTXVsdGlTZWxlY3REcm9wZG93bi5zY3NzJzsKdmFyIE11bHRpU2VsZWN0RHJvcGRvd24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoTXVsdGlTZWxlY3REcm9wZG93biwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIE11bHRpU2VsZWN0RHJvcGRvd24ocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3ZlciA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvbnRhaW5lclJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMuY29udGFpbmVyUmVmID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlSW5wdXRSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLmlucHV0UmVmID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlT3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHJlYWRPbmx5ID0gX3RoaXMucHJvcHMucmVhZE9ubHk7CiAgICAgICAgICAgIGlmIChfdGhpcy5wb3BvdmVyICYmICFyZWFkT25seSkgewogICAgICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5zaG93KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNlbGVjdCA9IGZ1bmN0aW9uICh2YWx1ZSwgXykgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgaWQgPSBfYS5pZCwgdmFsdWVzID0gX2EudmFsdWVzOwogICAgICAgICAgICBpZiAoX3RoaXMucG9wb3ZlcikgewogICAgICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5oaWRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG1hdGNoZWRJbmRleCA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKTsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IG1hdGNoZWRJbmRleCwKICAgICAgICAgICAgICAgIHR5cGVhaGVhZFZhbHVlOiB1bmRlZmluZWQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdCh2YWx1ZSwgbWF0Y2hlZEluZGV4LCBpZCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB0eXBlYWhlYWQgPSBfYS50eXBlYWhlYWQsIG9uSW5wdXRDaGFuZ2UgPSBfYS5vbklucHV0Q2hhbmdlOwogICAgICAgICAgICBpZiAoIXR5cGVhaGVhZCkgewogICAgICAgICAgICAgICAgaWYgKG9uSW5wdXRDaGFuZ2UpIHsKICAgICAgICAgICAgICAgICAgICBvbklucHV0Q2hhbmdlKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBfdGhpcy5wcm9wcy52YWx1ZXM7CiAgICAgICAgICAgIHZhciB0ZXh0VmFsdWUgPSBlLnRhcmdldC52YWx1ZTsKICAgICAgICAgICAgdmFyIHJlZ2V4ID0gdHlwZWFoZWFkUmVnZXgodGV4dFZhbHVlKTsKICAgICAgICAgICAgLy8gU2V0IHR5cGVhaGVhZCBtYXRjaGVzCiAgICAgICAgICAgIHZhciB0eXBlYWhlYWRNYXRjaGVzID0gc29ydFN0cmluZ01hdGNoZXModmFsdWVzLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdi5tYXRjaChyZWdleCk7IH0pLCB0ZXh0VmFsdWUpOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICB0eXBlYWhlYWRJbmRleDogMCwKICAgICAgICAgICAgICAgIHR5cGVhaGVhZFZhbHVlOiB0ZXh0VmFsdWUsCiAgICAgICAgICAgICAgICB0eXBlYWhlYWRPcHRpb25zOiB0ZXh0VmFsdWUgJiYgdHlwZWFoZWFkTWF0Y2hlcyB8fCBfdGhpcy5wcm9wcy52YWx1ZXMsCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlT3B0aW9uc1Nob3cgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB0eXBlYWhlYWQgPSBfYS50eXBlYWhlYWQsIHZhbHVlcyA9IF9hLnZhbHVlczsKICAgICAgICAgICAgLy8gSGFuZGxlIGZvY3VzaW5nIGlmIHR5cGVhYmxlCiAgICAgICAgICAgIF90aGlzLmlucHV0UmVmLmZvY3VzKCk7CiAgICAgICAgICAgIGlmICh0eXBlYWhlYWQpIHsKICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBfdGhpcy5pbnB1dFJlZi52YWx1ZS5sZW5ndGg7CiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dFJlZi5zZXRTZWxlY3Rpb25SYW5nZSgwLCBsZW5ndGgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHR5cGVhaGVhZEluZGV4OiAtMSwKICAgICAgICAgICAgICAgIHBvcG92ZXJTaG93bjogdHJ1ZSwKICAgICAgICAgICAgICAgIHR5cGVhaGVhZFZhbHVlOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICB0eXBlYWhlYWRPcHRpb25zOiB2YWx1ZXMsCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlT3B0aW9uc0hpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHBvcG92ZXJTaG93bjogZmFsc2UsCiAgICAgICAgICAgICAgICB0eXBlYWhlYWRWYWx1ZTogdW5kZWZpbmVkLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUVudGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zdGF0ZSwgdHlwZWFoZWFkSW5kZXggPSBfYS50eXBlYWhlYWRJbmRleCwgcG9wb3ZlclNob3duID0gX2EucG9wb3ZlclNob3duLCB0eXBlYWhlYWRPcHRpb25zID0gX2EudHlwZWFoZWFkT3B0aW9uczsKICAgICAgICAgICAgdmFyIHZhbHVlcyA9IF90aGlzLnByb3BzLnZhbHVlczsKICAgICAgICAgICAgaWYgKHBvcG92ZXJTaG93biAmJiB0eXBlYWhlYWRJbmRleCA8IHZhbHVlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgICAgICAgICAgLy8gU2VsZWN0IG1hdGNoCiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSB0eXBlYWhlYWRPcHRpb25zW3R5cGVhaGVhZEluZGV4XTsKICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVNlbGVjdCh0eXBlYWhlYWRPcHRpb25zW3R5cGVhaGVhZEluZGV4XSwgdHlwZWFoZWFkSW5kZXgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gUmVzZXQgc3RhdGUgYW5kIHVuYmx1cgogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgIHR5cGVhaGVhZFZhbHVlOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgdHlwZWFoZWFkSW5kZXg6IDAsCiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmlucHV0UmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmlucHV0UmVmLmJsdXIoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnN0YXRlLCB0eXBlYWhlYWRJbmRleCA9IF9hLnR5cGVhaGVhZEluZGV4LCB0eXBlYWhlYWRPcHRpb25zID0gX2EudHlwZWFoZWFkT3B0aW9ucywgcG9wb3ZlclNob3duID0gX2EucG9wb3ZlclNob3duOwogICAgICAgICAgICB2YXIgaGFuZGxlZCA9IGZhbHNlOwogICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkgewogICAgICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlVwOgogICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c0luZGV4ID0gdHlwZWFoZWFkSW5kZXggLSAxOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0luZGV4IDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB0eXBlYWhlYWRJbmRleDogcHJldmlvdXNJbmRleCB9KTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5Eb3duOgogICAgICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHZhciBuZXh0SW5kZXggPSB0eXBlYWhlYWRJbmRleCArIDE7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA+PSB0eXBlYWhlYWRPcHRpb25zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB0eXBlYWhlYWRJbmRleDogbmV4dEluZGV4IH0pOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkVudGVyOgogICAgICAgICAgICAgICAgICAgIGlmIChwb3BvdmVyU2hvd24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUVudGVyKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlRhYjoKICAgICAgICAgICAgICAgICAgICBpZiAocG9wb3ZlclNob3duKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5Fc2M6CiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OiBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaGFuZGxlZCkgewogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVtb3ZlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBvblJlbW92ZSA9IF9hLm9uUmVtb3ZlLCB2YWx1ZXMgPSBfYS52YWx1ZXMsIGlkID0gX2EuaWQ7CiAgICAgICAgICAgIHZhciBtYXRjaGVkSW5kZXggPSB2YWx1ZXMuaW5kZXhPZih2YWx1ZSk7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHR5cGVhaGVhZFZhbHVlOiB1bmRlZmluZWQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBvblJlbW92ZSh2YWx1ZSwgbWF0Y2hlZEluZGV4LCBpZCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgc2VsZWN0ZWQ6IC0xLAogICAgICAgICAgICB0eXBlYWhlYWRPcHRpb25zOiBwcm9wcy52YWx1ZXMsCiAgICAgICAgICAgIHR5cGVhaGVhZEluZGV4OiAwLAogICAgICAgICAgICBwb3BvdmVyU2hvd246IGZhbHNlLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgTXVsdGlTZWxlY3REcm9wZG93bi5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcywgcHJldlN0YXRlKSB7CiAgICAgICAgLy8gSGVscHMgbWFpbnRhaW4gc2VsZWN0aW9uCiAgICAgICAgdmFyIHR5cGVhaGVhZEluZGV4ID0gdGhpcy5zdGF0ZS50eXBlYWhlYWRJbmRleDsKICAgICAgICBpZiAodHlwZWFoZWFkSW5kZXggJiYgdHlwZWFoZWFkSW5kZXggIT09IHByZXZTdGF0ZS50eXBlYWhlYWRJbmRleCAmJiB0aGlzLnBvcG92ZXIpIHsKICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lclJlZi5xdWVyeVNlbGVjdG9yKCIjZm9ybS1kcm9wZG93bi1vcHRpb24tIiArIHR5cGVhaGVhZEluZGV4KTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHZhciBjZWxsQm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgIHZhciBjZWxsVG9wID0gY2VsbEJveC5oZWlnaHQgKiAodHlwZWFoZWFkSW5kZXgpOwogICAgICAgICAgICAgICAgdmFyIGNlbGxCb3R0b20gPSBjZWxsQm94LmhlaWdodCArIChjZWxsQm94LmhlaWdodCAqIHR5cGVhaGVhZEluZGV4KTsKICAgICAgICAgICAgICAgIHZhciBsaXN0Qm94ID0gdGhpcy5jb250YWluZXJSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgICAgICB2YXIgbGlzdFRvcCA9IHRoaXMuY29udGFpbmVyUmVmLnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgIHZhciBsaXN0Qm90dG9tID0gbGlzdEJveC5oZWlnaHQgKyB0aGlzLmNvbnRhaW5lclJlZi5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICBpZiAoY2VsbFRvcCA8IGxpc3RUb3ApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lclJlZi5zY3JvbGxUb3AgPSBjZWxsVG9wOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjZWxsQm90dG9tID4gbGlzdEJvdHRvbSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmVmLnNjcm9sbFRvcCA9IGNlbGxCb3R0b20gLSBsaXN0Qm94LmhlaWdodDsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgTXVsdGlTZWxlY3REcm9wZG93bi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgZGVzY3JpcHRpb24gPSBfYS5kZXNjcmlwdGlvbiwgcGxhY2Vob2xkZXIgPSBfYS5wbGFjZWhvbGRlciwgaWQgPSBfYS5pZCwgc2VsZWN0ZWRWYWx1ZXMgPSBfYS5zZWxlY3RlZFZhbHVlcywgcmVhZE9ubHkgPSBfYS5yZWFkT25seSwgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLCBoaWRlRGlzY2xvc3VyZSA9IF9hLmhpZGVEaXNjbG9zdXJlLCB2YWx1ZXMgPSBfYS52YWx1ZXMsIHR5cGVhaGVhZCA9IF9hLnR5cGVhaGVhZDsKICAgICAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLCB0eXBlYWhlYWRWYWx1ZSA9IF9iLnR5cGVhaGVhZFZhbHVlLCB0eXBlYWhlYWRPcHRpb25zID0gX2IudHlwZWFoZWFkT3B0aW9ucywgdHlwZWFoZWFkSW5kZXggPSBfYi50eXBlYWhlYWRJbmRleDsKICAgICAgICB2YXIgc2hvd25WYWx1ZSA9IHR5cGVhaGVhZFZhbHVlOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ211bHRpc2VsZWN0LWRyb3Bkb3duJywgY2xhc3NOYW1lKSwgaWQ6IGlkIH0sCiAgICAgICAgICAgIGRlc2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sIGRlc2NyaXB0aW9uKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZU9wZW4sIGNsYXNzTmFtZTogY2xhc3NuYW1lcygnc2VsZWN0JywgeyBlbXB0eTogIShzZWxlY3RlZFZhbHVlcyA9PT0gbnVsbCB8fCBzZWxlY3RlZFZhbHVlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoKSB9KSB9LAogICAgICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXMgJiYgKHNlbGVjdGVkVmFsdWVzLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0Q2VsbCwgeyB2YWx1ZTogYSwga2V5OiAic2VsZWN0LWNlbGwtIiArIGEsIG9uUmVtb3ZlOiBfdGhpcy5oYW5kbGVSZW1vdmUgfSkpOyB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgZGlyOiAiYXV0byIsIGNsYXNzTmFtZTogImlucHV0IiwgcmVmOiB0aGlzLmhhbmRsZUlucHV0UmVmLCBrZXk6ICIiICsgdGhpcy5zdGF0ZS5zZWxlY3RlZCwgdmFsdWU6IHNob3duVmFsdWUsIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UsIHJlYWRPbmx5OiByZWFkT25seSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHJlYWRPbmx5LCBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93biwgc2l6ZTogdHlwZWFoZWFkICYmIE1hdGgubWF4LmFwcGx5KE1hdGgsICh2YWx1ZXMubWFwKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwubGVuZ3RoOyB9KSkpIHx8IHVuZGVmaW5lZCB9KSwKICAgICAgICAgICAgICAgICFoaWRlRGlzY2xvc3VyZSAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlzY2xvc3VyZSwgeyBjbGFzc05hbWU6ICJkaXNjbG9zdXJlIiB9KSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wb3ZlciwgeyBjbGFzc05hbWU6ICJmb3JtLWRyb3Bkb3duLXBvcG92ZXIiLCByZWY6IHRoaXMuaGFuZGxlUmVmLCBvblNob3c6IHRoaXMuaGFuZGxlT3B0aW9uc1Nob3csIG9uSGlkZTogdGhpcy5oYW5kbGVPcHRpb25zSGlkZSwgYXV0b0ZvY3VzT2ZmOiB0cnVlIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm9wdGlvbnMtY29udGFpbmVyIiwgcmVmOiB0aGlzLmhhbmRsZUNvbnRhaW5lclJlZiB9LCB0eXBlYWhlYWRPcHRpb25zLm1hcChmdW5jdGlvbiAodmFsLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25JdGVtLCB7IGNsYXNzTmFtZTogaSA9PT0gdHlwZWFoZWFkSW5kZXggPyAnc2VsZWN0ZWQnIDogdW5kZWZpbmVkLCBrZXk6IHZhbCwgaW5kZXg6IGksIHZhbHVlOiB2YWwsIGpzeFZhbHVlOiAhIXR5cGVhaGVhZFZhbHVlICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdXp6eUZvcm1hdHRlZFN0cmluZyh0eXBlYWhlYWRWYWx1ZSwgdmFsLCBpKSB8fCB1bmRlZmluZWQsIG9uQ2xpY2s6IF90aGlzLmhhbmRsZVNlbGVjdCB9KTsKICAgICAgICAgICAgICAgIH0pKSkpKTsKICAgIH07CiAgICByZXR1cm4gTXVsdGlTZWxlY3REcm9wZG93bjsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CnZhciBTZWxlY3RDZWxsID0gZnVuY3Rpb24gKHByb3BzKSB7CiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSwgb25SZW1vdmUgPSBwcm9wcy5vblJlbW92ZTsKICAgIHZhciBoYW5kbGVSZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIG9uUmVtb3ZlKHZhbHVlKTsKICAgIH07CiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2VsZWN0LWNlbGwiLCBrZXk6ICJtdWx0aS1zZWxlY3Qtb3B0aW9uLSIgKyB2YWx1ZSB9LAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29weSIgfSwgdmFsdWUpLAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgb25DbGljazogaGFuZGxlUmVtb3ZlLCBjbGFzc05hbWU6ICJyZW1vdmUtYnV0dG9uIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlLCBudWxsKSkpKTsKfTsKZXhwb3J0IGRlZmF1bHQgTXVsdGlTZWxlY3REcm9wZG93bjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/MultiSelectDropdown.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Form/MultiSelectDropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport Disclosure from '@src/components/Icons/Disclosure.svg';\nimport Popover from '@src/components/Popover/Popover';\nimport DropdownItem from './DropdownItem';\nimport { KeyCode } from '@src/types';\nimport { sortStringMatches, fuzzyFormattedString } from '@src/lib/matcher';\nimport { typeaheadRegex } from '@src/lib/typeahead';\nimport Close from '@src/components/Icons/Close.svg';\n\nimport './MultiSelectDropdown.scss';\n\nexport interface Props {\n  className?: string;\n  description?: string;\n  placeholder?: string;\n  values: string[];\n  onSelect: (value: string, index: number, id?: string) => void;\n  onRemove: (value: string, index: number, id?: string) => void;\n  id?: string;\n  selectedValues?: string[];\n  readOnly?: boolean;\n  onInputChange?: (e: React.FormEvent<HTMLInputElement>) => void;\n  typeahead?: boolean;\n  hideDisclosure?: boolean;\n}\n\ninterface State {\n  selected: number;\n  typeaheadOptions: string[];\n  typeaheadValue?: string;\n  typeaheadIndex: number;\n  popoverShown: boolean;\n}\n\nclass MultiSelectDropdown extends React.PureComponent<Props, State> {\n  popover: Popover;\n  inputRef: HTMLInputElement;\n  containerRef: HTMLDivElement;\n\n  constructor(props: Props) {\n    super();\n\n    this.state = {\n      selected: -1,\n      typeaheadOptions: props.values,\n      typeaheadIndex: 0,\n      popoverShown: false,\n    };\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    // Helps maintain selection\n    const { typeaheadIndex } = this.state;\n    if (typeaheadIndex && typeaheadIndex !== prevState.typeaheadIndex && this.popover) {\n      const element = this.containerRef.querySelector(`#form-dropdown-option-${typeaheadIndex}`);\n      if (element) {\n        const cellBox = element.getBoundingClientRect();\n        const cellTop = cellBox.height * (typeaheadIndex);\n        const cellBottom = cellBox.height + (cellBox.height * typeaheadIndex);\n\n        const listBox = this.containerRef.getBoundingClientRect();\n        const listTop = this.containerRef.scrollTop;\n        const listBottom = listBox.height + this.containerRef.scrollTop;\n\n        if (cellTop < listTop) {\n          this.containerRef.scrollTop = cellTop;\n          return;\n        }\n\n        if (cellBottom > listBottom) {\n          this.containerRef.scrollTop = cellBottom - listBox.height;\n          return;\n        }\n      }\n    }\n  }\n\n  handleRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  handleContainerRef = (ref: HTMLDivElement) => {\n    this.containerRef = ref;\n  }\n\n  handleInputRef = (ref: HTMLInputElement) => {\n    this.inputRef = ref;\n  }\n\n  handleOpen = () => {\n    const { readOnly } = this.props;\n\n    if (this.popover && !readOnly) {\n      this.popover.show();\n    }\n  }\n\n  handleSelect = (value: string, _: number) => {\n    const { id, values } = this.props;\n    if (this.popover) {\n      this.popover.hide();\n    }\n\n    const matchedIndex = values.indexOf(value);\n    this.setState({\n      selected: matchedIndex,\n      typeaheadValue: undefined,\n    });\n    this.props.onSelect(value, matchedIndex, id);\n  }\n\n  handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { typeahead, onInputChange } = this.props;\n    if (!typeahead) {\n      if (onInputChange) {\n        onInputChange(e);\n      }\n      return;\n    }\n\n    const { values } = this.props;\n    const textValue = e.target.value;\n    const regex = typeaheadRegex(textValue);\n\n    // Set typeahead matches\n    const typeaheadMatches = sortStringMatches(values.filter(v => v.match(regex)), textValue);\n    this.setState({\n      typeaheadIndex: 0,\n      typeaheadValue: textValue,\n      typeaheadOptions: textValue && typeaheadMatches || this.props.values,\n    });\n  }\n\n  handleOptionsShow = () => {\n    const { typeahead, values } = this.props;\n\n    // Handle focusing if typeable\n    this.inputRef.focus();\n    if (typeahead) {\n      const length = this.inputRef.value.length;\n      this.inputRef.setSelectionRange(0, length);\n    }\n\n    this.setState({\n      typeaheadIndex: -1,\n      popoverShown: true,\n      typeaheadValue: undefined,\n      typeaheadOptions: values,\n    });\n  }\n\n  handleOptionsHide = () => {\n    this.setState({\n      popoverShown: false,\n      typeaheadValue: undefined,\n    });\n  }\n\n  handleEnter = () => {\n    const { typeaheadIndex, popoverShown, typeaheadOptions } = this.state;\n    const { values } = this.props;\n\n    if (popoverShown && typeaheadIndex < values.length) {\n      this.popover.hide();\n\n      // Select match\n      const match = typeaheadOptions[typeaheadIndex];\n      if (match) {\n        this.handleSelect(typeaheadOptions[typeaheadIndex], typeaheadIndex);\n      }\n\n      // Reset state and unblur\n      this.setState(\n        {\n          typeaheadValue: undefined,\n          typeaheadIndex: 0,\n        },\n        () => {\n          if (this.inputRef) {\n            this.inputRef.blur();\n          }\n        },\n      );\n    }\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n    const { typeaheadIndex, typeaheadOptions, popoverShown } = this.state;\n\n    let handled = false;\n    switch (e.keyCode) {\n      case KeyCode.Up:\n        const previousIndex = typeaheadIndex - 1;\n        handled = true;\n        if (previousIndex < 0) {\n          break;\n        }\n        this.setState({ typeaheadIndex: previousIndex });\n        break;\n      case KeyCode.Down:\n        handled = true;\n        const nextIndex = typeaheadIndex + 1;\n        if (nextIndex >= typeaheadOptions.length) {\n          break;\n        }\n\n        this.setState({ typeaheadIndex: nextIndex });\n        break;\n      case KeyCode.Enter:\n        if (popoverShown) {\n          handled = true;\n          this.handleEnter();\n        }\n        break;\n      case KeyCode.Tab:\n        if (popoverShown) {\n          this.popover.hide();\n        }\n        break;\n      case KeyCode.Esc:\n        handled = true;\n        this.popover.hide();\n        break;\n      default: break;\n    }\n\n    if (handled) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  handleRemove = (value: string) => {\n    const { onRemove, values, id } = this.props;\n    const matchedIndex = values.indexOf(value);\n    this.setState({\n      typeaheadValue: undefined,\n    });\n\n    onRemove(value, matchedIndex, id);\n  }\n\n  render() {\n    const {\n      description,\n      placeholder,\n      id,\n      selectedValues,\n      readOnly,\n      className,\n      hideDisclosure,\n      values,\n      typeahead,\n    } = this.props;\n\n    const {\n      typeaheadValue,\n      typeaheadOptions,\n      typeaheadIndex,\n    } = this.state;\n\n    const shownValue = typeaheadValue;\n\n    return (\n      <div\n        className={classnames('multiselect-dropdown', className)}\n        id={id}\n      >\n        {description && <div className=\"description\">{description}</div>}\n        <div\n          onClick={this.handleOpen}\n          className={classnames('select', { empty: !selectedValues?.length })}\n        >\n          {selectedValues && (\n            selectedValues.map(a => (\n              <SelectCell\n                value={a}\n                key={`select-cell-${a}`}\n                onRemove={this.handleRemove}\n              />\n            ),\n          ))}\n          <input\n            dir=\"auto\"\n            className=\"input\"\n            ref={this.handleInputRef}\n            key={`${this.state.selected}`}\n            value={shownValue}\n            placeholder={placeholder}\n            onChange={this.handleInputChange}\n            readOnly={readOnly === undefined ? true : readOnly}\n            onKeyDown={this.handleKeyDown}\n            size={typeahead && Math.max(...(values.map(el => el.length))) || undefined}\n          />\n          {!hideDisclosure &&\n            <Disclosure className=\"disclosure\" />\n          }\n        </div>\n        <Popover\n          className=\"form-dropdown-popover\"\n          ref={this.handleRef}\n          onShow={this.handleOptionsShow}\n          onHide={this.handleOptionsHide}\n          autoFocusOff\n        >\n          <div\n            className=\"options-container\"\n            ref={this.handleContainerRef}\n          >\n            {typeaheadOptions.map((val, i) =>\n              <DropdownItem\n                className={i === typeaheadIndex ? 'selected' : undefined}\n                key={val}\n                index={i}\n                value={val}\n                jsxValue={!!typeaheadValue &&\n                  fuzzyFormattedString(typeaheadValue, val, i) || undefined\n                }\n                onClick={this.handleSelect}\n              />,\n            )}\n          </div>\n        </Popover>\n      </div>\n    );\n  }\n}\n\ninterface SelectCellProps {\n  value: string;\n  onRemove: (key: string) => void;\n}\n\nconst SelectCell = (props: SelectCellProps)  => {\n  const { value, onRemove } = props;\n\n  const handleRemove = (e: React.MouseEvent<HTMLElement>) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    onRemove(value);\n  };\n\n  return (\n    <div\n      className=\"select-cell\"\n      key={`multi-select-option-${value}`}\n    >\n      <div className=\"copy\">\n        {value}\n      </div>\n      <div\n        onClick={handleRemove}\n        className=\"remove-button\"\n      >\n        <Close />\n      </div>\n    </div>\n  );\n};\n\nexport default MultiSelectDropdown;\n"]}]}