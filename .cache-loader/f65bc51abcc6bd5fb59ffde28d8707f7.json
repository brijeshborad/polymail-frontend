{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Toast/Toast.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Toast/Toast.tsx","mtime":1675280253988},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyBtYXAgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyBDb25maXJtYXRpb25Qb3NpdG9uIH0gZnJvbSAnQHNyYy9kdWNrcy90b2FzdHMnOwppbXBvcnQgQ2xvc2UgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0Nsb3NlLnN2Zyc7CmltcG9ydCBSb3VuZENoZWNrbWFyayBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvUm91bmRDaGVja21hcmsuc3ZnJzsKaW1wb3J0IHsgYW5pbWF0ZWQsIGNvbmZpZywgU3ByaW5nIH0gZnJvbSAncmVhY3Qtc3ByaW5nJzsKaW1wb3J0ICcuL1RvYXN0LnNjc3MnOwppbXBvcnQgS2V5Ym9hcmRTeW1ib2wgZnJvbSAnLi4vS2V5Ym9hcmRTeW1ib2wvS2V5Ym9hcmRTeW1ib2wnOwppbXBvcnQgeyBIb3RrZXlBY3Rpb24gfSBmcm9tICdAc3JjL2xpYi9ob3RrZXlzJzsKdmFyIFRvYXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFRvYXN0LCBfc3VwZXIpOwogICAgZnVuY3Rpb24gVG9hc3QocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLnJlbmRlck9wdGlvbkRlc2MgPSBmdW5jdGlvbiAoZGVzYykgewogICAgICAgICAgICByZXR1cm4gZGVzYy5zcGxpdCgnKycpLm1hcChmdW5jdGlvbiAoYywgaSkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmRTeW1ib2wsIHsga2V5OiBjICsgIi0iICsgaSwgY2hhcmFjdGVyOiBjIH0pKTsgfSk7CiAgICAgICAgfTsKICAgICAgICAvLyBJbW1lZGlhdGVseSBzZXRzIHNob3cgdG8gZmFsc2Ugc2V0dGluZyBmYWRlIGFuaW1hdGlvbgogICAgICAgIC8vIHRoZW4gY2FsbHMgJiBzZXRzIGRpc21pc3NUaW1lb3V0IHRvIGNsZWFyIHRocm91Z2ggYWN0aW9uIDIwMCBtcyBsYXRlcgogICAgICAgIF90aGlzLmhhbmRsZUZhZGVPdXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuZGlzbWlzc1RpbWVvdXQpOwogICAgICAgICAgICAgICAgX3RoaXMuZGlzbWlzc1RpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcm9wcy5zZXRUb2FzdChudWxsKTsgfSwgMjAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5yZW5kZXJIb3RrZXlTdWdnZXN0aW9uID0gZnVuY3Rpb24gKGhvdGtleSkgewogICAgICAgICAgICB2YXIgdG9hc3QgPSBfdGhpcy5wcm9wcy50b2FzdDsKICAgICAgICAgICAgdmFyIHNob3cgPSBfdGhpcy5zdGF0ZS5zaG93OwogICAgICAgICAgICB2YXIgY29weSA9IGhvdGtleS5uYW1lICsgIjogIjsKICAgICAgICAgICAgaWYgKHRvYXN0ICYmIHRvYXN0Lm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgIGNvcHkgKz0gdG9hc3QubWVzc2FnZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgdHJhbnNsYXRlU3RhcnQgPSB0b2FzdC50eXBlID09PSBDb25maXJtYXRpb25Qb3NpdG9uLkJvdHRvbUNlbnRlcgogICAgICAgICAgICAgICAgPyAnMTZweCcKICAgICAgICAgICAgICAgIDogJy0xNnB4JzsKICAgICAgICAgICAgdmFyIGhpZGVDaGVjayA9IHRvYXN0LnR5cGUgPT09IENvbmZpcm1hdGlvblBvc2l0b24uVG9wQ2VudGVyOwogICAgICAgICAgICB2YXIgc2hvcnRjdXRUZXh0ID0gaG90a2V5LnRleHQ7CiAgICAgICAgICAgIGlmIChob3RrZXkubmFtZSA9PT0gSG90a2V5QWN0aW9uLlRyYXNoKSB7CiAgICAgICAgICAgICAgICBzaG9ydGN1dFRleHQgPSAnZGVsICjijKspJzsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3ByaW5nLCB7IGZyb206IHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAidHJhbnNsYXRlWSgiICsgdHJhbnNsYXRlU3RhcnQgKyAiKSB0cmFuc2xhdGVYKC01MCUpIiB9LCB0bzogewogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNob3cgPyAxIDogMCwKICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICEhdG9hc3QKICAgICAgICAgICAgICAgICAgICAgICAgPyAndHJhbnNsYXRlWSgwKSB0cmFuc2xhdGVYKC01MCUpJwogICAgICAgICAgICAgICAgICAgICAgICA6ICIndHJhbnNsYXRlWSgiICsgdHJhbnNsYXRlU3RhcnQgKyAiKSB0cmFuc2xhdGVYKC01MCUpIiwKICAgICAgICAgICAgICAgIH0sIGNvbmZpZzogY29uZmlnLmdlbnRsZSwga2V5OiAiY29uZmlybWF0aW9uIiB9LCBmdW5jdGlvbiAoc3ApIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KGFuaW1hdGVkLmRpdiwgeyBzdHlsZTogc3AsIGNsYXNzTmFtZTogY2xhc3NuYW1lcygndG9hc3QnLCAnY29uZmlybWF0aW9uLXRvYXN0JywgJ2hvdGtleS10b2FzdCcsIHRvYXN0LnR5cGUsIHsKICAgICAgICAgICAgICAgICAgICBzaG93OiBzaG93LAogICAgICAgICAgICAgICAgICAgICdub3QtcmVuZGVyZWQnOiAhX3RoaXMuaGFzUmVuZGVyZWQsCiAgICAgICAgICAgICAgICAgICAgJ2hpZGUtY2hlY2snOiBoaWRlQ2hlY2ssCiAgICAgICAgICAgICAgICB9KSB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIGNvcHkpLAogICAgICAgICAgICAgICAgKHNob3J0Y3V0VGV4dCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzaG9ydGN1dC1jb250YWluZXIiIH0sIF90aGlzLnJlbmRlck9wdGlvbkRlc2Moc2hvcnRjdXRUZXh0KSkpKSkpOyB9KSk7CiAgICAgICAgfTsKICAgICAgICAvLyBSZW5kZXJzIENvbmZpcm1hdGlvbiBTdHlsaW5nIGZvciB0b2FzdAogICAgICAgIC8vIFRPRE8oU0hJTik6IERvIG5vdCB1c2UgRXJyb3IgYXMgQmFzZSBPYmplY3QKICAgICAgICAvLyBTY2hlZHVsaW5nIHVybCBzaG91bGQgYmUgYm90dG9tIGxlZnQsIHNlbmQgdGVzdCBzZXF1ZW5jZSBzaG91bGQgYmUgdG9wIG1pZGRsZQogICAgICAgIF90aGlzLnJlbmRlckNvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHRvYXN0ID0gX3RoaXMucHJvcHMudG9hc3Q7CiAgICAgICAgICAgIHZhciBzaG93ID0gX3RoaXMuc3RhdGUuc2hvdzsKICAgICAgICAgICAgdmFyIHRvYXN0U3RyaW5nID0gdG9hc3QgJiYgdG9hc3QubWVzc2FnZSB8fCAnJzsKICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVN0YXJ0ID0gdG9hc3QudHlwZSA9PT0gQ29uZmlybWF0aW9uUG9zaXRvbi5Cb3R0b21DZW50ZXIKICAgICAgICAgICAgICAgID8gJzE2cHgnCiAgICAgICAgICAgICAgICA6ICctMTZweCc7CiAgICAgICAgICAgIHZhciBoaWRlQ2hlY2sgPSB0b2FzdC50eXBlID09PSBDb25maXJtYXRpb25Qb3NpdG9uLlRvcENlbnRlcjsKICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFNwcmluZywgeyBmcm9tOiB7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogInRyYW5zbGF0ZVkoIiArIHRyYW5zbGF0ZVN0YXJ0ICsgIikgdHJhbnNsYXRlWCgtNTAlKSIgfSwgdG86IHsKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBzaG93ID8gMSA6IDAsCiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAhIXRvYXN0CiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RyYW5zbGF0ZVkoMCkgdHJhbnNsYXRlWCgtNTAlKScKICAgICAgICAgICAgICAgICAgICAgICAgOiAiJ3RyYW5zbGF0ZVkoIiArIHRyYW5zbGF0ZVN0YXJ0ICsgIikgdHJhbnNsYXRlWCgtNTAlKSIsCiAgICAgICAgICAgICAgICB9LCBjb25maWc6IGNvbmZpZy5nZW50bGUsIGtleTogImNvbmZpcm1hdGlvbiIgfSwgZnVuY3Rpb24gKHNwKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHsgc3R5bGU6IHNwLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ3RvYXN0JywgJ2NvbmZpcm1hdGlvbi10b2FzdCcsIHRvYXN0LnR5cGUsIHsKICAgICAgICAgICAgICAgICAgICBzaG93OiBzaG93LAogICAgICAgICAgICAgICAgICAgICdub3QtcmVuZGVyZWQnOiAhX3RoaXMuaGFzUmVuZGVyZWQsCiAgICAgICAgICAgICAgICAgICAgJ2hpZGUtY2hlY2snOiBoaWRlQ2hlY2ssCiAgICAgICAgICAgICAgICB9KSB9LAogICAgICAgICAgICAgICAgIWhpZGVDaGVjayAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChSb3VuZENoZWNrbWFyaywgeyBoZWlnaHQ6ICIyMHB4Iiwgd2lkdGg6ICIyMHB4IiB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgdG9hc3RTdHJpbmcpKSk7IH0pKTsKICAgICAgICB9OwogICAgICAgIGlmIChwcm9wcy50b2FzdCkgewogICAgICAgICAgICBfdGhpcy5oYXNSZW5kZXJlZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBzaG93OiAhIXByb3BzLnRvYXN0LAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgLy8gU2hvdyB0b2FzdCwgY2xlYXJzIGZhZGUgdGltZW91dCBhbmQgc2V0cyBuZXcgZmFkZSBkZWxheQogICAgVG9hc3QucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIHRvYXN0ID0gdGhpcy5wcm9wcy50b2FzdDsKICAgICAgICB2YXIgZGVsYXkgPSA1MDAwOwogICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3cpIHsKICAgICAgICAgICAgaWYgKHRvYXN0ICYmIHRvYXN0LmlzQ29uZmlybWF0aW9uKSB7CiAgICAgICAgICAgICAgICBkZWxheSA9IDMwMDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5mYWRlVGltZW91dCA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmhhbmRsZUZhZGVPdXQoKTsgfSwgZGVsYXkpOwogICAgICAgIH0KICAgIH07CiAgICBUb2FzdC5wcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICBpZiAobmV4dFByb3BzLnRvYXN0ICE9PSB0aGlzLnByb3BzLnRvYXN0KSB7CiAgICAgICAgICAgIHZhciBkZWxheV8xID0gNTAwMDsKICAgICAgICAgICAgaWYgKG5leHRQcm9wcy50b2FzdCkgewogICAgICAgICAgICAgICAgdGhpcy5oYXNSZW5kZXJlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBpZiAobmV4dFByb3BzLnRvYXN0LmlzQ29uZmlybWF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsYXlfMSA9IDMwMDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gU2hvdyB0b2FzdCwgY2xlYXJzIGZhZGUgdGltZW91dCBhbmQgc2V0cyBuZXcgZmFkZSBkZWxheQogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvdzogISFuZXh0UHJvcHMudG9hc3QgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLnNob3cpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZmFkZVRpbWVvdXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmZhZGVUaW1lb3V0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFkZVRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oYW5kbGVGYWRlT3V0KCk7IH0sIGRlbGF5XzEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgVG9hc3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLmRpc21pc3NUaW1lb3V0KSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRpc21pc3NUaW1lb3V0KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuZmFkZVRpbWVvdXQpIHsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZmFkZVRpbWVvdXQpOwogICAgICAgIH0KICAgIH07CiAgICBUb2FzdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIHRvYXN0ID0gdGhpcy5wcm9wcy50b2FzdDsKICAgICAgICB2YXIgc2hvdyA9IHRoaXMuc3RhdGUuc2hvdzsKICAgICAgICB2YXIgdG9hc3RTdHJpbmcgPSB0b2FzdCAmJiB0b2FzdC5tZXNzYWdlOwogICAgICAgIGlmICh0b2FzdCAmJiB0b2FzdC5lcnJvcnMpIHsKICAgICAgICAgICAgdG9hc3RTdHJpbmcgPSBtYXAodG9hc3QuZXJyb3JzLCBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGVycm9yOyB9KS5qb2luKCcgJyk7CiAgICAgICAgfQogICAgICAgIGlmICghdG9hc3QpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIC8vIFJlbmRlciBIb3RrZXkgc3VnZ2VzdGlvbiBpZiBob3RrZXkgc3VwcGxpZWQKICAgICAgICB2YXIgaG90a2V5ID0gdG9hc3QuaG90a2V5OwogICAgICAgIGlmIChob3RrZXkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVySG90a2V5U3VnZ2VzdGlvbihob3RrZXkpOwogICAgICAgIH0KICAgICAgICAvLyBIQUNLKFNISU4pOiBUbyBzaG93IENvbmZpcm1hdGlvbiBTdWNjZXNzCiAgICAgICAgaWYgKHRvYXN0ICYmIHRvYXN0LmlzQ29uZmlybWF0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckNvbmZpcm1hdGlvbigpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3ByaW5nLCB7IGZyb206IHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMTZweCkgdHJhbnNsYXRlWCgtNTAlKScgfSwgdG86IHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNob3cgPyAxIDogMCwKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogISF0b2FzdCA/ICd0cmFuc2xhdGVZKDApIHRyYW5zbGF0ZVgoLTUwJSknIDogJ3RyYW5zbGF0ZVkoLTE2cHgpIHRyYW5zbGF0ZVgoLTUwJSknLAogICAgICAgICAgICB9LCBjb25maWc6IGNvbmZpZy5nZW50bGUgfSwgZnVuY3Rpb24gKHNwKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRlZC5kaXYsIHsgc3R5bGU6IHNwLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ3RvYXN0JywgeyBzaG93OiBzaG93LCAnbm90LXJlbmRlcmVkJzogIV90aGlzLmhhc1JlbmRlcmVkIH0pIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCB0b2FzdFN0cmluZyksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiY2xvc2UtYnV0dG9uIiwgb25DbGljazogX3RoaXMuaGFuZGxlRmFkZU91dCB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZSwgeyBjbGFzc05hbWU6ICJjbG9zZS1pY29uIiB9KSkpKTsgfSkpOwogICAgfTsKICAgIHJldHVybiBUb2FzdDsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IFRvYXN0Owo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Toast/Toast.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/Toast/Toast.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport { map } from 'lodash';\n\nimport { ApiError } from '@src/api/base';\nimport { ConfirmationError, ConfirmationPositon } from '@src/ducks/toasts';\n\nimport Close from '@src/components/Icons/Close.svg';\nimport RoundCheckmark from '@src/components/Icons/RoundCheckmark.svg';\nimport { animated, config, Spring } from 'react-spring';\n\nimport './Toast.scss';\nimport KeyboardSymbol from '../KeyboardSymbol/KeyboardSymbol';\nimport { Hotkey, HotkeyAction } from '@src/lib/hotkeys';\n\nexport interface StateProps {\n  toast?: Error;\n}\n\nexport interface DispatchProps {\n  setToast: (error: Error|null) => void;\n}\n\ninterface State {\n  show: boolean;\n}\n\nclass Toast extends React.PureComponent<StateProps & DispatchProps, State> {\n  private fadeTimeout: NodeJS.Timer;\n  private dismissTimeout: NodeJS.Timer;\n  // keep track on intialRender so we don't fade out\n  private hasRendered: boolean;\n\n  constructor(props: StateProps & DispatchProps) {\n    super();\n\n    if (props.toast) {\n      this.hasRendered = true;\n    }\n\n    this.state = {\n      show: !!props.toast,\n    };\n  }\n\n  // Show toast, clears fade timeout and sets new fade delay\n  componentDidMount() {\n    const { toast } = this.props;\n    let delay = 5000;\n\n    if (this.state.show) {\n      if (toast && (toast as ConfirmationError).isConfirmation) {\n        delay = 3000;\n      }\n      this.fadeTimeout = global.setTimeout(\n        () => this.handleFadeOut(),\n        delay,\n      );\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: StateProps & DispatchProps) {\n    if (nextProps.toast !== this.props.toast) {\n      let delay = 5000;\n      if (nextProps.toast) {\n        this.hasRendered = true;\n\n        if ((nextProps.toast as ConfirmationError).isConfirmation) {\n          delay = 3000;\n        }\n      }\n\n      // Show toast, clears fade timeout and sets new fade delay\n      this.setState(\n        { show: !!nextProps.toast },\n        () => {\n          if (this.state.show) {\n            if (this.fadeTimeout) {\n              clearTimeout(this.fadeTimeout);\n            }\n            this.fadeTimeout = global.setTimeout(\n              () => this.handleFadeOut(),\n              delay,\n            );\n          }\n        },\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.dismissTimeout) {\n      clearTimeout(this.dismissTimeout);\n    }\n\n    if (this.fadeTimeout) {\n      clearTimeout(this.fadeTimeout);\n    }\n  }\n\n  renderOptionDesc = (desc: string) => {\n    return desc.split('+').map((c, i) => (\n      <KeyboardSymbol\n        key={`${c}-${i}`}\n        character={c}\n      />\n    ));\n  }\n\n  // Immediately sets show to false setting fade animation\n  // then calls & sets dismissTimeout to clear through action 200 ms later\n  handleFadeOut = () => {\n    this.setState(\n      {\n        show: false,\n      },\n      () => {\n        clearTimeout(this.dismissTimeout);\n        this.dismissTimeout = global.setTimeout(\n          () => this.props.setToast(null),\n          200,\n        );\n      },\n    );\n  }\n\n  renderHotkeySuggestion = (hotkey: Hotkey) => {\n    const { toast } = this.props;\n    const { show } = this.state;\n    let copy = `${hotkey.name}: `;\n    if (toast && toast.message) {\n      copy += toast.message;\n    }\n    const translateStart = (toast as ConfirmationError).type === ConfirmationPositon.BottomCenter\n      ? '16px'\n      : '-16px';\n\n    const hideCheck = (toast as ConfirmationError).type === ConfirmationPositon.TopCenter;\n    let shortcutText = hotkey.text;\n    if (hotkey.name === HotkeyAction.Trash) {\n      shortcutText = 'del (⌫)';\n    }\n    return (\n      <Spring\n        from={{ opacity: 0, transform: `translateY(${translateStart}) translateX(-50%)` }}\n        to={{\n          opacity: show ? 1 : 0,\n          transform: !!toast\n            ? 'translateY(0) translateX(-50%)'\n            : `'translateY(${translateStart}) translateX(-50%)`,\n        }}\n        config={config.gentle}\n        key=\"confirmation\"\n      >\n        {sp => (\n          <animated.div\n            style={sp}\n            className={classnames(\n              'toast',\n              'confirmation-toast',\n              'hotkey-toast',\n              (toast as ConfirmationError).type,\n              {\n                show,\n                'not-rendered': !this.hasRendered,\n                'hide-check': hideCheck,\n              })\n            }\n          >\n            <span>{copy}</span>\n            {(shortcutText && (\n              <div className=\"shortcut-container\">\n                {this.renderOptionDesc(shortcutText)}\n              </div>\n            ))}\n          </animated.div>\n        )}\n      </Spring>\n    );\n  }\n\n  // Renders Confirmation Styling for toast\n  // TODO(SHIN): Do not use Error as Base Object\n  // Scheduling url should be bottom left, send test sequence should be top middle\n  renderConfirmation = () => {\n    const { toast } = this.props;\n    const { show } = this.state;\n    const toastString = toast && toast.message || '';\n    const translateStart = (toast as ConfirmationError).type === ConfirmationPositon.BottomCenter\n      ? '16px'\n      : '-16px';\n\n    const hideCheck = (toast as ConfirmationError).type === ConfirmationPositon.TopCenter;\n    return (\n      <Spring\n        from={{ opacity: 0, transform: `translateY(${translateStart}) translateX(-50%)` }}\n        to={{\n          opacity: show ? 1 : 0,\n          transform: !!toast\n            ? 'translateY(0) translateX(-50%)'\n            : `'translateY(${translateStart}) translateX(-50%)`,\n        }}\n        config={config.gentle}\n        key=\"confirmation\"\n      >\n        {sp => (\n          <animated.div\n            style={sp}\n            className={classnames(\n              'toast',\n              'confirmation-toast',\n              (toast as ConfirmationError).type,\n              {\n                show,\n                'not-rendered': !this.hasRendered,\n                'hide-check': hideCheck,\n              })\n            }\n          >\n            {!hideCheck && (\n              <RoundCheckmark height=\"20px\" width=\"20px\" />\n            )}\n            <span>{toastString}</span>\n          </animated.div>\n        )}\n      </Spring>\n    );\n  }\n\n  render() {\n    const { toast } = this.props;\n    const { show } = this.state;\n    let toastString = toast && toast.message;\n    if (toast && (toast as ApiError).errors) {\n      toastString = map((toast as ApiError).errors, error => error).join(' ');\n    }\n\n    if (!toast) {\n      return null;\n    }\n\n    // Render Hotkey suggestion if hotkey supplied\n    const hotkey = (toast as ConfirmationError).hotkey;\n    if (hotkey) {\n      return this.renderHotkeySuggestion(hotkey);\n    }\n\n    // HACK(SHIN): To show Confirmation Success\n    if (toast && (toast as ConfirmationError).isConfirmation) {\n      return this.renderConfirmation();\n    }\n\n    return (\n      <Spring\n        from={{ opacity: 0, transform: 'translateY(-16px) translateX(-50%)' }}\n        to={{\n          opacity: show ? 1 : 0,\n          transform: !!toast ? 'translateY(0) translateX(-50%)' : 'translateY(-16px) translateX(-50%)',\n        }}\n        config={config.gentle}\n      >\n        {sp => (\n          <animated.div\n            style={sp}\n            className={classnames('toast', { show, 'not-rendered': !this.hasRendered })}\n          >\n            <span>{toastString}</span>\n            <button className=\"close-button\" onClick={this.handleFadeOut}>\n              <Close className=\"close-icon\" />\n            </button>\n          </animated.div>\n        )}\n      </Spring>\n    );\n  }\n}\n\nexport default Toast;\n"]}]}