{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/scheduling.ts","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/scheduling.ts","mtime":1675280254068},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkgewogICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHsKICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKQogICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgfTsKICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9OwppbXBvcnQgeyByZWNvcmRFdmVudCwgVXNlckV2ZW50cyB9IGZyb20gJ0BzcmMvbGliL2FuYWx5dGljcyc7CmltcG9ydCB7IENvbmZlcmVuY2VUeXBlIH0gZnJvbSAnQHNyYy90eXBlcy9zY2hlZHVsaW5nJzsKaW1wb3J0IHsgQXR0ZW5kZWVTdGF0dXMgfSBmcm9tICdAc3JjL3R5cGVzJzsKZXhwb3J0IHZhciBhcHBseURlZmF1bHRTY2hlZHVsaW5nUHVibGljID0gZnVuY3Rpb24gKHNjaGVkdWxpbmdQdWJsaWMpIHsgcmV0dXJuIChfX2Fzc2lnbih7IHRpbWVXaW5kb3dzOiBbXSB9LCBzY2hlZHVsaW5nUHVibGljKSk7IH07CmV4cG9ydCB2YXIgYXBwbHlEZWZhdWx0U2NoZWR1bGluZyA9IGZ1bmN0aW9uIChzY2hlZHVsaW5nKSB7IHJldHVybiAoX19hc3NpZ24oeyBibG9ja2luZ0NhbGVuZGFyczogW10gfSwgc2NoZWR1bGluZykpOyB9OwpleHBvcnQgdmFyIGNvbmZlcmVuY2VUeXBlRGlzcGxheSA9IGZ1bmN0aW9uICh0KSB7CiAgICBzd2l0Y2ggKHQpIHsKICAgICAgICBjYXNlIENvbmZlcmVuY2VUeXBlLkdvb2dsZToKICAgICAgICAgICAgcmV0dXJuICdHb29nbGUgTWVldCc7CiAgICAgICAgY2FzZSBDb25mZXJlbmNlVHlwZS5ab29tOgogICAgICAgICAgICByZXR1cm4gJ1pvb20nOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiB0OwogICAgfQp9OwovLyBDb252ZXJ0cyBwYXJ0aWNpcGFudHMgdG8gc3RyaW5nCmV4cG9ydCB2YXIgYXR0ZW5kZWVzVG9TdHJpbmcgPSBmdW5jdGlvbiAocGFydGljaXBhbnRzKSB7CiAgICAvLyBHcmFiIGF0dGVuZGVlcyBiZXNpZGVzIG9yZ2FuaXplcgogICAgdmFyIGZpbHRlcmVkQXR0ZW5kZWVzID0gcGFydGljaXBhbnRzLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gIXAub3JnYW5pemVyOyB9KTsKICAgIC8vIE51bWJlciBvZiBwYXJ0aWNpcGFudHMKICAgIHZhciBjb3VudCA9IGZpbHRlcmVkQXR0ZW5kZWVzLmxlbmd0aDsKICAgIHZhciBvdGhlcnNDb3VudCA9IGNvdW50IC0gMjsKICAgIHZhciBvdGhlcnNTdHJpbmcgPSBvdGhlcnNDb3VudCA+IDEKICAgICAgICA/ICIsIGFuZCAiICsgb3RoZXJzQ291bnQgKyAiIG90aGVycyIKICAgICAgICA6ICcnOwogICAgLy8gTmFtZXMgdG8gY29udmVydCBmcm9tIGZpbHRlcmVkQXR0ZW5kZWVzCiAgICB2YXIgbmFtZXNBcnJheSA9IG90aGVyc0NvdW50ID4gMQogICAgICAgID8gZmlsdGVyZWRBdHRlbmRlZXMuc2xpY2UoMCwgMikKICAgICAgICA6IGZpbHRlcmVkQXR0ZW5kZWVzOwogICAgLy8gSW50ZXJwb2xhdGVkIHN0cmluZwogICAgdmFyIG5hbWVzID0gbmFtZXNBcnJheS5tYXAoZnVuY3Rpb24gKHBhcnRpY2lwYW50KSB7IHJldHVybiBwYXJ0aWNpcGFudC5lbWFpbDsgfSk7CiAgICByZXR1cm4gbmFtZXMuam9pbignLCAnKSArIG90aGVyc1N0cmluZzsKfTsKZXhwb3J0IHZhciBwYXJzZUF0dGVuZGVlID0gZnVuY3Rpb24gKGFkZHJlc3MpIHsKICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogYWRkcmVzcy5lbWFpbCAhPT0gYWRkcmVzcy5mdWxsTmFtZSA/IGFkZHJlc3MuZnVsbE5hbWUgOiAnJywKICAgICAgICBlbWFpbDogYWRkcmVzcy5lbWFpbCwKICAgICAgICBzdGF0dXM6IEF0dGVuZGVlU3RhdHVzLk5lZWRzQWN0aW9uLAogICAgICAgIG9wdGlvbmFsOiB0cnVlLAogICAgICAgIG9yZ2FuaXplcjogZmFsc2UsCiAgICB9Owp9OwovLyBIYW5kbGVzIGNvcHlpbmcgc2NoZWR1bGluZyB1cmwKZXhwb3J0IHZhciBoYW5kbGVTY2hlZHVsaW5nVXJsQ29weSA9IGZ1bmN0aW9uICh1cmwpIHsKICAgIGhhbmRsZVVybENvcHkodXJsKTsKICAgIC8vIFJlY29yZCBhbnkgaW5zdGFuY2Ugd2hlcmUgc2NoZWR1bGluZyB1cmwgaXMgY29waWVkCiAgICByZWNvcmRFdmVudChVc2VyRXZlbnRzLlNjaGVkdWxpbmdVcmxDb3BpZWQpOwp9OwovLyBIYW5kbGVzIGNvcHlpbmcgc2NoZWR1bGluZyB1cmwKZXhwb3J0IHZhciBoYW5kbGVVcmxDb3B5ID0gZnVuY3Rpb24gKHVybCkgewogICAgdmFyIGlkID0gJ3BtLXNjaGVkdWxpbmctdXJsLWNvcHknOwogICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5OwogICAgdmFyIHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTsKICAgIHRleHRhcmVhLnZhbHVlID0gdXJsOwogICAgdGV4dGFyZWEuaWQgPSBpZDsKICAgIHRleHRhcmVhLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246YWJzb2x1dGU7IGhlaWdodDogMXB4OyB3aWR0aDogMXB4OyB6LWluZGV4OiAtMScpOwogICAgYm9keS5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7CiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCkgewogICAgICAgIGVsZW1lbnQuZm9jdXMoKTsKICAgICAgICBlbGVtZW50LnNlbGVjdCgpOwogICAgfQogICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTsKICAgIGJvZHkucmVtb3ZlQ2hpbGQodGV4dGFyZWEpOwp9Owo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/scheduling.ts","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/lib/scheduling.ts"],"names":[],"mappings":"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","sourcesContent":["import { recordEvent, UserEvents } from '@src/lib/analytics';\nimport { ConferenceType, Scheduling, SchedulingPublic } from '@src/types/scheduling';\nimport { Address, Attendee, AttendeeStatus } from '@src/types';\n\nexport const applyDefaultSchedulingPublic = (\n  schedulingPublic: SchedulingPublic,\n): SchedulingPublic => ({\n  timeWindows: [],\n  ...schedulingPublic,\n});\n\nexport const applyDefaultScheduling = (scheduling: Scheduling): Scheduling => ({\n  blockingCalendars: [],\n  ...scheduling,\n});\n\nexport const conferenceTypeDisplay = (t: ConferenceType): string => {\n  switch (t) {\n    case ConferenceType.Google:\n      return 'Google Meet';\n    case ConferenceType.Zoom:\n      return 'Zoom';\n    default:\n      return t;\n  }\n};\n\n// Converts participants to string\nexport const attendeesToString = (participants: Attendee[]) => {\n  // Grab attendees besides organizer\n  const filteredAttendees = participants.filter(p => !p.organizer);\n\n  // Number of participants\n  const count = filteredAttendees.length;\n  const othersCount = count - 2;\n  const othersString = othersCount > 1\n    ? `, and ${othersCount} others`\n    : '';\n\n  // Names to convert from filteredAttendees\n  const namesArray = othersCount > 1\n    ? filteredAttendees.slice(0, 2)\n    : filteredAttendees;\n\n  // Interpolated string\n  const names = namesArray.map(participant => participant.email);\n  return names.join(', ') + othersString;\n};\n\nexport const parseAttendee = (address: Address): Attendee => {\n  return {\n    name: address.email !== address.fullName ? address.fullName : '',\n    email: address.email,\n    status: AttendeeStatus.NeedsAction,\n    optional: true,\n    organizer: false,\n  };\n};\n\n// Handles copying scheduling url\nexport const handleSchedulingUrlCopy = (url: string) => {\n\n  handleUrlCopy(url);\n\n  // Record any instance where scheduling url is copied\n  recordEvent(UserEvents.SchedulingUrlCopied);\n};\n\n// Handles copying scheduling url\nexport const handleUrlCopy = (url: string) => {\n  const id = 'pm-scheduling-url-copy';\n  const body = document.body;\n  const textarea = document.createElement('textarea');\n  textarea.value = url;\n  textarea.id = id;\n  textarea.setAttribute('style', 'position:absolute; height: 1px; width: 1px; z-index: -1');\n  body.appendChild(textarea);\n  const element = document.getElementById(id);\n  if (element instanceof HTMLTextAreaElement) {\n    element.focus();\n    element.select();\n  }\n  document.execCommand('copy');\n  body.removeChild(textarea);\n};\n"]}]}