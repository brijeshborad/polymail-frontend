{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/LoginPane.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/LoginPane.tsx","mtime":1675280254078},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7Ci8vIFRPRE8oU0hJTik6IEJldGEgLSBSZS1lbmFibGUgd2hlbiBhbGxvd2luZyBmb3IgZ29vZ2xlIG9hdXRoIGxvZ2luCmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IFRleHRJbnB1dCBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9UZXh0SW5wdXQnOwppbXBvcnQgJy4vTG9naW5QYW5lLnNjc3MnOwppbXBvcnQgeyBpc0VtYWlsIH0gZnJvbSAnQHNyYy9saWIvc2VhcmNoJzsKaW1wb3J0IHsgTG9naW5UeXBlIH0gZnJvbSAnQHNyYy9hcGkvYXV0aCc7CmltcG9ydCB7IGlzRWxlY3Ryb24gfSBmcm9tICdAc3JjL2xpYi9lbGVjdHJvbic7CmltcG9ydCBMb2FkZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL0xvYWRlci9Mb2FkZXInOwppbXBvcnQgeyBPQXV0aFR5cGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IEdvb2dsZSBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvR29vZ2xlLnN2Zyc7CmltcG9ydCBNaWNyb3NvZnQgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL01pY3Jvc29mdC5zdmcnOwppbXBvcnQgYnJvd3Nlckhpc3RvcnkgZnJvbSAnQHNyYy9saWIvYnJvd3Nlckhpc3RvcnknOwp2YXIgTG9naW5QYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKExvZ2luUGFuZSwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIExvZ2luUGFuZSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZUVtYWlsQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUGFzc3dvcmRDaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBhc3N3b3JkOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTdWJtaXQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHZhciBnZXRMb2dpblRva2VuID0gX3RoaXMucHJvcHMuZ2V0TG9naW5Ub2tlbjsKICAgICAgICAgICAgdmFyIHVzZU1hZ2ljTG9naW4gPSBfdGhpcy5zdGF0ZS51c2VNYWdpY0xvZ2luOwogICAgICAgICAgICAvLyBPcGVuIGxvZ2luIHBhZ2Ugd2l0aCByZWRpcmVjdCBwbGF0Zm9ybQogICAgICAgICAgICBpZiAodXNlTWFnaWNMb2dpbiAmJiB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7CiAgICAgICAgICAgICAgICBnZXRMb2dpblRva2VuKCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gRmlndXJlIG91dCBsb2dpbiB0eXBlCiAgICAgICAgICAgIHZhciB0eXBlID0gTG9naW5UeXBlLkxpbWl0ZWQ7CiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5yZW1lbWJlck1lKSB7CiAgICAgICAgICAgICAgICB0eXBlID0gTG9naW5UeXBlLkV4dGVuZGVkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc0VsZWN0cm9uKSB7CiAgICAgICAgICAgICAgICB0eXBlID0gTG9naW5UeXBlLlRydXN0ZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gRW1pdCBhY3Rpb24KICAgICAgICAgICAgX3RoaXMucHJvcHMubG9naW4oX3RoaXMuc3RhdGUuZW1haWwsIF90aGlzLnN0YXRlLnBhc3N3b3JkLCB0eXBlKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlbWVtYmVyTWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHJlbWVtYmVyTWU6IGUuY3VycmVudFRhcmdldC5jaGVja2VkIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlRm9yZ290UGFzc3dvcmQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGlmICghaXNFbWFpbChfdGhpcy5zdGF0ZS5lbWFpbCkpIHsKICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnNldFRvYXN0KG5ldyBFcnJvcignUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcycpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5wcm9wcy5yZXNldFBhc3N3b3JkKF90aGlzLnN0YXRlLmVtYWlsKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUdvb2dsZUxvZ2luID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5wcm9wcy5sb2dpbk9BdXRoKE9BdXRoVHlwZS5Hb29nbGUpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTWljcm9zb2Z0TG9naW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnByb3BzLmxvZ2luT0F1dGgoT0F1dGhUeXBlLk1pY3Jvc29mdCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVNYWdpY0xvZ2luVG9nZ2xlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICB1c2VNYWdpY0xvZ2luOiAhX3RoaXMuc3RhdGUudXNlTWFnaWNMb2dpbiwKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5yZW5kZXJXZWJMb2dpbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGxvYWRpbmcgPSBfdGhpcy5wcm9wcy5sb2FkaW5nOwogICAgICAgICAgICB2YXIgbG9naW5CdXR0b25Db3B5ID0gaXNFbGVjdHJvbiA/ICdTaWduIGluIHdpdGggUG9seW1haWwnIDogJ0xvZ2luJzsKICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImxvZ2luLXBhbmUiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImxvZ2luLXByb21wdCIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRpdGxlIiB9LCAiTG9naW4iKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCAiV2VsY29tZSBiYWNrIHRvIFBvbHltYWlsISIpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAib2F1dGgiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJnb29nbGUiLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVHb29nbGVMb2dpbiwgdHlwZTogImJ1dHRvbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpY29uIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChHb29nbGUsIHsgd2lkdGg6ICIxOHB4IiwgaGVpZ2h0OiAiMThweCIgfSkpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRleHQiIH0sICJTaWduIGluIHdpdGggR29vZ2xlIikpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAibWljcm9zb2Z0Iiwgb25DbGljazogX3RoaXMuaGFuZGxlTWljcm9zb2Z0TG9naW4sIHR5cGU6ICJidXR0b24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaWNvbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWljcm9zb2Z0LCB7IHdpZHRoOiAiMThweCIsIGhlaWdodDogIjE4cHgiIH0pKSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0IiB9LCAiU2lnbiBpbiB3aXRoIE1pY3Jvc29mdCIpKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNlcGFyYXRvci1jb250YWluZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXBhcmF0b3IiIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGV4dCIgfSwgIm9yIiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXBhcmF0b3IiIH0pKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImZvcm0iLCB7IG9uU3VibWl0OiBfdGhpcy5oYW5kbGVTdWJtaXQgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwgeyBkZXNjcmlwdGlvbjogIkVtYWlsIEFkZHJlc3MiLCBwbGFjZWhvbGRlcjogIkVtYWlsIiwgdmFsdWU6IF90aGlzLnN0YXRlLmVtYWlsLCBvbkNoYW5nZTogX3RoaXMuaGFuZGxlRW1haWxDaGFuZ2UsIHR5cGU6ICJlbWFpbCIsIGF1dG9mb2N1czogdHJ1ZSwgYXV0b0NvbXBsZXRlOiAiZW1haWwiIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dElucHV0LCB7IGRlc2NyaXB0aW9uOiAiUGFzc3dvcmQiLCBwbGFjZWhvbGRlcjogIlBhc3N3b3JkIiwgdmFsdWU6IF90aGlzLnN0YXRlLnBhc3N3b3JkLCBvbkNoYW5nZTogX3RoaXMuaGFuZGxlUGFzc3dvcmRDaGFuZ2UsIHR5cGU6ICJwYXNzd29yZCIsIGF1dG9Db21wbGV0ZTogImN1cnJlbnQtcGFzc3dvcmQiIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAib3B0aW9ucyIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgIWlzRWxlY3Ryb24gJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicmVtZW1iZXItbWUiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJsYWJlbCIsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7IGRpcjogImF1dG8iLCBoZWlnaHQ6ICIxMnB4Iiwgd2lkdGg6ICIxMnB4IiwgdHlwZTogImNoZWNrYm94IiwgbmFtZTogInJlbWVtYmVyIiwgY2hlY2tlZDogX3RoaXMuc3RhdGUucmVtZW1iZXJNZSwgb25DaGFuZ2U6IF90aGlzLmhhbmRsZVJlbWVtYmVyTWVDaGFuZ2UgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlJlbWVtYmVyIG1lIikpKSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmb3Jnb3QtcGFzc3dvcmQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IHR5cGU6ICJidXR0b24iLCB0YWJJbmRleDogLTEsIG9uQ2xpY2s6IF90aGlzLmhhbmRsZUZvcmdvdFBhc3N3b3JkIH0sICJGb3Jnb3QgUGFzc3dvcmQiKSkpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgdHlwZTogInN1Ym1pdCIsIGNsYXNzTmFtZTogImxvZ2luLWJ1dHRvbiIsIGRpc2FibGVkOiBsb2FkaW5nIH0sIGxvYWRpbmcgPyBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRlciwgbnVsbCkgOiBsb2dpbkJ1dHRvbkNvcHkpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2lnbi11cC1sYWJlbCIgfSwKICAgICAgICAgICAgICAgICAgICAiRG9uJ3QgaGF2ZSBhIFBvbHltYWlsIGFjY291bnQ/IiwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHsgdG86ICIvbG9naW4vc2lnbnVwIiB9LCAiIFNpZ24gVXAiKSkpKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnJlbmRlck5hdGl2ZUxvZ2luID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbG9hZGluZyA9IF90aGlzLnByb3BzLmxvYWRpbmc7CiAgICAgICAgICAgIHZhciB1c2VNYWdpY0xvZ2luID0gX3RoaXMuc3RhdGUudXNlTWFnaWNMb2dpbjsKICAgICAgICAgICAgdmFyIGxvZ2luQnV0dG9uQ29weSA9IHVzZU1hZ2ljTG9naW4gPyAnU2lnbiBpbiB0byBQb2x5bWFpbCcgOiAnTG9naW4nOwogICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibG9naW4tcGFuZS1uYXRpdmUiLCBrZXk6ICJuYXRpdmUiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImxvZ2luLXByb21wdCIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRpdGxlIiB9LCAiTG9naW4iKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCAiV2VsY29tZSBiYWNrIHRvIFBvbHltYWlsISIpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImZvcm0iLCB7IG9uU3VibWl0OiBfdGhpcy5oYW5kbGVTdWJtaXQgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IHR5cGU6ICJzdWJtaXQiLCBjbGFzc05hbWU6ICJsb2dpbi1idXR0b24iLCBkaXNhYmxlZDogbG9hZGluZyB9LCBsb2FkaW5nID8gUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkZXIsIG51bGwpIDogbG9naW5CdXR0b25Db3B5KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNpZ24tdXAtbGFiZWwiIH0sCiAgICAgICAgICAgICAgICAgICAgIkRvbid0IGhhdmUgYSBQb2x5bWFpbCBhY2NvdW50PyIsCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7IHRvOiAiL2xvZ2luL3NpZ251cCIgfSwgIiBTaWduIFVwIikpKSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgbG9jYXRpb24gPSBicm93c2VySGlzdG9yeS5sb2NhdGlvbjsKICAgICAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoOwogICAgICAgIHZhciBzZWFyY2hQYXJhbXMgPSBzZWFyY2ggJiYgbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpOwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICAgICAgcmVtZW1iZXJNZTogdHJ1ZSwKICAgICAgICAgICAgdXNlTWFnaWNMb2dpbjogIShzZWFyY2hQYXJhbXMgJiYgISFzZWFyY2hQYXJhbXMuZ2V0KCdmYWxsYmFjaycpKSAmJiBpc0VsZWN0cm9uLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgTG9naW5QYW5lLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHVzZU1hZ2ljTG9naW4gPSB0aGlzLnN0YXRlLnVzZU1hZ2ljTG9naW47CiAgICAgICAgaWYgKHVzZU1hZ2ljTG9naW4pIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyTmF0aXZlTG9naW4oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyV2ViTG9naW4oKTsKICAgIH07CiAgICByZXR1cm4gTG9naW5QYW5lOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgTG9naW5QYW5lOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/LoginPane.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Login/components/LoginPane.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\n// TODO(SHIN): Beta - Re-enable when allowing for google oauth login\nimport { Link } from 'react-router-dom';\nimport TextInput from '@src/components/Form/TextInput';\n\nimport './LoginPane.scss';\nimport { isEmail } from '@src/lib/search';\nimport { LoginType } from '@src/api/auth';\nimport { isElectron } from '@src/lib/electron';\nimport Loader from '@src/components/Loader/Loader';\nimport { OAuthType } from '@src/types';\nimport Google from '@src/components/Icons/Google.svg';\nimport Microsoft from '@src/components/Icons/Microsoft.svg';\nimport browserHistory from '@src/lib/browserHistory';\n\nexport interface Props {\n  loading: boolean;\n}\n\nexport interface DispatchProps {\n  login: (email: string, password: string, type: LoginType) => void;\n  resetPassword: (email: string) => void;\n  setToast: (error: Error) => void;\n  loginOAuth: (type: OAuthType) => void;\n  getLoginToken: () => void;\n}\n\ninterface State {\n  email: string;\n  password: string;\n  rememberMe: boolean;\n  useMagicLogin?: boolean;\n}\n\nclass LoginPane extends React.PureComponent<Props & DispatchProps, State> {\n  constructor() {\n    super();\n\n    const location = browserHistory.location;\n    const search = location.search;\n    const searchParams = search && new URLSearchParams(search);\n\n    this.state = {\n      email: '',\n      password: '',\n      rememberMe: true,\n      useMagicLogin: !(searchParams && !!searchParams.get('fallback')) && isElectron,\n    };\n  }\n\n  handleEmailChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ email: e.currentTarget.value });\n  }\n\n  handlePasswordChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ password: e.currentTarget.value });\n  }\n\n  handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const { getLoginToken } = this.props;\n    const { useMagicLogin } = this.state;\n\n    // Open login page with redirect platform\n    if (useMagicLogin && window.location.origin) {\n      getLoginToken();\n      return;\n    }\n\n    // Figure out login type\n    let type: LoginType = LoginType.Limited;\n\n    if (this.state.rememberMe) {\n      type = LoginType.Extended;\n    }\n\n    if (isElectron) {\n      type = LoginType.Trusted;\n    }\n\n    // Emit action\n    this.props.login(this.state.email, this.state.password, type);\n  }\n\n  handleRememberMeChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ rememberMe: e.currentTarget.checked });\n  }\n\n  handleForgotPassword = (e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isEmail(this.state.email)) {\n      this.props.setToast(new Error('Please enter a valid email address'));\n      return;\n    }\n\n    this.props.resetPassword(this.state.email);\n  }\n\n  handleGoogleLogin = () => {\n    this.props.loginOAuth(OAuthType.Google);\n  }\n\n  handleMicrosoftLogin = () => {\n    this.props.loginOAuth(OAuthType.Microsoft);\n  }\n\n  handleMagicLoginToggle = () => {\n    this.setState({\n      useMagicLogin: !this.state.useMagicLogin,\n    });\n  }\n\n  renderWebLogin = () => {\n    const { loading } = this.props;\n    const loginButtonCopy = isElectron ? 'Sign in with Polymail' : 'Login';\n\n    return (\n      <div className=\"login-pane\">\n        <div className=\"login-prompt\">\n          <div className=\"title\">\n            Login\n          </div>\n          <div className=\"description\">\n            Welcome back to Polymail!\n          </div>\n        </div>\n        <div className=\"oauth\">\n          <button\n            className=\"google\"\n            onClick={this.handleGoogleLogin}\n            type=\"button\"\n          >\n            <div className=\"icon\">\n              <Google width=\"18px\" height=\"18px\" />\n            </div>\n            <div className=\"text\">\n              Sign in with Google\n            </div>\n          </button>\n          <button\n            className=\"microsoft\"\n            onClick={this.handleMicrosoftLogin}\n            type=\"button\"\n          >\n            <div className=\"icon\">\n              <Microsoft width=\"18px\" height=\"18px\" />\n            </div>\n            <div className=\"text\">\n              Sign in with Microsoft\n            </div>\n          </button>\n        </div>\n        <div className=\"separator-container\">\n          <div className=\"separator\" />\n          <div className=\"text\">or</div>\n          <div className=\"separator\" />\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <TextInput\n            description=\"Email Address\"\n            placeholder=\"Email\"\n            value={this.state.email}\n            onChange={this.handleEmailChange}\n            type=\"email\"\n            autofocus={true}\n            autoComplete=\"email\"\n          />\n          <TextInput\n            description=\"Password\"\n            placeholder=\"Password\"\n            value={this.state.password}\n            onChange={this.handlePasswordChange}\n            type=\"password\"\n            autoComplete=\"current-password\"\n          />\n          <div className=\"options\">\n            {!isElectron && (\n              <div className=\"remember-me\">\n                <label>\n                  <input\n                    dir=\"auto\"\n                    height=\"12px\"\n                    width=\"12px\"\n                    type=\"checkbox\"\n                    name=\"remember\"\n                    checked={this.state.rememberMe}\n                    onChange={this.handleRememberMeChange}\n                  />\n                  Remember me\n                </label>\n              </div>\n            )}\n            <div className=\"forgot-password\">\n              <button\n                type=\"button\"\n                tabIndex={-1}\n                onClick={this.handleForgotPassword}\n              >\n                Forgot Password\n              </button>\n            </div>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"login-button\"\n            disabled={loading}\n          >\n            {loading ? <Loader /> : loginButtonCopy}\n          </button>\n        </form>\n        <div className=\"sign-up-label\">\n          Don't have a Polymail account?\n          <Link to=\"/login/signup\"> Sign Up</Link>\n        </div>\n      </div>\n    );\n  }\n\n  renderNativeLogin = () => {\n    const { loading } = this.props;\n    const { useMagicLogin } = this.state;\n    const loginButtonCopy = useMagicLogin ? 'Sign in to Polymail' : 'Login';\n\n    return (\n      <div\n        className=\"login-pane-native\"\n        key=\"native\"\n      >\n        <div className=\"login-prompt\">\n          <div className=\"title\">\n            Login\n          </div>\n          <div className=\"description\">\n            Welcome back to Polymail!\n          </div>\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <button\n            type=\"submit\"\n            className=\"login-button\"\n            disabled={loading}\n          >\n            {loading ? <Loader /> : loginButtonCopy}\n          </button>\n          {/* <button\n            type=\"button\"\n            className=\"toggle-login-button\"\n            onClick={this.handleMagicLoginToggle}\n            disabled={loading}\n          >\n            Sign in Manually\n          </button> */}\n        </form>\n        <div className=\"sign-up-label\">\n          Don't have a Polymail account?\n          <Link to=\"/login/signup\"> Sign Up</Link>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { useMagicLogin } = this.state;\n    if (useMagicLogin) {\n      return this.renderNativeLogin();\n    }\n\n    return this.renderWebLogin();\n  }\n}\n\nexport default LoginPane;\n"]}]}