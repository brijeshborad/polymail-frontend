{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/NewAsanaTask/NewAsanaTask.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/NewAsanaTask/NewAsanaTask.tsx","mtime":1675280254042},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgQXNhbmEgZnJvbSAnQHNyYy9hc3NldHMvQXNhbmEucG5nJzsKaW1wb3J0IHsgUmVzb3VyY2VTdGF0dXMsIEtleUNvZGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0ICcuL05ld0FzYW5hVGFzay5zY3NzJzsKaW1wb3J0IFRleHRJbnB1dCBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9UZXh0SW5wdXQnOwppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvRm9ybS9EYXRlUGlja2VyJzsKaW1wb3J0IERpc2Nsb3N1cmUgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0Rpc2Nsb3N1cmUuc3ZnJzsKaW1wb3J0IFNlYXJjaERyb3Bkb3duIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Gb3JtL1NlYXJjaERyb3Bkb3duL1NlYXJjaERyb3Bkb3duJzsKaW1wb3J0IEdyZWVuQ2hlY2sgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0dyZWVuQ2hlY2suc3ZnJzsKaW1wb3J0IHsgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IERlZmF1bHRBdmF0YXIgZnJvbSAnQHNyYy9hc3NldHMvZGVmYXVsdEF2YXRhci5wbmcnOwppbXBvcnQgeyBpc1ByaW1hcnlNb2RpZmllcktleSB9IGZyb20gJ0BzcmMvbGliL2hvdGtleXMnOwppbXBvcnQgeyBBbXBsaXR1ZGVFdmVudHMsIGxvZ0FtcGxpdHVkZUV2ZW50IH0gZnJvbSAnQHNyYy9saWIvYW1wbGl0dWRlLWFuYWx5dGljcyc7CnZhciBOZXdBc2FuYVRhc2sgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoTmV3QXNhbmFUYXNrLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gTmV3QXNhbmFUYXNrKHByb3BzKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlQWRkQXNhbmFJbnRlZ3JhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIGxvZ2luQXNhbmEgPSBfYS5sb2dpbkFzYW5hLCB0ZWFtID0gX2EudGVhbTsKICAgICAgICAgICAgaWYgKHRlYW0pIHsKICAgICAgICAgICAgICAgIGxvZ2luQXNhbmEodGVhbS5pZCk7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUV4cGFuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucHJvcHMub25FeHBhbmQoJ2FzYW5hJyk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVOYW1lQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBuYW1lOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTaG93RGF0ZVBpY2tlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93RGF0ZVBpY2tlcjogdHJ1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUhpZGVEYXRlUGlja2VyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dEYXRlUGlja2VyOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZURhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGR1ZURhdGU6IGRhdGUsIHNob3dEYXRlUGlja2VyOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVByb2plY3RTZWxlY3QgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHByb2plY3Q6IGl0ZW0uZGF0YSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVVzZXJTZWxlY3QgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGFzc2lnbmVlOiBpdGVtLmRhdGEgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVEZXNjcmlwdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZGVzY3JpcHRpb246IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNyZWF0ZVRhc2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBzaGFyZWRUaHJlYWQgPSBfYS5zaGFyZWRUaHJlYWQsIHNldFRvYXN0ID0gX2Euc2V0VG9hc3QsIGNyZWF0ZVRhc2sgPSBfYS5jcmVhdGVUYXNrOwogICAgICAgICAgICB2YXIgX2IgPSBfdGhpcy5zdGF0ZSwgbmFtZSA9IF9iLm5hbWUsIGR1ZURhdGUgPSBfYi5kdWVEYXRlLCBwcm9qZWN0ID0gX2IucHJvamVjdCwgYXNzaWduZWUgPSBfYi5hc3NpZ25lZSwgZGVzY3JpcHRpb24gPSBfYi5kZXNjcmlwdGlvbjsKICAgICAgICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgICAgICAgICBzZXRUb2FzdChuZXcgRXJyb3IoJ1Rhc2sgbmFtZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYXNhbmEgdGFzay4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3JlYXRlVGFzayh7CiAgICAgICAgICAgICAgICBzaGFyZWRUaHJlYWQ6IHNoYXJlZFRocmVhZC5pZCwKICAgICAgICAgICAgICAgIHRhc2s6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICAgIG5vdGVzOiBkZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0czogcHJvamVjdCAmJiBbcHJvamVjdC5pZF0sCiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWU6IGFzc2lnbmVlICYmIGFzc2lnbmVlLmlkLAogICAgICAgICAgICAgICAgICAgIGR1ZU9uOiBkdWVEYXRlICYmIGR1ZURhdGUuZm9ybWF0KCdZWVlZLU1NLUREJyksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbG9nQW1wbGl0dWRlRXZlbnQoQW1wbGl0dWRlRXZlbnRzLkNyZWF0ZUFzYW5hVGFzayk7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgY3JlYXRlZDogdHJ1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZURhdGVQaWNrZXJLZXlEb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHNob3dEYXRlUGlja2VyID0gX3RoaXMuc3RhdGUuc2hvd0RhdGVQaWNrZXI7CiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7CiAgICAgICAgICAgICAgICBjYXNlIEtleUNvZGUuVGFiOgogICAgICAgICAgICAgICAgICAgIGlmIChzaG93RGF0ZVBpY2tlciAmJiAhZS5zaGlmdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUhpZGVEYXRlUGlja2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRleHRhcmVhLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5ICYmIHNob3dEYXRlUGlja2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUhpZGVEYXRlUGlja2VyKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlVGV4dEFyZWFSZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLnRleHRhcmVhID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlSG90S2V5cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7CiAgICAgICAgICAgICAgICBjYXNlIEtleUNvZGUuRW50ZXI6CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJpbWFyeU1vZGlmaWVyS2V5KGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUNyZWF0ZVRhc2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVCdXR0b25SZWYgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIF90aGlzLmJ1dHRvbiA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLnJlbmRlclByZXZpZXcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBzZWxlY3RlZCA9IF9hLnNlbGVjdGVkLCBvbk1vdXNlRW50ZXIgPSBfYS5vbk1vdXNlRW50ZXI7CiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ25ldy1hc2FuYS10YXNrJywgeyBzZWxlY3RlZDogc2VsZWN0ZWQgfSksIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IG9uQ2xpY2s6IF90aGlzLmhhbmRsZUV4cGFuZCwgcmVmOiBfdGhpcy5oYW5kbGVCdXR0b25SZWYgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogQXNhbmEsIGNsYXNzTmFtZTogImljb24iIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiTmV3IEFzYW5hIFRhc2siKSkpKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnJlbmRlckNyZWF0ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gX3RoaXMuc3RhdGUubmFtZTsKICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm5ldy1hc2FuYS10YXNrIGV4cGFuZGVkIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogQXNhbmEsIGNsYXNzTmFtZTogImljb24iIH0pLAogICAgICAgICAgICAgICAgICAgICJOZXcgQXNhbmEgVGFzayIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJtYWluIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29uZmlybWF0aW9uIiB9LAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEdyZWVuQ2hlY2ssIHsgd2lkdGg6ICIzMHB4IiwgaGVpZ2h0OiAiMzBweCIgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiY3JlYXRlZCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiVGFzayIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsgY2xhc3NOYW1lOiAiYm9sZCIgfSwgbmFtZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgImNyZWF0ZWQgaW4gQXNhbmEhIikpKSkpKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0RhdGVQaWNrZXI6IGZhbHNlLAogICAgICAgICAgICBjcmVhdGVkOiBmYWxzZSwKICAgICAgICAgICAgbmFtZTogcHJvcHMuc2hhcmVkVGhyZWFkLnN1YmplY3QsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9wcy5zaGFyZWRUaHJlYWQuc25pcHBldCArICIgIiArIHByb3BzLnNoYXJlVXJsLAogICAgICAgICAgICBhc3NpZ25lZTogcHJvcHMuYXNhbmFVc2VyLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgTmV3QXNhbmFUYXNrLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBhc2FuYUVuYWJsZWQgPSBfYS5hc2FuYUVuYWJsZWQsIGxpc3RVc2VycyA9IF9hLmxpc3RVc2VyczsKICAgICAgICBpZiAoYXNhbmFFbmFibGVkKSB7CiAgICAgICAgICAgIGxpc3RVc2VycygnJyk7CiAgICAgICAgfQogICAgfTsKICAgIE5ld0FzYW5hVGFzay5wcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7CiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmFzYW5hRW5hYmxlZCAmJiBuZXh0UHJvcHMuYXNhbmFFbmFibGVkKSB7CiAgICAgICAgICAgIG5leHRQcm9wcy5saXN0VXNlcnMoJycpOwogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0ZWQgIT09IG5leHRQcm9wcy5zZWxlY3RlZCAmJiBuZXh0UHJvcHMuc2VsZWN0ZWQpIHsKICAgICAgICAgICAgdGhpcy5idXR0b24uZm9jdXMoKTsKICAgICAgICB9CiAgICB9OwogICAgTmV3QXNhbmFUYXNrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgYXNhbmFTdGF0ZSA9IF9hLmFzYW5hU3RhdGUsIHNob3dGdWxsVmlldyA9IF9hLnNob3dGdWxsVmlldywgbGlzdFByb2plY3RzID0gX2EubGlzdFByb2plY3RzLCBsaXN0VXNlcnMgPSBfYS5saXN0VXNlcnM7CiAgICAgICAgdmFyIF9iID0gdGhpcy5zdGF0ZSwgbmFtZSA9IF9iLm5hbWUsIHByb2plY3QgPSBfYi5wcm9qZWN0LCBkZXNjcmlwdGlvbiA9IF9iLmRlc2NyaXB0aW9uLCBjcmVhdGVkID0gX2IuY3JlYXRlZCwgYXNzaWduZWUgPSBfYi5hc3NpZ25lZTsKICAgICAgICBpZiAoIXNob3dGdWxsVmlldykgewogICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJQcmV2aWV3KCk7CiAgICAgICAgfQogICAgICAgIGlmIChjcmVhdGVkKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckNyZWF0ZWQoKTsKICAgICAgICB9CiAgICAgICAgdmFyIHByb2plY3RzID0gYXNhbmFTdGF0ZS5wcm9qZWN0cy5kYXRhCiAgICAgICAgICAgID8gYXNhbmFTdGF0ZS5wcm9qZWN0cy5kYXRhLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gKHsgaWQ6IHAuaWQsIGRpc3BsYXlOYW1lOiBwLm5hbWUsIGRhdGE6IHAgfSk7IH0pIDogW107CiAgICAgICAgdmFyIHVzZXJzID0gYXNhbmFTdGF0ZS51c2Vycy5kYXRhID8KICAgICAgICAgICAgdmFsdWVzKGFzYW5hU3RhdGUudXNlcnMuZGF0YSkubWFwKGZ1bmN0aW9uICh1KSB7IHJldHVybiAoewogICAgICAgICAgICAgICAgaWQ6IHUuaWQsCiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogdS5uYW1lLAogICAgICAgICAgICAgICAgcGhvdG9Vcmw6IHUucGhvdG9VcmwgfHwgRGVmYXVsdEF2YXRhciwKICAgICAgICAgICAgICAgIGRhdGE6IHUsCiAgICAgICAgICAgIH0pOyB9KSA6IFtdOwogICAgICAgIHZhciBzZWxlY3RlZFByb2plY3RJbmRleCA9IHByb2plY3QgJiYgcHJvamVjdHMuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLmlkID09PSBwcm9qZWN0LmlkOyB9KTsKICAgICAgICB2YXIgc2VsZWN0ZWRVc2VySW5kZXggPSBhc3NpZ25lZSAmJiB1c2Vycy5maW5kSW5kZXgoZnVuY3Rpb24gKHUpIHsgcmV0dXJuIHUuaWQgPT09IGFzc2lnbmVlLmlkOyB9KTsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibmV3LWFzYW5hLXRhc2sgZXhwYW5kZWQiLCBvbktleURvd246IHRoaXMuaGFuZGxlSG90S2V5cywgdGFiSW5kZXg6IC0xIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidGl0bGUiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogQXNhbmEsIGNsYXNzTmFtZTogImljb24iIH0pLAogICAgICAgICAgICAgICAgIk5ldyBBc2FuYSBUYXNrIiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibWFpbiIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dElucHV0LCB7IGRlc2NyaXB0aW9uOiAiVGFzayBOYW1lIiwgcGxhY2Vob2xkZXI6ICJlbnRlciB0YXNrIG5hbWUiLCB2YWx1ZTogbmFtZSwgdHlwZTogInRleHQiLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVOYW1lQ2hhbmdlLCBhdXRvZm9jdXM6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRyb3Bkb3duLWlucHV0IiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJBc3NpZ25lZSIsCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogImdyYXkiIH0sICIob3B0aW9uYWwpIikpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VhcmNoRHJvcGRvd24sIHsgcGxhY2Vob2xkZXI6ICJzZWFyY2ggZm9yIGEgdXNlciIsIGl0ZW1zOiB1c2Vycywgb25TZWxlY3Q6IHRoaXMuaGFuZGxlVXNlclNlbGVjdCwgb25TZWFyY2g6IGxpc3RVc2VycywgbG9hZGluZzogYXNhbmFTdGF0ZS51c2Vycy5zdGF0dXMgPT09IFJlc291cmNlU3RhdHVzLkxvYWRpbmcsIGRlYm91bmNlOiB0cnVlLCBzaG93RGlzY2xvc3VyZTogdHJ1ZSwgc2hvd1BvcG92ZXJPbkVtcHR5UXVlcnk6IHRydWUsIHNlbGVjdGVkSXRlbUluZGV4OiBzZWxlY3RlZFVzZXJJbmRleCB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRyb3Bkb3duLWlucHV0IiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJQcm9qZWN0IiwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsgY2xhc3NOYW1lOiAiZ3JheSIgfSwgIihvcHRpb25hbCkiKSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTZWFyY2hEcm9wZG93biwgeyBwbGFjZWhvbGRlcjogInNlYXJjaCBmb3IgYSBwcm9qZWN0IiwgaXRlbXM6IHByb2plY3RzLCBvblNlbGVjdDogdGhpcy5oYW5kbGVQcm9qZWN0U2VsZWN0LCBvblNlYXJjaDogbGlzdFByb2plY3RzLCBsb2FkaW5nOiBhc2FuYVN0YXRlLnByb2plY3RzLnN0YXR1cyA9PT0gUmVzb3VyY2VTdGF0dXMuTG9hZGluZywgc2VsZWN0ZWRJdGVtSW5kZXg6IHNlbGVjdGVkUHJvamVjdEluZGV4LCBkZWJvdW5jZTogdHJ1ZSB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRhdGUiLCBvbktleURvd246IHRoaXMuaGFuZGxlRGF0ZVBpY2tlcktleURvd24gfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRleHQtaW5wdXQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRHVlIERhdGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsgY2xhc3NOYW1lOiAiZ3JheSIgfSwgIihvcHRpb25hbCkiKSksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiaW5wdXQtY29udGFpbmVyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7IGRpcjogImF1dG8iLCBjbGFzc05hbWU6ICJpbnB1dCIsIHBsYWNlaG9sZGVyOiAibm8gZGF0ZSBzZWxlY3RlZCIsIHZhbHVlOiB0aGlzLnN0YXRlLmR1ZURhdGUgPyB0aGlzLnN0YXRlLmR1ZURhdGUuZm9ybWF0KCdkZGQsIE1NTSBELCBZWVlZJykgOiAnJywgb25Gb2N1czogdGhpcy5oYW5kbGVTaG93RGF0ZVBpY2tlciwgdHlwZTogInRleHQiLCBuYW1lOiAiZHVlRGF0ZSIsIHJlYWRPbmx5OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaXNjbG9zdXJlLCB7IGNsYXNzTmFtZTogImRpc2Nsb3N1cmUiIH0pKSksCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zaG93RGF0ZVBpY2tlciAmJgogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRhdGUtcGlja2VyLXBvcG92ZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERhdGVQaWNrZXIsIHsgdmFsdWU6IHRoaXMuc3RhdGUuZHVlRGF0ZSwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRGF0ZUNoYW5nZSwgb25TZWxlY3Q6IHRoaXMuaGFuZGxlRGF0ZUNoYW5nZSwgb25DbGlja091dHNpZGU6IHRoaXMuaGFuZGxlSGlkZURhdGVQaWNrZXIsIGRpc2FibGVQYXN0OiB0cnVlIH0pKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2MiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0YXJlYS1pbnB1dCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJkZXNjcmlwdGlvbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJEZXNjcmlwdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJncmF5IiB9LCAiKG9wdGlvbmFsKSIpKSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiLCB7IGNsYXNzTmFtZTogImlucHV0IiwgdmFsdWU6IGRlc2NyaXB0aW9uLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVEZXNjcmlwdGlvbkNoYW5nZSwgcmVmOiB0aGlzLmhhbmRsZVRleHRBcmVhUmVmIH0pKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImNyZWF0ZSIsIGRpc2FibGVkOiAhbmFtZSwgb25DbGljazogdGhpcy5oYW5kbGVDcmVhdGVUYXNrIH0sICJDcmVhdGUgVGFzayIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpbnN0cnVjdGlvbnMiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsgY2xhc3NOYW1lOiAiYm9sZCIgfSwgIkNvbW1hbmQgXHUyMzE4ICsgUmV0dXJuIFx1MkI5MCIpLAogICAgICAgICAgICAgICAgICAgICIgdG8gY3JlYXRlIHRhc2siKSkpKTsKICAgIH07CiAgICByZXR1cm4gTmV3QXNhbmFUYXNrOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgTmV3QXNhbmFUYXNrOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/NewAsanaTask/NewAsanaTask.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ShareThreadPopover/components/NewAsanaTask/NewAsanaTask.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport moment from 'moment';\nimport Asana from '@src/assets/Asana.png';\nimport { Team, ResourceStatus, KeyCode } from '@src/types';\nimport { AsanaState, AsanaUser, AsanaProject } from '@src/types/asana';\n\nimport './NewAsanaTask.scss';\nimport TextInput from '@src/components/Form/TextInput';\nimport DatePicker from '@src/components/Form/DatePicker';\nimport Disclosure from '@src/components/Icons/Disclosure.svg';\nimport SearchDropdown, {\n  SearchDropdownItem,\n} from '@src/components/Form/SearchDropdown/SearchDropdown';\nimport { SharedThreadAsanaTaskCreateMeta } from '@src/ducks/sharedThreads';\nimport GreenCheck from '@src/components/Icons/GreenCheck.svg';\nimport { values } from 'lodash';\nimport DefaultAvatar from '@src/assets/defaultAvatar.png';\nimport { isPrimaryModifierKey } from '@src/lib/hotkeys';\nimport { SharedThread } from '@src/types/sharedThreads';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\n\nexport interface StateProps {\n  asanaEnabled: boolean;\n  team?: Team;\n  asanaState: AsanaState;\n  asanaUser?: AsanaUser;\n}\n\nexport interface DispatchProps {\n  loginAsana: (team: string) => void;\n  listUsers: (query: string) => void;\n  listProjects: (query: string) => void;\n  createTask: (task: SharedThreadAsanaTaskCreateMeta) => void;\n  setToast: (err: Error) => void;\n}\n\nexport interface Props {\n  shareUrl: string;\n  showFullView: boolean;\n  onExpand: (view: string) => void;\n  sharedThread: SharedThread;\n  selected: boolean;\n  onMouseEnter: (e: React.MouseEvent<HTMLElement>) => void;\n}\n\ninterface State {\n  loading: boolean;\n  name: string;\n  showDatePicker: boolean;\n  dueDate?: moment.Moment;\n  project?: AsanaProject;\n  assignee?: AsanaUser;\n  description: string;\n  created: boolean;\n}\n\nclass NewAsanaTask extends React.PureComponent<StateProps & DispatchProps & Props, State> {\n  textarea: HTMLTextAreaElement;\n  button: HTMLButtonElement;\n\n  constructor(props: StateProps & DispatchProps & Props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      showDatePicker: false,\n      created: false,\n      name: props.sharedThread.subject,\n      description: `${props.sharedThread.snippet} ${props.shareUrl}`,\n      assignee: props.asanaUser,\n    };\n  }\n\n  componentDidMount() {\n    const { asanaEnabled, listUsers } = this.props;\n\n    if (asanaEnabled) {\n      listUsers('');\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props & StateProps & DispatchProps) {\n    if (!this.props.asanaEnabled && nextProps.asanaEnabled) {\n      nextProps.listUsers('');\n      this.setState({\n        loading: false,\n      });\n    }\n\n    if (this.props.selected !== nextProps.selected && nextProps.selected) {\n      this.button.focus();\n    }\n  }\n\n  handleAddAsanaIntegration = () => {\n    const { loginAsana, team } = this.props;\n\n    if (team) {\n      loginAsana(team.id);\n      this.setState({ loading: true });\n    }\n  }\n\n  handleExpand = () => {\n    this.props.onExpand('asana');\n  }\n\n  handleNameChange = (e: React.FormEvent<HTMLInputElement>) => {\n    this.setState({ name: e.currentTarget.value });\n  }\n\n  handleShowDatePicker = () => {\n    this.setState({ showDatePicker: true });\n  }\n\n  handleHideDatePicker = () => {\n    this.setState({ showDatePicker: false });\n  }\n\n  handleDateChange = (date: moment.Moment) => {\n    this.setState({ dueDate: date, showDatePicker: false });\n  }\n\n  handleProjectSelect = (item: SearchDropdownItem) => {\n    this.setState({ project: item.data });\n  }\n\n  handleUserSelect = (item: SearchDropdownItem) => {\n    this.setState({ assignee: item.data });\n  }\n\n  handleDescriptionChange = (e: React.FormEvent<HTMLTextAreaElement>) => {\n    this.setState({ description: e.currentTarget.value });\n  }\n\n  handleCreateTask = () => {\n    const { sharedThread, setToast, createTask } = this.props;\n    const {\n      name,\n      dueDate,\n      project,\n      assignee,\n      description,\n    } = this.state;\n\n    if (!name) {\n      setToast(new Error('Task name is required to create asana task.'));\n      return;\n    }\n\n    createTask({\n      sharedThread: sharedThread.id,\n      task: {\n        name,\n        notes: description,\n        projects: project && [project.id],\n        assignee: assignee && assignee.id,\n        dueOn: dueDate && dueDate.format('YYYY-MM-DD'),\n      },\n    });\n    logAmplitudeEvent(AmplitudeEvents.CreateAsanaTask);\n    this.setState({ created: true });\n  }\n\n  handleDatePickerKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n    const { showDatePicker } = this.state;\n\n    switch (e.keyCode) {\n      case KeyCode.Tab:\n        if (showDatePicker && !e.shiftKey) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          this.handleHideDatePicker();\n          this.textarea.focus();\n        }\n\n        if (e.shiftKey && showDatePicker) {\n          this.handleHideDatePicker();\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  handleTextAreaRef = (ref: HTMLTextAreaElement) => {\n    this.textarea = ref;\n  }\n\n  handleHotKeys = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    switch (e.keyCode) {\n      case KeyCode.Enter:\n        if (isPrimaryModifierKey(e)) {\n          this.handleCreateTask();\n          e.stopPropagation();\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  handleButtonRef = (ref: HTMLButtonElement) => {\n    this.button = ref;\n  }\n\n  renderPreview = () => {\n    const { selected, onMouseEnter } = this.props;\n\n    return (\n      <div className={classnames('new-asana-task', { selected })} onMouseEnter={onMouseEnter}>\n        <button onClick={this.handleExpand} ref={this.handleButtonRef}>\n          <img src={Asana} className=\"icon\" />\n          <span>New Asana Task</span>\n        </button>\n      </div>\n    );\n  }\n\n  renderCreated = () => {\n    const { name } = this.state;\n\n    return (\n      <div className=\"new-asana-task expanded\">\n        <div className=\"title\">\n          <img src={Asana} className=\"icon\" />\n          New Asana Task\n        </div>\n        <div className=\"main\">\n          <div className=\"confirmation\">\n            <GreenCheck width=\"30px\" height=\"30px\" />\n            <div className=\"created\">\n              <span>\n                Task\n              </span>\n              <span className=\"bold\">\n                {name}\n              </span>\n              <span>created in Asana!</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { asanaState, showFullView, listProjects, listUsers } = this.props;\n    const { name, project, description, created, assignee } = this.state;\n\n    if (!showFullView) {\n      return this.renderPreview();\n    }\n\n    if (created) {\n      return this.renderCreated();\n    }\n\n    const projects = asanaState.projects.data\n      ? asanaState.projects.data.map(p => ({ id: p.id, displayName: p.name, data: p })) : [];\n    const users = asanaState.users.data ?\n      values(asanaState.users.data).map(u => ({\n        id: u.id,\n        displayName: u.name,\n        photoUrl: u.photoUrl || DefaultAvatar,\n        data: u,\n      })) : [];\n    const selectedProjectIndex = project && projects.findIndex(p => p.id === project.id);\n    const selectedUserIndex = assignee && users.findIndex(u => u.id === assignee.id);\n\n    return (\n      <div\n        className=\"new-asana-task expanded\"\n        onKeyDown={this.handleHotKeys}\n        tabIndex={-1}\n      >\n        <div className=\"title\">\n          <img src={Asana} className=\"icon\" />\n          New Asana Task\n        </div>\n        <div className=\"main\">\n          <TextInput\n            description=\"Task Name\"\n            placeholder=\"enter task name\"\n            value={name}\n            type=\"text\"\n            onChange={this.handleNameChange}\n            autofocus\n          />\n          <div className=\"dropdown-input\">\n            <div className=\"description\">\n              Assignee\n              <span className=\"gray\">(optional)</span>\n            </div>\n            <SearchDropdown\n              placeholder=\"search for a user\"\n              items={users}\n              onSelect={this.handleUserSelect}\n              onSearch={listUsers}\n              loading={asanaState.users.status === ResourceStatus.Loading}\n              debounce\n              showDisclosure\n              showPopoverOnEmptyQuery\n              selectedItemIndex={selectedUserIndex}\n            />\n          </div>\n          <div className=\"dropdown-input\">\n            <div className=\"description\">\n              Project\n              <span className=\"gray\">(optional)</span>\n            </div>\n            <SearchDropdown\n              placeholder=\"search for a project\"\n              items={projects}\n              onSelect={this.handleProjectSelect}\n              onSearch={listProjects}\n              loading={asanaState.projects.status === ResourceStatus.Loading}\n              selectedItemIndex={selectedProjectIndex}\n              debounce\n            />\n          </div>\n          <div className=\"date\" onKeyDown={this.handleDatePickerKeyDown}>\n            <div className=\"text-input\">\n              <div className=\"description\">\n                Due Date\n                <span className=\"gray\">(optional)</span>\n              </div>\n              <div className=\"input-container\">\n                <input\n                  dir=\"auto\"\n                  className=\"input\"\n                  placeholder=\"no date selected\"\n                  value={this.state.dueDate ? this.state.dueDate.format('ddd, MMM D, YYYY') : ''}\n                  onFocus={this.handleShowDatePicker}\n                  type=\"text\"\n                  name=\"dueDate\"\n                  readOnly\n                />\n                <Disclosure className=\"disclosure\" />\n              </div>\n            </div>\n            {this.state.showDatePicker &&\n              <div className=\"date-picker-popover\">\n                <DatePicker\n                  value={this.state.dueDate}\n                  onChange={this.handleDateChange}\n                  onSelect={this.handleDateChange}\n                  onClickOutside={this.handleHideDatePicker}\n                  disablePast\n                />\n              </div>}\n          </div>\n          <div className=\"desc\">\n            <div className=\"textarea-input\">\n              <div className=\"description\">\n                Description\n                <span className=\"gray\">(optional)</span>\n              </div>\n              <textarea\n                className=\"input\"\n                value={description}\n                onChange={this.handleDescriptionChange}\n                ref={this.handleTextAreaRef}\n              />\n            </div>\n          </div>\n          <button\n            className=\"create\"\n            disabled={!name}\n            onClick={this.handleCreateTask}\n          >\n            Create Task\n          </button>\n          <div className=\"instructions\">\n            <span className=\"bold\">Command ⌘ + Return ⮐</span> to create task\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewAsanaTask;\n"]}]}