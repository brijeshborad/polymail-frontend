{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ParticipantsView.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ParticipantsView.tsx","mtime":1675280254038},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyBvcmlnaW5hbE1lc3NhZ2VVcmwgfSBmcm9tICdAc3JjL2FwaS90aHJlYWRzJzsKaW1wb3J0IHsgRHJhZnRTdGF0dXMgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IFJlcGx5QWN0aW9ucyBmcm9tICcuLi8uLi9jb21wb25lbnRzL1JlcGx5QWN0aW9ucy9SZXBseUFjdGlvbnMnOwppbXBvcnQgUmVjaXBpZW50c1ZpZXcgZnJvbSAnLi9SZWNpcGllbnRzVmlldyc7CmltcG9ydCB7IHNob3dNb3N0UmVjZW50IH0gZnJvbSAnQHNyYy9saWIvZGF0ZXRpbWUnOwppbXBvcnQgeyBwYXJzZUFkZHJlc3MsIGdldERpc3BsYXlOYW1lIH0gZnJvbSAnQHNyYy9saWIvYWRkcmVzcyc7CmltcG9ydCBUcmFja2luZ1BvcG92ZXIgZnJvbSAnQHNyYy9yb3V0ZXMvVGhyZWFkcy9jb21wb25lbnRzL1RyYWNraW5nUG9wb3Zlcic7CmltcG9ydCBDb250YWN0Q2FyZFBvcG92ZXIgZnJvbSAnLi9Db250YWN0Q2FyZFBvcG92ZXInOwppbXBvcnQgVHJhY2tJY29uIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9UcmFjay5zdmcnOwppbXBvcnQgQXR0YWNobWVudCBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvQXR0YWNobWVudC5zdmcnOwppbXBvcnQgJy4vUGFydGljaXBhbnRzVmlldy5zY3NzJzsKaW1wb3J0IHsgZ2V0SG90a2V5LCBIb3RrZXlBY3Rpb24gfSBmcm9tICdAc3JjL2xpYi9ob3RrZXlzJzsKaW1wb3J0IE9uYm9hcmRpbmdUaXAgZnJvbSAnQHNyYy9jb21wb25lbnRzL09uYm9hcmRpbmcvY29tcG9uZW50cy9PbmJvYXJkaW5nVGlwL09uYm9hcmRpbmdUaXAnOwppbXBvcnQgSG92ZXJUaXAgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Jhc2UvSG92ZXJUaXAnOwp2YXIgUGFydGljaXBhbnRzVmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhQYXJ0aWNpcGFudHNWaWV3LCBfc3VwZXIpOwogICAgZnVuY3Rpb24gUGFydGljaXBhbnRzVmlldygpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVBhcnRpY2lwYW50c0V4cGFuc2lvblRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZEVtYWlscyA9IF90aGlzLnN0YXRlLnNlbGVjdGVkRW1haWxzOwogICAgICAgICAgICBpZiAoIXNlbGVjdGVkRW1haWxzIHx8ICFzZWxlY3RlZEVtYWlscy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZXhwYW5kZWQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMub25Ub2dnbGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5wcm9wcy5vblRvZ2dsZUV4cGFuZCgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUG9wb3ZlclJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3ZlciA9IHJlZjsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVRyYWNrRW50ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB0cmFja2VkID0gX2EudHJhY2tlZCwgdHJhY2sgPSBfYS50cmFjaywgbWVzc2FnZSA9IF9hLm1lc3NhZ2UsIG9uRmV0Y2hUcmFjayA9IF9hLm9uRmV0Y2hUcmFjazsKICAgICAgICAgICAgLy8gSGFuZGxlIHJlZnJlc2hpbmcgdHJhY2sgb24gbnVtYmVyIGNoYW5nZXMgb3IgYWJzZW5zZSBvZiB0cmFjawogICAgICAgICAgICB2YXIgdHJhY2tOdW1iZXJNaXNtYXRjaCA9IHRyYWNrICYmCiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0cmFjay5hY3Rpb25zKS5sZW5ndGggIT09IG1lc3NhZ2UudHJhY2tzOwogICAgICAgICAgICB2YXIgbm9UcmFja1JldHJpZXZlZCA9ICEhbWVzc2FnZS50cmFja3MgJiYgIXRyYWNrOwogICAgICAgICAgICBpZiAob25GZXRjaFRyYWNrICYmICh0cmFja051bWJlck1pc21hdGNoIHx8IG5vVHJhY2tSZXRyaWV2ZWQpKSB7CiAgICAgICAgICAgICAgICBvbkZldGNoVHJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5oYW5kbGVPbmJvYXJkaW5nQ2xlYXIoKTsKICAgICAgICAgICAgaWYgKHRyYWNrZWQpIHsKICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuc2hvdygpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVPbmJvYXJkaW5nQ2xlYXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBzaG93VHJhY2tpbmdPbmJvYXJkaW5nID0gX2Euc2hvd1RyYWNraW5nT25ib2FyZGluZywgb25PbmJvYXJkaW5nQ2xlYXIgPSBfYS5vbk9uYm9hcmRpbmdDbGVhcjsKICAgICAgICAgICAgaWYgKHNob3dUcmFja2luZ09uYm9hcmRpbmcgJiYgb25PbmJvYXJkaW5nQ2xlYXIpIHsKICAgICAgICAgICAgICAgIG9uT25ib2FyZGluZ0NsZWFyKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVRyYWNrTGVhdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB0cmFja2VkID0gX3RoaXMucHJvcHMudHJhY2tlZDsKICAgICAgICAgICAgaWYgKHRyYWNrZWQpIHsKICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuaGlkZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDb250YWN0UG9wb3ZlclJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgaWYgKHJlZikgewogICAgICAgICAgICAgICAgX3RoaXMuY29udGFjdFBvcG92ZXIgPSByZWYuZ2V0V3JhcHBlZEluc3RhbmNlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNob3dPcmlnaW5hbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgd2luZG93Lm9wZW4ob3JpZ2luYWxNZXNzYWdlVXJsKF90aGlzLnByb3BzLnRocmVhZElkLCBfdGhpcy5wcm9wcy5tZXNzYWdlLmlkKSwgJ19ibGFuaycpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuc2hvd0NvbnRhY3RQb3BvdmVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0OwogICAgICAgICAgICB2YXIgZW1haWwgPSB0YXJnZXQuZGF0YXNldC5lbWFpbDsKICAgICAgICAgICAgdmFyIHJlY3Q7CiAgICAgICAgICAgIGlmIChlbWFpbCkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgIGNvbnRhY3RFbWFpbDogZW1haWwsCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbWFpbHM6IGUuc2hpZnRLZXkgPyBfdGhpcy5zdGF0ZS5zZWxlY3RlZEVtYWlscy5jb25jYXQoW2VtYWlsXSkgOiBbZW1haWxdLAogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lclJlY3QgPSBfdGhpcy5yZWYgJiYgX3RoaXMucmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJSZWN0ICYmIHJlY3QgJiYgcmVjdC5ib3R0b20gJiYgcmVjdC5sZWZ0ICYmIHJlY3Qud2lkdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29udGFjdFBvcG92ZXIuc2hvdyhyZWN0LmJvdHRvbSAtIGNvbnRhaW5lclJlY3QudG9wICsgMTAsIHJlY3QucmlnaHQgLSBjb250YWluZXJSZWN0LmxlZnQgLSA1MCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNsZWFyU2VsZWN0ZWRFbWFpbHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkRW1haWxzOiBbXSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTaGFyZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uU2hhcmVBY3Rpb24pIHsKICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uU2hhcmVBY3Rpb24oX3RoaXMucHJvcHMubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucmVmID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBob3RrZXkgPSBnZXRIb3RrZXkoZSk7CiAgICAgICAgICAgIGlmIChob3RrZXkgJiYgaG90a2V5Lm5hbWUgPT09IEhvdGtleUFjdGlvbi5Db3B5KSB7CiAgICAgICAgICAgICAgICB2YXIgY29weSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbS1kYXRhLVBhcnRpY2lwYW50c1ZpZXctY29weS1wYXN0ZScpOwogICAgICAgICAgICAgICAgaWYgKGNvcHkpIHsKICAgICAgICAgICAgICAgICAgICBjb3B5LmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvcHkuc2VsZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHkuc2VsZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkcmFnZ2luZzogdHJ1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVJlY2lwaWVudEhvdmVyID0gZnVuY3Rpb24gKGVtYWlsKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnN0YXRlLCBkcmFnZ2luZyA9IF9hLmRyYWdnaW5nLCBzZWxlY3RlZEVtYWlscyA9IF9hLnNlbGVjdGVkRW1haWxzOwogICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxlY3RlZEVtYWlscy5pbmRleE9mKGVtYWlsKTsKICAgICAgICAgICAgaWYgKGRyYWdnaW5nICYmIGluZGV4ID09PSAtMSkgewogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEVtYWlsczogc2VsZWN0ZWRFbWFpbHMuY29uY2F0KFtlbWFpbF0pIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGRyYWdnaW5nKSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3U2VsZWN0ZWRFbWFpbHMgPSBzZWxlY3RlZEVtYWlscy5zbGljZSgwLCBpbmRleCkKICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGluZGV4ID09PSBzZWxlY3RlZEVtYWlscy5sZW5ndGggPyBbXSA6IHNlbGVjdGVkRW1haWxzLnNsaWNlKGluZGV4ICsgMSkpOwogICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEVtYWlsczogbmV3U2VsZWN0ZWRFbWFpbHMgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZHJhZ2dpbmc6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMucmVuZGVyT3B0aW1pc3RpY0Rpc2NsYWltZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBtZXNzYWdlID0gX2EubWVzc2FnZSwgYXR0YWNobWVudE1ldGFDb3VudCA9IF9hLmF0dGFjaG1lbnRNZXRhQ291bnQsIGlzT2ZmbGluZSA9IF9hLmlzT2ZmbGluZSwgZHJhZnQgPSBfYS5kcmFmdDsKICAgICAgICAgICAgaWYgKCFtZXNzYWdlLm9wdGltaXN0aWMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIENvbmRpdGlvbmFsIHNldCBjb3B5IGZvciBvcHRpbWlzdGljIGhvdmVyIG1vZGUKICAgICAgICAgICAgdmFyIGlzU3RhZ2VkID0gbWVzc2FnZS5vcHRpbWlzdGljID09PSBEcmFmdFN0YXR1cy5TdGFnZWQ7CiAgICAgICAgICAgIHZhciBjYW5VbmRvID0gZHJhZnQgJiYgZHJhZnQuY2FuY2VsQnkgJiYgZHJhZnQuY2FuY2VsQnkgPiBuZXcgRGF0ZSgpOwogICAgICAgICAgICB2YXIgaG92ZXJNZXNzYWdlID0gJ1lvdXIgbWVzc2FnZSBpcyBiZWluZyBzZW50ISc7CiAgICAgICAgICAgIHZhciBkaXNjbGFpbWVyQ29weSA9ICdTZW5kaW5nJzsKICAgICAgICAgICAgaWYgKGlzU3RhZ2VkKSB7CiAgICAgICAgICAgICAgICBkaXNjbGFpbWVyQ29weSA9ICdPdXRib3gnOwogICAgICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnRNZXRhQ291bnQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRDb3B5ID0gYXR0YWNobWVudE1ldGFDb3VudCA+IDEKICAgICAgICAgICAgICAgICAgICAgICAgPyBhdHRhY2htZW50TWV0YUNvdW50ICsgIiBhdHRhY2htZW50cyIKICAgICAgICAgICAgICAgICAgICAgICAgOiBhdHRhY2htZW50TWV0YUNvdW50ICsgIiBhdHRhY2htZW50IjsKICAgICAgICAgICAgICAgICAgICBob3Zlck1lc3NhZ2UgPSAiWW91ciBtZXNzYWdlIHdpbGwgYmUgc2VudCBhZnRlciAiICsgY291bnRDb3B5ICsgIiBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyEiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaG92ZXJNZXNzYWdlID0gJ1lvdXIgbWVzc2FnZSBpcyBwcm9jZXNzaW5nIGFuZCB3aWxsIGJlIHNlbnQgc2hvcnRseSEnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSkgewogICAgICAgICAgICAgICAgICAgIGhvdmVyTWVzc2FnZSA9ICdZb3VyIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHdoZW4geW91IGFyZSBiYWNrIG9ubGluZSEnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBoYW5kbGVVbmRvID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHZhciBvblNlbmRVbmRvID0gX3RoaXMucHJvcHMub25TZW5kVW5kbzsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICBpZiAob25TZW5kVW5kbykgewogICAgICAgICAgICAgICAgICAgIG9uU2VuZFVuZG8oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbiA9IChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm91dGJveC1ob3Zlci1kaXNjbGFpbWVyIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJkZXNjcmlwdGlvbiIgfSwgaG92ZXJNZXNzYWdlKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAidW5kby1hY3Rpb24iLCBvbkNsaWNrOiBoYW5kbGVVbmRvIH0sICJVbmRvIFNlbmQiKSkpOwogICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSG92ZXJUaXAsIHsgY29weTogaG92ZXJNZXNzYWdlLCBsZWZ0OiAiLTUwcHgiLCB0b3A6ICIyMHB4IiwgbWF4V2lkdGg6ICIxMDBweCIsIGhvdmVyQ2hpbGQ6IChpc1N0YWdlZCB8fCBjYW5VbmRvKSAmJiBhY3Rpb25CdXR0b24gfHwgdW5kZWZpbmVkLCBmaXhlZFBvc2l0aW9uaW5nOiB0cnVlLCBtdWx0aWxpbmU6IHRydWUgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdvcHRpbWlzdGljLWRpc2NsYWltZXInLCBtZXNzYWdlLm9wdGltaXN0aWMpIH0sIGRpc2NsYWltZXJDb3B5KSkpOwogICAgICAgIH07CiAgICAgICAgLy8gU2V0IGluaXRpYWwgc3RhdGUKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgZXhwYW5kZWQ6IGZhbHNlLAogICAgICAgICAgICBzZWxlY3RlZEVtYWlsczogW10sCiAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZSwKICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFBhcnRpY2lwYW50c1ZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBtZXNzYWdlID0gX2EubWVzc2FnZSwgdHJhY2tlZCA9IF9hLnRyYWNrZWQsIHRyYWNrcyA9IF9hLnRyYWNrcywgdHJhY2sgPSBfYS50cmFjaywgb25SZXBseUFjdGlvbiA9IF9hLm9uUmVwbHlBY3Rpb24sIHNlbmRlciA9IF9hLnNlbmRlciwgbWUgPSBfYS5tZSwgZmVhdHVyZXMgPSBfYS5mZWF0dXJlcywgdGhyZWFkSWQgPSBfYS50aHJlYWRJZCwgc2hvd1RyYWNraW5nT25ib2FyZGluZyA9IF9hLnNob3dUcmFja2luZ09uYm9hcmRpbmcsIGhpZGVUcmFja3MgPSBfYS5oaWRlVHJhY2tzLCBoaWRlQWN0aW9ucyA9IF9hLmhpZGVBY3Rpb25zOwogICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIGNvbnRhY3RFbWFpbCA9IF9iLmNvbnRhY3RFbWFpbCwgc2VsZWN0ZWRFbWFpbHMgPSBfYi5zZWxlY3RlZEVtYWlsczsKICAgICAgICB2YXIgQ29udGFjdENhcmRQb3BvdmVyQ29ubmVjdCA9IENvbnRhY3RDYXJkUG9wb3ZlcjsKICAgICAgICB2YXIgc2hvd1JlcGx5QWxsID0gbWVzc2FnZSAmJgogICAgICAgICAgICBtZXNzYWdlLnRvLmNvbmNhdChtZXNzYWdlLmNjLmNvbmNhdChtZXNzYWdlLmJjYykpLmxlbmd0aCA+IDE7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRocmVhZC1kZXRhaWwtZXhwYW5kZWQtY2VsbC1wYXJ0aWNpcGFudHMtdmlldyIsIG9uQ2xpY2s6IHRoaXMub25Ub2dnbGUsIHJlZjogdGhpcy5oYW5kbGVSZWYsIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLCBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sIG9uTW91c2VVcDogdGhpcy5oYW5kbGVNb3VzZVVwLCB0YWJJbmRleDogLTEgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW1nIiwgeyBjbGFzc05hbWU6ICJ0aHJlYWQtZGV0YWlsLWF2YXRhciIsIHNyYzogc2VuZGVyICYmIHNlbmRlci5waG90b1VybCB9KSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwYXJ0aWNpcGFudHMiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogInNlbmRlciIsIG9uQ2xpY2s6IHRoaXMuc2hvd0NvbnRhY3RQb3BvdmVyLCAiZGF0YS1lbWFpbCI6IHBhcnNlQWRkcmVzcyhtZXNzYWdlLmZyb20pLmVtYWlsIH0sIGdldERpc3BsYXlOYW1lKG1lc3NhZ2UuZnJvbSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGllbnRzVmlldywgeyBtZXNzYWdlOiBtZXNzYWdlLCBvblJlY2lwaWVudENsaWNrOiB0aGlzLnNob3dDb250YWN0UG9wb3ZlciwgbWU6IG1lLCBzZWxlY3RlZEVtYWlsczogc2VsZWN0ZWRFbWFpbHMsIGNsZWFyU2VsZWN0ZWRFbWFpbHM6IHRoaXMuaGFuZGxlQ2xlYXJTZWxlY3RlZEVtYWlscywgb25SZWNpcGllbnRIb3ZlcjogdGhpcy5oYW5kbGVSZWNpcGllbnRIb3ZlciB9KSwKICAgICAgICAgICAgICAgIGNvbnRhY3RFbWFpbCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhY3RDYXJkUG9wb3ZlckNvbm5lY3QsIHsgY29udGFjdEVtYWlsOiBjb250YWN0RW1haWwsIHJlZjogdGhpcy5oYW5kbGVDb250YWN0UG9wb3ZlclJlZiwgaGlkZUFjdGlvbnM6IGhpZGVBY3Rpb25zIH0pKSwKICAgICAgICAgICAgb25SZXBseUFjdGlvbiAmJgogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZXBseUFjdGlvbnMsIHsgb25SZXBseUFjdGlvbjogb25SZXBseUFjdGlvbiwgc2hvd1JlcGx5QWxsOiBzaG93UmVwbHlBbGwsIG9uU2hvd09yaWdpbmFsOiB0aGlzLmhhbmRsZVNob3dPcmlnaW5hbCwgb25TaGFyZUFjdGlvbjogdGhpcy5oYW5kbGVTaGFyZUFjdGlvbiwgbWVzc2FnZUxpbms6ICIvcG9wb3V0L3RocmVhZHMvIiArIHRocmVhZElkICsgIi9tZXNzYWdlcy8iICsgbWVzc2FnZS5pZCB9KSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJyaWdodC1jb250ZW50IiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0b3AiIH0sCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oYXNBdHRhY2htZW50cyAmJgogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImF0dGFjaG1lbnQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEF0dGFjaG1lbnQsIG51bGwpKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRpbWVzdGFtcCIgfSwgc2hvd01vc3RSZWNlbnQobWVzc2FnZS5pbnRlcm5hbCwgdHJ1ZSkpKSwKICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyT3B0aW1pc3RpY0Rpc2NsYWltZXIoKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAidHJhY2tzLWNvbnRhaW5lciIgfSwgdHJhY2tlZCAmJiAhaGlkZVRyYWNrcyAmJiAhbWVzc2FnZS5vcHRpbWlzdGljICYmCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0cmFja3MiLCBvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlVHJhY2tFbnRlciwgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZVRyYWNrTGVhdmUgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUcmFja0ljb24sIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCd0cmFjay1pY29uJywgeyB0cmFja3M6IHRyYWNrcyA+IDAgfSkgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrcyA+IDAgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgdHJhY2tzKSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUcmFja2luZ1BvcG92ZXIsIHsgdHJhY2s6IHRyYWNrLCByZWY6IHRoaXMuaGFuZGxlUG9wb3ZlclJlZiwgcGVuZGluZzogZmFsc2UsIGZlYXR1cmVzOiBmZWF0dXJlcyB9KSkpLAogICAgICAgICAgICAgICAgdHJhY2tlZCAmJiB0cmFja3MgPiAwICYmIHNob3dUcmFja2luZ09uYm9hcmRpbmcgJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE9uYm9hcmRpbmdUaXAsIHsgdGl0bGU6ICJTZW5kIEluc2lnaHRzISBcdTI2QTFcdUZFMEYiLCBtZXNzYWdlOiAnSG92ZXIgb3ZlciB0aGUgbGlnaHRuaW5nIGljb24gdG8gdmlldyBhIG1lc3NhZ2VcJ3MgdHJhY2tpbmcgYWN0aXZpdHkuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnIFlvdSBjYW4gYWxzbyB2aWV3IGFjdGl2aXR5IGZvciBhbGwgbWVzc2FnZXMgaW4gdGhlIEFjdGl2aXR5IEZlZWQuJywgdG9wOiAiNDRweCIsIHJpZ2h0OiAiLTE4cHgiLCBvbk5leHQ6IHRoaXMuaGFuZGxlT25ib2FyZGluZ0NsZWFyIH0pKSwKICAgICAgICAgICAgISFzZWxlY3RlZEVtYWlscy5sZW5ndGggJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7IGRpcjogImF1dG8iLCByZWFkT25seTogdHJ1ZSwgY2xhc3NOYW1lOiAiY29weSIsIGlkOiAicG0tZGF0YS1QYXJ0aWNpcGFudHNWaWV3LWNvcHktcGFzdGUiLCB2YWx1ZTogc2VsZWN0ZWRFbWFpbHMuam9pbignLCcpIH0pKSk7CiAgICB9OwogICAgcmV0dXJuIFBhcnRpY2lwYW50c1ZpZXc7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgeyBQYXJ0aWNpcGFudHNWaWV3IH07Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ParticipantsView.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/ExpandedCell/components/ParticipantsView.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\n\nimport { originalMessageUrl } from '@src/api/threads';\nimport { Message, Contact, Track, Me, Features, DraftStatus, Draft } from '@src/types';\n\nimport ReplyActions from '../../components/ReplyActions/ReplyActions';\nimport RecipientsView from './RecipientsView';\nimport { showMostRecent } from '@src/lib/datetime';\nimport { parseAddress, getDisplayName } from '@src/lib/address';\nimport { Configuration } from '@src/lib/draft';\nimport TrackingPopover from '@src/routes/Threads/components/TrackingPopover';\nimport ContactCardPopover from './ContactCardPopover';\nimport ContactCardPopoverInstance from './ContactCardPopover/ContactCardPopover';\n\nimport TrackIcon from '@src/components/Icons/Track.svg';\nimport Attachment from '@src/components/Icons/Attachment.svg';\n\nimport './ParticipantsView.scss';\nimport { getHotkey, HotkeyAction } from '@src/lib/hotkeys';\nimport OnboardingTip from '@src/components/Onboarding/components/OnboardingTip/OnboardingTip';\nimport HoverTip from '@src/components/Base/HoverTip';\n\ninterface State {\n  expanded: boolean;\n  contactEmail?: string;\n  selectedEmails: string[];\n  dragging: boolean;\n}\n\ninterface Props {\n  threadId: string;\n  message: Message;\n  tracked: boolean;\n  tracks: number;\n  attachmentMetaCount?: number;\n\n  onToggleExpand: () => void;\n  onFetchTrack?: () => void;\n  onShareAction?: (message: Message) => void;\n  onReplyAction?: (configuration: Configuration) => void;\n\n  draft?: Draft;\n  sender?: Contact;\n  track?: Track;\n  me?: Me;\n  features: Features;\n\n  showTrackingOnboarding?: boolean;\n  onOnboardingClear?: () => void;\n\n  hideTracks?: boolean;\n  hideActions?: boolean;\n  isOffline?: boolean;\n  onSendUndo?: () => void;\n}\n\nexport class ParticipantsView extends React.PureComponent<Props, State> {\n  private popover: TrackingPopover;\n  private contactPopover: ContactCardPopoverInstance;\n  private ref: HTMLDivElement;\n\n  constructor() {\n    super();\n\n    // Set initial state\n    this.state = {\n      expanded: false,\n      selectedEmails: [],\n      dragging: false,\n    };\n  }\n\n  handleParticipantsExpansionToggle = (e: React.MouseEvent<HTMLDivElement>) => {\n    const { selectedEmails } = this.state;\n\n    if (!selectedEmails || !selectedEmails.length) {\n      this.setState({ expanded: false });\n      e.stopPropagation();\n    }\n  }\n\n  onToggle = (e: React.MouseEvent<HTMLDivElement>) => {\n    this.props.onToggleExpand();\n  }\n\n  handlePopoverRef = (ref: TrackingPopover) => {\n    this.popover = ref;\n  }\n\n  handleTrackEnter = () => {\n    const {\n      tracked,\n      track,\n      message,\n      onFetchTrack,\n    } = this.props;\n\n    // Handle refreshing track on number changes or absense of track\n    const trackNumberMismatch = track &&\n      Object.keys(track.actions).length !== message.tracks;\n    const noTrackRetrieved = !!message.tracks && !track;\n    if (onFetchTrack && (trackNumberMismatch || noTrackRetrieved)) {\n      onFetchTrack();\n    }\n\n    this.handleOnboardingClear();\n\n    if (tracked) {\n      this.popover.show();\n    }\n  }\n\n  handleOnboardingClear = () => {\n    const { showTrackingOnboarding, onOnboardingClear } = this.props;\n    if (showTrackingOnboarding && onOnboardingClear) {\n      onOnboardingClear();\n    }\n  }\n\n  handleTrackLeave = () => {\n    const { tracked } = this.props;\n\n    if (tracked) {\n      this.popover.hide();\n    }\n  }\n\n  handleContactPopoverRef = (ref: any) => {\n    if (ref) {\n      this.contactPopover = ref.getWrappedInstance();\n    }\n  }\n\n  handleShowOriginal = () => {\n    window.open(originalMessageUrl(this.props.threadId, this.props.message.id), '_blank');\n  }\n\n  showContactPopover = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const target = e.currentTarget;\n    const email = target.dataset.email;\n    let rect;\n    if (email) {\n      this.setState(\n        {\n          contactEmail: email,\n          selectedEmails: e.shiftKey ? this.state.selectedEmails.concat([email]) : [email],\n        },\n        () => {\n          rect = target.getBoundingClientRect();\n          const containerRect = this.ref && this.ref.getBoundingClientRect();\n          if (containerRect && rect && rect.bottom && rect.left && rect.width) {\n            this.contactPopover.show(\n              rect.bottom - containerRect.top + 10,\n              rect.right - containerRect.left - 50,\n            );\n          }\n        },\n      );\n    }\n  }\n\n  handleClearSelectedEmails = () => {\n    this.setState({\n      selectedEmails: [],\n    });\n  }\n\n  handleShareAction = () => {\n    if (this.props.onShareAction) {\n      this.props.onShareAction(this.props.message);\n    }\n  }\n\n  handleRef = (ref: HTMLDivElement) => {\n    this.ref = ref;\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    const hotkey = getHotkey(e);\n    if (hotkey && hotkey.name === HotkeyAction.Copy) {\n      const copy = document.getElementById('pm-data-ParticipantsView-copy-paste');\n      if (copy) {\n        copy.focus();\n\n        if ((copy as any).select) {\n          (copy as any).select();\n        }\n      }\n      document.execCommand('copy');\n    }\n  }\n\n  handleMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\n    this.setState({ dragging: true });\n  }\n\n  handleRecipientHover = (email: string) => {\n    const { dragging, selectedEmails } = this.state;\n    const index = selectedEmails.indexOf(email);\n\n    if (dragging && index === -1) {\n      this.setState({ selectedEmails: selectedEmails.concat([email]) });\n    } else if (dragging) {\n      const newSelectedEmails = selectedEmails.slice(0, index)\n        .concat(index === selectedEmails.length ? [] : selectedEmails.slice(index + 1));\n      this.setState({ selectedEmails: newSelectedEmails });\n    }\n  }\n\n  handleMouseUp = () => {\n    this.setState({ dragging: false });\n  }\n\n  renderOptimisticDisclaimer = () => {\n    const { message, attachmentMetaCount, isOffline, draft } = this.props;\n    if (!message.optimistic) {\n      return null;\n    }\n\n    // Conditional set copy for optimistic hover mode\n    const isStaged = message.optimistic === DraftStatus.Staged;\n    const canUndo = draft && draft.cancelBy && draft.cancelBy > new Date();\n    let hoverMessage = 'Your message is being sent!';\n    let disclaimerCopy = 'Sending';\n    if (isStaged) {\n      disclaimerCopy = 'Outbox';\n      if (attachmentMetaCount) {\n        const countCopy = attachmentMetaCount > 1\n          ? `${attachmentMetaCount} attachments`\n          : `${attachmentMetaCount} attachment`;\n        hoverMessage = `Your message will be sent after ${countCopy} has finished processing!`;\n      } else {\n        hoverMessage = 'Your message is processing and will be sent shortly!';\n      }\n\n      if (isOffline) {\n        hoverMessage = 'Your message will be sent when you are back online!';\n      }\n    }\n\n    const handleUndo = (e: React.MouseEvent<any>) => {\n      const { onSendUndo } = this.props;\n      e.preventDefault();\n      e.stopPropagation();\n      if (onSendUndo) {\n        onSendUndo();\n      }\n    };\n\n    const actionButton = (\n      <div className=\"outbox-hover-disclaimer\">\n        <div className=\"description\">\n          {hoverMessage}\n        </div>\n        <button\n          className=\"undo-action\"\n          onClick={handleUndo}\n        >\n          Undo Send\n        </button>\n      </div>\n    );\n\n    return (\n      <HoverTip\n        copy={hoverMessage}\n        left=\"-50px\"\n        top=\"20px\"\n        maxWidth=\"100px\"\n        hoverChild={(isStaged || canUndo) && actionButton || undefined}\n        fixedPositioning\n        multiline\n      >\n        <div\n          className={classnames('optimistic-disclaimer', message.optimistic)}\n        >\n          {disclaimerCopy}\n        </div>\n      </HoverTip>\n    );\n  }\n\n  render() {\n    const {\n      message,\n      tracked,\n      tracks,\n      track,\n      onReplyAction,\n      sender,\n      me,\n      features,\n      threadId,\n      showTrackingOnboarding,\n      hideTracks,\n      hideActions,\n    } = this.props;\n    const { contactEmail, selectedEmails } = this.state;\n    const ContactCardPopoverConnect = ContactCardPopover as any;\n    const showReplyAll = message &&\n      message.to.concat(message.cc.concat(message.bcc)).length > 1;\n\n    return (\n      <div\n        className=\"thread-detail-expanded-cell-participants-view\"\n        onClick={this.onToggle}\n        ref={this.handleRef}\n        onKeyDown={this.handleKeyDown}\n        onMouseDown={this.handleMouseDown}\n        onMouseUp={this.handleMouseUp}\n        tabIndex={-1}\n      >\n        <img\n          className=\"thread-detail-avatar\"\n          src={sender && sender.photoUrl}\n        />\n        <div className=\"participants\">\n          <button\n            className=\"sender\"\n            onClick={this.showContactPopover}\n            data-email={parseAddress(message.from).email}\n          >\n            {getDisplayName(message.from)}\n          </button>\n          <RecipientsView\n            message={message}\n            onRecipientClick={this.showContactPopover}\n            me={me}\n            selectedEmails={selectedEmails}\n            clearSelectedEmails={this.handleClearSelectedEmails}\n            onRecipientHover={this.handleRecipientHover}\n          />\n          {contactEmail && <ContactCardPopoverConnect\n            contactEmail={contactEmail}\n            ref={this.handleContactPopoverRef}\n            hideActions={hideActions}\n          />}\n        </div>\n        {onReplyAction &&\n          <ReplyActions\n            onReplyAction={onReplyAction}\n            showReplyAll={showReplyAll}\n            onShowOriginal={this.handleShowOriginal}\n            onShareAction={this.handleShareAction}\n            messageLink={`/popout/threads/${threadId}/messages/${message.id}`}\n          />\n        }\n        <div className=\"right-content\">\n          <div className=\"top\">\n            {message.hasAttachments &&\n              <div className=\"attachment\">\n                <Attachment />\n              </div>\n            }\n            <div className=\"timestamp\">{showMostRecent(message.internal, true)}</div>\n          </div>\n          {this.renderOptimisticDisclaimer()}\n          <div className=\"tracks-container\">\n            {tracked && !hideTracks && !message.optimistic &&\n              <div\n                className=\"tracks\"\n                onMouseEnter={this.handleTrackEnter}\n                onMouseLeave={this.handleTrackLeave}\n              >\n                <TrackIcon className={classnames('track-icon', { tracks: tracks > 0 })}/>\n                {tracks > 0 && <div>{tracks}</div>}\n                <TrackingPopover\n                  track={track}\n                  ref={this.handlePopoverRef}\n                  pending={false}\n                  features={features}\n                />\n              </div>\n            }\n          </div>\n          {tracked && tracks > 0 && showTrackingOnboarding &&\n            <OnboardingTip\n              title=\"Send Insights! ⚡️\"\n              message={'Hover over the lightning icon to view a message\\'s tracking activity.'\n                + ' You can also view activity for all messages in the Activity Feed.'}\n              top=\"44px\"\n              right=\"-18px\"\n              onNext={this.handleOnboardingClear}\n            />\n          }\n        </div>\n        {!!selectedEmails.length && <input\n          dir=\"auto\"\n          readOnly\n          className=\"copy\"\n          id=\"pm-data-ParticipantsView-copy-paste\"\n          value={selectedEmails.join(',')}\n        />}\n      </div>\n    );\n  }\n}\n"]}]}