{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Tabs/TasksTable.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Tabs/TasksTable.tsx","mtime":1675280254035},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBmb3JtYXRDdXJyZW5jeSB9IGZyb20gJ0BzcmMvbGliL3V0aWxzJzsKaW1wb3J0IHsgU2FsZXNmb3JjZVRhc2tTdWJ0eXBlLCBTT2JqZWN0RmllbGRUeXBlLCB9IGZyb20gJ0BzcmMvdHlwZXMvc2FsZXNmb3JjZSc7CmltcG9ydCBDaXJjbGUgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0NpcmNsZS5zdmcnOwppbXBvcnQgUGhvbmUgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL1Bob25lLnN2Zyc7CmltcG9ydCBNYWlsIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9NYWlsLnN2Zyc7CmltcG9ydCBUYXNrIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9UYXNrLnN2Zyc7CmltcG9ydCAnLi9BY3Rpdml0eVRhYmxlLnNjc3MnOwpleHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZShuYW1lLCBmaWVsZHMpIHsKICAgIHZhciB2YWx1ZXMgPSBmaWVsZHMKICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChmaWVsZCkgeyByZXR1cm4gZmllbGQubmFtZSA9PT0gbmFtZTsgfSkKICAgICAgICAubWFwKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgIHZhciB2YWx1ZSA9IGZpZWxkLmRpc3BsYXlWYWx1ZSB8fCBmaWVsZC52YWx1ZTsKICAgICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHsKICAgICAgICAgICAgY2FzZSBTT2JqZWN0RmllbGRUeXBlLkN1cnJlbmN5OgogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdEN1cnJlbmN5KHZhbHVlKTsKICAgICAgICAgICAgY2FzZSBTT2JqZWN0RmllbGRUeXBlLkRhdGU6CiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ01NL0REL1lZWVknKTsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICB9KTsKICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiB2YWx1ZXNbMF07CiAgICB9CiAgICByZXR1cm4gJyc7Cn0KZnVuY3Rpb24gZ2V0RHVlRGF0ZShmaWVsZHMpIHsKICAgIHZhciB2YWx1ZSA9IGdldEZpZWxkVmFsdWUoJ0FjdGl2aXR5RGF0ZScsIGZpZWxkcyk7CiAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sCiAgICAgICAgIkR1ZSBEYXRlOiAiLAogICAgICAgIG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdNTU1NIEQsIFlZWVknKSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldENyZWF0ZWREYXRlKGZpZWxkcykgewogICAgdmFyIHZhbHVlID0gZ2V0RmllbGRWYWx1ZSgnQ3JlYXRlZERhdGUnLCBmaWVsZHMpOwogICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgdmFyIGRhdGUgPSBtb21lbnQodmFsdWUpOwogICAgaWYgKGRhdGUuaXNTYW1lKG5ldyBEYXRlKCksICdkYXknKSkgewogICAgICAgIHJldHVybiBkYXRlLmZvcm1hdCgnaDptbSBBJyk7CiAgICB9CiAgICByZXR1cm4gZGF0ZS5mb3JtYXQoJ01NTSBERCcpOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKHN1YnR5cGUpIHsKICAgIHN3aXRjaCAoc3VidHlwZSkgewogICAgICAgIGNhc2UgU2FsZXNmb3JjZVRhc2tTdWJ0eXBlLlRhc2s6CiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhc2ssIHsgd2lkdGg6ICIxNnB4IiwgaGVpZ2h0OiAiMTJweCIgfSk7CiAgICAgICAgY2FzZSBTYWxlc2ZvcmNlVGFza1N1YnR5cGUuUGhvbmU6CiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBob25lLCB7IHdpZHRoOiAiMTZweCIsIGhlaWdodDogIjEycHgiIH0pOwogICAgICAgIGNhc2UgU2FsZXNmb3JjZVRhc2tTdWJ0eXBlLkVtYWlsOgogICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChNYWlsLCB7IHdpZHRoOiAiMTZweCIsIGhlaWdodDogIjEycHgiIH0pOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENpcmNsZSwgeyB3aWR0aDogIjE2cHgiLCBoZWlnaHQ6ICIxMnB4IiB9KTsKICAgIH0KfQpmdW5jdGlvbiBnZXRDb3B5KHN1YnR5cGUpIHsKICAgIHN3aXRjaCAoc3VidHlwZSkgewogICAgICAgIGNhc2UgU2FsZXNmb3JjZVRhc2tTdWJ0eXBlLlRhc2s6CiAgICAgICAgICAgIHJldHVybiAnaGFzIGEgdGFzayc7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgLy8gZG9uJ3Qgd2FudCB0byBkaXNwbGF5IHVua25vd24gdHlwZXMKICAgICAgICAgICAgcmV0dXJuICcnOwogICAgfQp9CmZ1bmN0aW9uIGNlbGxzKHRhc2tzKSB7CiAgICByZXR1cm4gdGFza3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdmFyIHN1YnR5cGUgPSBnZXRGaWVsZFZhbHVlKCdUYXNrU3VidHlwZScsIGl0ZW0uZmllbGRzKTsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsga2V5OiBpdGVtLmhyZWYsIGNsYXNzTmFtZTogInNhbGVzZm9yY2UtY29tcG9uZW50cy1hY3Rpdml0eS10YWJsZS1jZWxsIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1ldGEiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImljb24iIH0sIGdldEljb24oc3VidHlwZSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJvd25lciIgfSwgZ2V0RmllbGRWYWx1ZSgnT3duZXJJZCcsIGl0ZW0uZmllbGRzKSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInR5cGUiIH0sIGdldENvcHkoc3VidHlwZSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJkYXRlIiB9LCBnZXRDcmVhdGVkRGF0ZShpdGVtLmZpZWxkcykpKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJoZWFkZXIiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInN1YmplY3QiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYSIsIHsgaHJlZjogaXRlbS51cmwsIHRhcmdldDogIl9ibGFuayIsIHJlbDogIm5vb3BlbmVyIG5vcmVmZXJyZXIiIH0sIGdldEZpZWxkVmFsdWUoJ1N1YmplY3QnLCBpdGVtLmZpZWxkcykpKSksCiAgICAgICAgICAgIGdldER1ZURhdGUoaXRlbS5maWVsZHMpKSk7CiAgICB9KTsKfQp2YXIgVGFza3NUYWJsZSA9IGZ1bmN0aW9uIChfYSkgewogICAgdmFyIHRhc2tzID0gX2EudGFza3M7CiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2FsZXNmb3JjZS1jb21wb25lbnRzLWFjdGl2aXR5LXRhYmxlIiB9LAogICAgICAgIHRhc2tzLmxlbmd0aCA9PT0gMCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImVtcHR5IiB9LCAiTm8gVGFza3MiKSkgOiBudWxsLAogICAgICAgIGNlbGxzKHRhc2tzKSkpOwp9OwpleHBvcnQgZGVmYXVsdCBUYXNrc1RhYmxlOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Tabs/TasksTable.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/Tabs/TasksTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\n\nimport { formatCurrency } from '@src/lib/utils';\n\nimport {\n  SObjectField, SObject, SalesforceTaskSubtype, SObjectFieldType,\n} from '@src/types/salesforce';\n\nimport Circle from '@src/components/Icons/Circle.svg';\nimport Phone from '@src/components/Icons/Phone.svg';\nimport Mail from '@src/components/Icons/Mail.svg';\nimport Task from '@src/components/Icons/Task.svg';\n\nimport './ActivityTable.scss';\n\nexport function getFieldValue(name: string, fields: SObjectField[]) {\n  const values = fields\n    .filter(field => field.name === name)\n    .map((field) => {\n      const value = field.displayValue || field.value;\n\n      switch (field.type) {\n        case SObjectFieldType.Currency:\n          return formatCurrency(value);\n        case SObjectFieldType.Date:\n          return moment(value).format('MM/DD/YYYY');\n        default:\n          return value;\n      }\n    });\n\n  if (values.length > 0) {\n    return values[0];\n  }\n\n  return '';\n}\n\nfunction getDueDate(fields: SObjectField[]) {\n  const value = getFieldValue('ActivityDate', fields);\n  if (!value) {\n    return null;\n  }\n\n  return <p className=\"description\">Due Date: {moment(value).format('MMMM D, YYYY')}</p>;\n}\n\nexport function getCreatedDate(fields: SObjectField[]) {\n  const value = getFieldValue('CreatedDate', fields);\n  if (!value) {\n    return null;\n  }\n\n  const date = moment(value);\n\n  if (date.isSame(new Date(), 'day')) {\n    return date.format('h:mm A');\n  }\n  return date.format('MMM DD');\n}\n\nexport function getIcon(subtype: string) {\n  switch (subtype) {\n    case SalesforceTaskSubtype.Task:\n      return <Task width=\"16px\" height=\"12px\" />;\n    case SalesforceTaskSubtype.Phone:\n      return <Phone width=\"16px\" height=\"12px\" />;\n    case SalesforceTaskSubtype.Email:\n      return <Mail width=\"16px\" height=\"12px\" />;\n    default:\n      return <Circle width=\"16px\" height=\"12px\" />;\n  }\n}\n\nfunction getCopy(subtype: string) {\n  switch (subtype) {\n    case SalesforceTaskSubtype.Task:\n      return 'has a task';\n    default:\n      // don't want to display unknown types\n      return '';\n  }\n}\n\nfunction cells(tasks: SObject[]) {\n  return tasks.map((item) => {\n    const subtype = getFieldValue('TaskSubtype', item.fields) as string;\n    return (\n      <div key={item.href} className=\"salesforce-components-activity-table-cell\">\n        <div className=\"meta\">\n          <div className=\"icon\">{getIcon(subtype)}</div>\n          <div className=\"owner\">{getFieldValue('OwnerId', item.fields)}</div>\n          <div className=\"type\">{getCopy(subtype)}</div>\n          <div className=\"date\">{getCreatedDate(item.fields)}</div>\n        </div>\n        <div className=\"header\">\n          <div className=\"subject\">\n            <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\n              {getFieldValue('Subject', item.fields)}\n            </a>\n          </div>\n        </div>\n        {getDueDate(item.fields)}\n      </div>\n    );\n  });\n}\n\ninterface Props {\n  tasks: SObject[];\n}\n\nconst TasksTable: React.SFC<Props> = ({ tasks }) => (\n  <div className=\"salesforce-components-activity-table\">\n    {tasks.length === 0 ? (\n      <div className=\"empty\">\n        No Tasks\n      </div>\n    ) : null}\n    {cells(tasks)}\n  </div>\n);\n\nexport default TasksTable;\n"]}]}