{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ThreadDetailHeader/ThreadDetailHeader.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ThreadDetailHeader/ThreadDetailHeader.tsx","mtime":1675280254045},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFRocmVhZEJveCwgRmlsdGVyQm94LCBJbnRlZ3JhdGlvblR5cGUsIH0gZnJvbSAnQHNyYy90eXBlcyc7CmltcG9ydCB7IHBhcnRpY2lwYW50c1RvU3RyaW5nIH0gZnJvbSAnQHNyYy9saWIvYWRkcmVzcyc7CmltcG9ydCBUaHJlYWREZXRhaWxIZWFkZXJJdGVtIGZyb20gJy4vVGhyZWFkRGV0YWlsSGVhZGVySXRlbSc7CmltcG9ydCBMaXN0SWNvbiBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvTGFiZWwuc3ZnJzsKaW1wb3J0IENsb3NlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9DbG9zZS5zdmcnOwppbXBvcnQgJy4vVGhyZWFkRGV0YWlsSGVhZGVyLnNjc3MnOwppbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7CmltcG9ydCB7IFNoYXJlZFRocmVhZFBlcm1pc3Npb25TY29wZSB9IGZyb20gJ0BzcmMvdHlwZXMvc2hhcmVkVGhyZWFkcyc7Ci8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGgKaW1wb3J0IFNoYXJlVGhyZWFkUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvVGhyZWFkRGV0YWlsL2NvbXBvbmVudHMvU2hhcmVUaHJlYWRQb3BvdmVyJzsKaW1wb3J0IHsgY2hlY2tOZXh0SG90a2V5Q2hhbmdlLCBIb3RrZXlBY3Rpb24gfSBmcm9tICdAc3JjL2xpYi9ob3RrZXlzJzsKaW1wb3J0IEJlc3Rvd0J1dHRvbiBmcm9tICcuL0Jlc3Rvd0J1dHRvbi9CZXN0b3dCdXR0b24nOwppbXBvcnQgVmlld2luZ1BpbGwgZnJvbSAnLi4vVmlld2luZ1BpbGwnOwp2YXIgVGhyZWFkRGV0YWlsSGVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFRocmVhZERldGFpbEhlYWRlciwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIFRocmVhZERldGFpbEhlYWRlcigpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZVNoYXJlUG9wb3ZlclNob3cgPSBmdW5jdGlvbiAoaW50ZWdyYXRpb24pIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHNoYXJlZFRocmVhZCA9IF9hLnNoYXJlZFRocmVhZCwgdGhyZWFkID0gX2EudGhyZWFkOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dTaGFyZVBvcG92ZXI6IHRydWUsIHNob3dTaGFyZUxvYWRpbmc6IHRydWUgfSk7CiAgICAgICAgICAgIGlmICghc2hhcmVkVGhyZWFkICYmIHRocmVhZCkgewogICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuY3JlYXRlU2hhcmVkVGhyZWFkKHsKICAgICAgICAgICAgICAgICAgICB0aHJlYWQ6IHRocmVhZC5pZCwKICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogewogICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogU2hhcmVkVGhyZWFkUGVybWlzc2lvblNjb3BlLlB1YmxpYywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGludGVncmF0aW9uKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGluaXRpYWxJbnRlZ3JhdGlvblZpZXc6IGludGVncmF0aW9uIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLyBIYW5kbGUgU2hhcmVkIFRocmVhZCBkZWxldGlvbgogICAgICAgIF90aGlzLmhhbmRsZVNoYXJlZFRocmVhZERlbGV0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHNoYXJlZFRocmVhZCA9IF9hLnNoYXJlZFRocmVhZCwgZGVsZXRlU2hhcmVkVGhyZWFkID0gX2EuZGVsZXRlU2hhcmVkVGhyZWFkOwogICAgICAgICAgICBpZiAoIXNoYXJlZFRocmVhZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRlbGV0ZVNoYXJlZFRocmVhZChzaGFyZWRUaHJlYWQuaWQpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU2hhcmVQb3BvdmVyU2hvd24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGluaXRpYWxJbnRlZ3JhdGlvblZpZXc6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgIHNob3dTaGFyZUxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUhvdGtleUFjdGlvbnNDaGFuZ2UgPSBmdW5jdGlvbiAob2xkQWN0aW9ucywgbmV3QWN0aW9ucykgewogICAgICAgICAgICAvLyBIYW5kbGUgQ0MgdG9nZ2xlCiAgICAgICAgICAgIGlmIChjaGVja05leHRIb3RrZXlDaGFuZ2UoSG90a2V5QWN0aW9uLkNyZWF0ZVNoYXJlTGluaywgbmV3QWN0aW9ucywgb2xkQWN0aW9ucykpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd1NoYXJlUG9wb3ZlcjogdHJ1ZSwgc2hvd1NoYXJlTG9hZGluZzogdHJ1ZSB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2hlY2tOZXh0SG90a2V5Q2hhbmdlKEhvdGtleUFjdGlvbi5TaGFyZVRvQXNhbmEsIG5ld0FjdGlvbnMsIG9sZEFjdGlvbnMpKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dTaGFyZVBvcG92ZXI6IHRydWUsIHNob3dTaGFyZUxvYWRpbmc6IHRydWUgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGluaXRpYWxJbnRlZ3JhdGlvblZpZXc6IEludGVncmF0aW9uVHlwZS5Bc2FuYSB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2hlY2tOZXh0SG90a2V5Q2hhbmdlKEhvdGtleUFjdGlvbi5TaGFyZVRvU2xhY2ssIG5ld0FjdGlvbnMsIG9sZEFjdGlvbnMpKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dTaGFyZVBvcG92ZXI6IHRydWUsIHNob3dTaGFyZUxvYWRpbmc6IHRydWUgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGluaXRpYWxJbnRlZ3JhdGlvblZpZXc6IEludGVncmF0aW9uVHlwZS5TbGFjayB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU2hhcmVQb3BvdmVyRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIHNldFNoYXJlTGluayA9IF9hLnNldFNoYXJlTGluaywgc2hhcmVkVGhyZWFkID0gX2Euc2hhcmVkVGhyZWFkOwogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3dTaGFyZVBvcG92ZXI6IGZhbHNlLCBzaG93U2hhcmVMb2FkaW5nOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyBzZXQgYmFjayB0byB0aHJlYWQgc2hhcmUgbGluayBpbnN0ZWFkIG9mIG1lc3NhZ2UgbGluawogICAgICAgICAgICAgICAgaWYgKHNoYXJlZFRocmVhZCkgewogICAgICAgICAgICAgICAgICAgIHNldFNoYXJlTGluayhzaGFyZWRUaHJlYWQuaWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNoYXJlZFRocmVhZFVwZGF0ZSA9IGZ1bmN0aW9uIChtZXRhKSB7CiAgICAgICAgICAgIF90aGlzLnByb3BzLnVwZGF0ZVNoYXJlZFRocmVhZChtZXRhKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLnN0YXRlID0gewogICAgICAgICAgICBzaG93U2hhcmVQb3BvdmVyOiBmYWxzZSwKICAgICAgICAgICAgc2hvd1NoYXJlTG9hZGluZzogZmFsc2UsCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBUaHJlYWREZXRhaWxIZWFkZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChvbGRQcm9wcykgewogICAgICAgIHZhciBvbGRBY3Rpb25zID0gb2xkUHJvcHMuaG90a2V5QWN0aW9uczsKICAgICAgICB2YXIgbmV3QWN0aW9ucyA9IHRoaXMucHJvcHMuaG90a2V5QWN0aW9uczsKICAgICAgICBpZiAob2xkQWN0aW9ucyAmJiBuZXdBY3Rpb25zICYmIG9sZEFjdGlvbnMgIT09IG5ld0FjdGlvbnMpIHsKICAgICAgICAgICAgdGhpcy5oYW5kbGVIb3RrZXlBY3Rpb25zQ2hhbmdlKG9sZEFjdGlvbnMsIG5ld0FjdGlvbnMpOwogICAgICAgIH0KICAgIH07CiAgICBUaHJlYWREZXRhaWxIZWFkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHNoYXJlZFRocmVhZCA9IF9hLnNoYXJlZFRocmVhZCwgb25BY3Rpb25DbGljayA9IF9hLm9uQWN0aW9uQ2xpY2ssIHNoYXJlZE1lbWJlclBob3RvVXJsID0gX2Euc2hhcmVkTWVtYmVyUGhvdG9VcmwsIGlzU2hhcmVkVGhyZWFkT3duZXIgPSBfYS5pc1NoYXJlZFRocmVhZE93bmVyLCBzaGFyZWRUZWFtTWVtYmVyID0gX2Euc2hhcmVkVGVhbU1lbWJlciwgc2hhcmVMaW5rID0gX2Euc2hhcmVMaW5rLCBhc2FuYUVuYWJsZWQgPSBfYS5hc2FuYUVuYWJsZWQsIHNsYWNrRW5hYmxlZCA9IF9hLnNsYWNrRW5hYmxlZCwgaXNCbG9ja2VkID0gX2EuaXNCbG9ja2VkLCB0aHJlYWQgPSBfYS50aHJlYWQ7CiAgICAgICAgdmFyIF9iID0gdGhpcy5zdGF0ZSwgc2hvd1NoYXJlUG9wb3ZlciA9IF9iLnNob3dTaGFyZVBvcG92ZXIsIHNob3dTaGFyZUxvYWRpbmcgPSBfYi5zaG93U2hhcmVMb2FkaW5nOwogICAgICAgIHZhciBvcHRpb25zID0gWwogICAgICAgICAgICBUaHJlYWRCb3guSW5ib3gsCiAgICAgICAgICAgIFRocmVhZEJveC5MYXRlciwKICAgICAgICAgICAgVGhyZWFkQm94LkFyY2hpdmUsCiAgICAgICAgICAgIFRocmVhZEJveC5UcmFzaCwKICAgICAgICAgICAgRmlsdGVyQm94LlN0YXJyZWQsCiAgICAgICAgICAgIFRocmVhZEJveC5MaXN0LAogICAgICAgICAgICBGaWx0ZXJCb3guVW5yZWFkLAogICAgICAgICAgICAnTXV0ZSBDb252ZXJzYXRpb24nLAogICAgICAgICAgICAnQmxvY2sgU2VuZGVyJywKICAgICAgICBdOwogICAgICAgIHZhciBsYWJlbCA9IHRoaXMucHJvcHMubGlzdHMgJiYgdGhpcy5wcm9wcy50aHJlYWQgJiYgdGhpcy5wcm9wcy50aHJlYWQubGlzdAogICAgICAgICAgICA/IHRoaXMucHJvcHMubGlzdHMKICAgICAgICAgICAgICAgIC5maW5kKGZ1bmN0aW9uIChsKSB7IHJldHVybiAhIV90aGlzLnByb3BzLnRocmVhZCAmJiBsLmlkID09PSBfdGhpcy5wcm9wcy50aHJlYWQubGlzdDsgfSkKICAgICAgICAgICAgOiB1bmRlZmluZWQ7CiAgICAgICAgdmFyIGhhbmRsZUNsb3NlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBvbkFjdGlvbkNsaWNrKFRocmVhZEJveC5BcmNoaXZlKTsKICAgICAgICB9OwogICAgICAgIC8vIExhYmVscyBmb3IgYmxvY2svbXV0ZSBwcm9wZXJ0aWVzCiAgICAgICAgdmFyIHRocmVhZE11dGVkID0gdGhpcy5wcm9wcy50aHJlYWQgJiYgdGhpcy5wcm9wcy50aHJlYWQubXV0ZWQgfHwgZmFsc2U7CiAgICAgICAgdmFyIHNlbmRlckJsb2NrZWQgPSB0aGlzLnByb3BzLmlzQmxvY2tlZCB8fCBmYWxzZTsKICAgICAgICB2YXIgYmxvY2tlZENvcHkgPSAnJzsKICAgICAgICBpZiAodGhyZWFkTXV0ZWQpIHsKICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aAogICAgICAgICAgICBibG9ja2VkQ29weSA9ICfwn5SUVGhpcyBjb252ZXJzYXRpb24gaXMgbXV0ZWQuIFlvdSB3aWxsIG5vdCByZWNlaXZlIG5vdGlmaWNhdGlvbnMgZm9yIG5ldyBtZXNzYWdlcy4nOwogICAgICAgIH0KICAgICAgICBpZiAoc2VuZGVyQmxvY2tlZCkgewogICAgICAgICAgICBibG9ja2VkQ29weSA9ICfwn5mFTWVzc2FnZXMgZnJvbSB0aGlzIHNlbmRlciBhcmUgYmxvY2tlZCBhbmQgaW1tZWRpYXRlbHkgbW92ZWQgdG8gdHJhc2gnOwogICAgICAgIH0KICAgICAgICBpZiAodGhyZWFkTXV0ZWQgJiYgc2VuZGVyQmxvY2tlZCkgewogICAgICAgICAgICBibG9ja2VkQ29weSA9ICdUaGlzIGNvbnZlcnNhdGlvbiBpcyBibG9ja2VkIGFuZCBtdXRlZCc7CiAgICAgICAgfQogICAgICAgIC8vIE5lZWQgdG8gYWRkIGF2YXRhciBmb3IgdGVhbSBtZW1iZXIgbmFtZQogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0aHJlYWQtZGV0YWlsLWhlYWRlciIgfSwKICAgICAgICAgICAgc2hhcmVkVGhyZWFkICYmIHNoYXJlZFRlYW1NZW1iZXIgJiYKICAgICAgICAgICAgICAgICFpc1NoYXJlZFRocmVhZE93bmVyICYmCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNoYXJlZC10aHJlYWQtaGVhZGluZyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNoYXJlZC1sYWJlbCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkTWVtYmVyUGhvdG9VcmwgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImltZyIsIHsgY2xhc3NOYW1lOiAibWVtYmVyLWF2YXRhciIsIHNyYzogc2hhcmVkTWVtYmVyUGhvdG9VcmwgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7IGNsYXNzTmFtZTogIm5hbWUtbGFiZWwiIH0sIHNoYXJlZFRlYW1NZW1iZXIuZmlyc3ROYW1lICsgIiAiICsgc2hhcmVkVGVhbU1lbWJlci5sYXN0TmFtZSArICIgIiksCiAgICAgICAgICAgICAgICAgICAgICAgICIgc2hhcmVkIiksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ2aWV3aW5nLXdyYXBwZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlld2luZ1BpbGwsIG51bGwpKSksCiAgICAgICAgICAgICF0aGlzLnByb3BzLmhpZGVBY3Rpb25zICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWN0aW9uLWJ1dHRvbnMiIH0sCiAgICAgICAgICAgICAgICBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhyZWFkRGV0YWlsSGVhZGVySXRlbSwgeyBrZXk6IG9wdGlvbiwgYm94OiBvcHRpb24sIG9uQ2xpY2s6IG9uQWN0aW9uQ2xpY2ssIHRocmVhZDogdGhyZWFkLCBpc0Jsb2NrZWQ6IGlzQmxvY2tlZCB9KTsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ2aWV3aW5nLXdyYXBwZXIiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChWaWV3aW5nUGlsbCwgbnVsbCkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCZXN0b3dCdXR0b24sIHsgb25TaGFyZUNsaWNrOiB0aGlzLmhhbmRsZVNoYXJlUG9wb3ZlclNob3csIGxvYWRpbmc6IHNob3dTaGFyZUxvYWRpbmcsIGFzYW5hRW5hYmxlZDogYXNhbmFFbmFibGVkLCBzbGFja0VuYWJsZWQ6IHNsYWNrRW5hYmxlZCwgaXNTaGFyZWQ6ICEhc2hhcmVkVGhyZWFkIH0pLAogICAgICAgICAgICAgICAgc2hvd1NoYXJlUG9wb3ZlciAmJiBzaGFyZWRUaHJlYWQgJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFNoYXJlVGhyZWFkUG9wb3ZlciwgeyBzaGFyZWRUaHJlYWQ6IHNoYXJlZFRocmVhZCwgb25EaXNtaXNzOiB0aGlzLmhhbmRsZVNoYXJlUG9wb3ZlckRpc21pc3MsIG9uU2hhcmVkVGhyZWFkVXBkYXRlOiB0aGlzLmhhbmRsZVNoYXJlZFRocmVhZFVwZGF0ZSwgc2hhcmVMaW5rOiBzaGFyZUxpbmssIGFzYW5hRW5hYmxlZDogYXNhbmFFbmFibGVkLCBpbml0aWFsSW50ZWdyYXRpb25WaWV3OiB0aGlzLnN0YXRlLmluaXRpYWxJbnRlZ3JhdGlvblZpZXcsIG9uU2hvdzogdGhpcy5oYW5kbGVTaGFyZVBvcG92ZXJTaG93biwgZGVsZXRlU2hhcmVkVGhyZWFkOiB0aGlzLmhhbmRsZVNoYXJlZFRocmVhZERlbGV0ZSB9KSksCiAgICAgICAgICAgICh0aHJlYWRNdXRlZCB8fCBzZW5kZXJCbG9ja2VkKSAmJgogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJibG9ja2VkLWxhYmVsIiB9LCBibG9ja2VkQ29weSksCiAgICAgICAgICAgIGxhYmVsICYmIHRoaXMucHJvcHMudGhyZWFkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibGFiZWxzIiB9LAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpY29uIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEljb24sIG51bGwpKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGluaywgeyBjbGFzc05hbWU6ICJsYWJlbCIsIHRvOiAiL21haWwvYWxsL2xpc3RzLyIgKyBsYWJlbC5pZCArICIvIiArIHRoaXMucHJvcHMudGhyZWFkLmlkIH0sCiAgICAgICAgICAgICAgICAgICAgbGFiZWwubmFtZSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImNsb3NlIiwgb25DbGljazogaGFuZGxlQ2xvc2UgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZSwgeyB3aWR0aDogIjZweCIsIGhlaWdodDogIjZweCIgfSkpKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic3ViamVjdCIgfSwgdGhpcy5wcm9wcy5zdWJqZWN0KSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwYXJ0aWNpcGFudHMiIH0sIHBhcnRpY2lwYW50c1RvU3RyaW5nKHRoaXMucHJvcHMucGFydGljaXBhbnRzLCB0aGlzLnByb3BzLm1lKSkpKTsKICAgIH07CiAgICByZXR1cm4gVGhyZWFkRGV0YWlsSGVhZGVyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgVGhyZWFkRGV0YWlsSGVhZGVyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ThreadDetailHeader/ThreadDetailHeader.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/ThreadDetailHeader/ThreadDetailHeader.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport {\n  Address,\n  CommandControlType,\n  ThreadBox,\n  FilterBox,\n  Me,\n  Thread,\n  List,\n  TeamMember,\n  HotkeyActions,\n  ShareLink,\n  IntegrationType,\n} from '@src/types';\nimport { participantsToString } from '@src/lib/address';\nimport ThreadDetailHeaderItem from './ThreadDetailHeaderItem';\nimport ListIcon from '@src/components/Icons/Label.svg';\nimport Close from '@src/components/Icons/Close.svg';\n\nimport './ThreadDetailHeader.scss';\nimport { Link } from 'react-router-dom';\nimport { SharedThread, SharedThreadPermissionScope } from '@src/types/sharedThreads';\n\n// tslint:disable-next-line:max-line-length\nimport ShareThreadPopover from '@src/components/ThreadDetail/components/ShareThreadPopover';\nimport { SharedThreadCreateMeta } from '@src/ducks/sharedThreads';\nimport { checkNextHotkeyChange, HotkeyAction } from '@src/lib/hotkeys';\nimport BestowButton from './BestowButton/BestowButton';\nimport ViewingPill from '../ViewingPill';\n\nexport interface Props {\n  subject: string;\n  participants: Address[];\n  onActionClick: (action: ThreadBox | FilterBox) => void;\n  commandControlShow: (type: CommandControlType) => void;\n  showUnsubscribe: boolean;\n  hideActions?: boolean;\n\n  thread?: Thread;\n  me?: Me;\n  lists?: List[];\n  sharedThread?: SharedThread;\n}\n\nexport interface StateProps {\n  sharedTeamMember?: TeamMember;\n  sharedMemberPhotoUrl?: string;\n  isSharedThreadOwner?: boolean;\n  commentsEnabled?: boolean;\n  hotkeyActions?: HotkeyActions;\n  shareLink?: ShareLink;\n  asanaEnabled: boolean;\n  slackEnabled: boolean;\n  isBlocked?: boolean;\n}\n\nexport interface DispatchProps {\n  createSharedThread: (meta: SharedThreadCreateMeta) => void;\n  updateSharedThread: (meta: SharedThread) => void;\n  deleteSharedThread: (meta: string) => void;\n  setShareLink: (id: string) => void;\n}\n\ninterface State {\n  showSharePopover: boolean;\n  showShareLoading: boolean;\n  initialIntegrationView?: IntegrationType;\n}\n\nclass ThreadDetailHeader extends React.PureComponent<Props & StateProps & DispatchProps, State> {\n  constructor() {\n    super();\n    this.state = {\n      showSharePopover: false,\n      showShareLoading: false,\n    };\n  }\n\n  componentDidUpdate(oldProps: StateProps) {\n    const oldActions = oldProps.hotkeyActions;\n    const newActions = this.props.hotkeyActions;\n    if (oldActions  && newActions && oldActions !== newActions) {\n      this.handleHotkeyActionsChange(oldActions, newActions);\n    }\n  }\n\n  handleSharePopoverShow = (integration?: IntegrationType) => {\n    const { sharedThread, thread } = this.props;\n    this.setState({ showSharePopover: true, showShareLoading: true });\n    if (!sharedThread && thread) {\n      this.props.createSharedThread({\n        thread: thread.id,\n        permissions: {\n          scope: SharedThreadPermissionScope.Public,\n        },\n      });\n    }\n\n    if (integration) {\n      this.setState({ initialIntegrationView: integration });\n    }\n  }\n\n  // Handle Shared Thread deletion\n  handleSharedThreadDelete = () => {\n    const { sharedThread, deleteSharedThread } = this.props;\n    if (!sharedThread) {\n      return;\n    }\n\n    deleteSharedThread(sharedThread.id);\n  }\n\n  handleSharePopoverShown = () => {\n    this.setState({\n      initialIntegrationView: undefined,\n      showShareLoading: false,\n    });\n  }\n\n  handleHotkeyActionsChange = (\n    oldActions: { [action: string]: number },\n    newActions: { [action: string]: number },\n  ) => {\n    // Handle CC toggle\n    if (checkNextHotkeyChange(HotkeyAction.CreateShareLink, newActions, oldActions)) {\n      this.setState({ showSharePopover: true, showShareLoading: true });\n    }\n\n    if (checkNextHotkeyChange(HotkeyAction.ShareToAsana, newActions, oldActions)) {\n      this.setState({ showSharePopover: true, showShareLoading: true });\n      this.setState({ initialIntegrationView: IntegrationType.Asana });\n    }\n\n    if (checkNextHotkeyChange(HotkeyAction.ShareToSlack, newActions, oldActions)) {\n      this.setState({ showSharePopover: true, showShareLoading: true });\n      this.setState({ initialIntegrationView: IntegrationType.Slack });\n    }\n  }\n\n  handleSharePopoverDismiss = () => {\n    const { setShareLink, sharedThread } = this.props;\n\n    this.setState({ showSharePopover: false, showShareLoading: false }, () => {\n      // set back to thread share link instead of message link\n      if (sharedThread) {\n        setShareLink(sharedThread.id);\n      }\n    });\n  }\n\n  handleSharedThreadUpdate = (meta: SharedThread) => {\n    this.props.updateSharedThread(meta);\n  }\n\n  render() {\n    const {\n      sharedThread,\n      onActionClick,\n      sharedMemberPhotoUrl,\n      isSharedThreadOwner,\n      sharedTeamMember,\n      shareLink,\n      asanaEnabled,\n      slackEnabled,\n      isBlocked,\n      thread,\n    } = this.props;\n    const { showSharePopover, showShareLoading } = this.state;\n    const options = [\n      ThreadBox.Inbox,\n      ThreadBox.Later,\n      ThreadBox.Archive,\n      ThreadBox.Trash,\n      FilterBox.Starred,\n      ThreadBox.List,\n      FilterBox.Unread,\n      'Mute Conversation',\n      'Block Sender',\n    ];\n    const label = this.props.lists && this.props.thread && this.props.thread.list\n      ? this.props.lists\n        .find(l => !!this.props.thread && l.id === this.props.thread.list)\n      : undefined;\n    const handleClose = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      onActionClick(ThreadBox.Archive);\n    };\n\n    // Labels for block/mute properties\n    const threadMuted = this.props.thread && this.props.thread.muted || false;\n    const senderBlocked = this.props.isBlocked || false;\n    let blockedCopy: string = '';\n    if (threadMuted) {\n      // tslint:disable-next-line:max-line-length\n      blockedCopy = '🔔This conversation is muted. You will not receive notifications for new messages.';\n    }\n\n    if (senderBlocked) {\n      blockedCopy = '🙅Messages from this sender are blocked and immediately moved to trash';\n    }\n\n    if (threadMuted && senderBlocked) {\n      blockedCopy = 'This conversation is blocked and muted';\n    }\n\n    // Need to add avatar for team member name\n    return (\n      <div className=\"thread-detail-header\">\n        {sharedThread && sharedTeamMember &&\n          !isSharedThreadOwner &&\n          <div className=\"shared-thread-heading\">\n            <div className=\"shared-label\">\n              {sharedMemberPhotoUrl &&\n                <img className=\"member-avatar\" src={sharedMemberPhotoUrl} />\n              }\n              <span className=\"name-label\">\n                {`${sharedTeamMember.firstName} ${sharedTeamMember.lastName} `}\n              </span> shared\n            </div>\n            <div className=\"viewing-wrapper\"><ViewingPill /></div>\n          </div>\n        }\n        {!this.props.hideActions && <div className=\"action-buttons\">\n          {options.map(option =>\n            <ThreadDetailHeaderItem\n              key={option}\n              box={option}\n              onClick={onActionClick}\n              thread={thread}\n              isBlocked={isBlocked}\n            />,\n          )}\n          <div className=\"viewing-wrapper\">\n            <ViewingPill />\n          </div>\n          <BestowButton\n            onShareClick={this.handleSharePopoverShow}\n            loading={showShareLoading}\n            asanaEnabled={asanaEnabled}\n            slackEnabled={slackEnabled}\n            isShared={!!sharedThread}\n          />\n          {showSharePopover && sharedThread &&\n            <ShareThreadPopover\n              sharedThread={sharedThread}\n              onDismiss={this.handleSharePopoverDismiss}\n              onSharedThreadUpdate={this.handleSharedThreadUpdate}\n              shareLink={shareLink}\n              asanaEnabled={asanaEnabled}\n              initialIntegrationView={this.state.initialIntegrationView}\n              onShow={this.handleSharePopoverShown}\n              deleteSharedThread={this.handleSharedThreadDelete}\n            />\n          }\n        </div>}\n        {(threadMuted || senderBlocked) &&\n          <div className=\"blocked-label\">\n            {blockedCopy}\n          </div>\n        }\n        {label && this.props.thread && <div className=\"labels\">\n          <div className=\"icon\">\n            <ListIcon />\n          </div>\n          <Link className=\"label\" to={`/mail/all/lists/${label.id}/${this.props.thread.id}`}>\n            {label.name}\n            <button className=\"close\" onClick={handleClose}>\n              <Close width=\"6px\" height=\"6px\" />\n            </button>\n          </Link>\n        </div>}\n        <div className=\"subject\">\n          {this.props.subject}\n        </div>\n        <div className=\"participants\">\n          {participantsToString(this.props.participants, this.props.me)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ThreadDetailHeader;\n"]}]}