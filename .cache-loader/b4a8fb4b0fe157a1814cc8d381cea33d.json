{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/CommentConfirmationPopover/CommentConfirmationPopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/CommentConfirmationPopover/CommentConfirmationPopover.tsx","mtime":1675280254040},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEtleUNvZGUgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0ICcuL0NvbW1lbnRDb25maXJtYXRpb25Qb3BvdmVyLnNjc3MnOwp2YXIgQ29tbWVudENvbmZpcm1hdGlvblBvcG92ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoQ29tbWVudENvbmZpcm1hdGlvblBvcG92ZXIsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBDb21tZW50Q29uZmlybWF0aW9uUG9wb3ZlcigpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVIb3RLZXlzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uQ2FuY2VsID0gX2Eub25DYW5jZWwsIG9uQ29uZmlybSA9IF9hLm9uQ29uZmlybTsKICAgICAgICAgICAgdmFyIGhhbmRsZWQgPSBmYWxzZTsKICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5Fc2M6CiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWwoKTsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5FbnRlcjoKICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm0oKTsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGhhbmRsZWQpIHsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIENvbW1lbnRDb25maXJtYXRpb25Qb3BvdmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgb3V0c2lkZU1lbnRpb25zID0gX2Eub3V0c2lkZU1lbnRpb25zLCBvbkNvbmZpcm0gPSBfYS5vbkNvbmZpcm0sIG9uQ2FuY2VsID0gX2Eub25DYW5jZWwsIHRlYW0gPSBfYS50ZWFtLCB0cmlhbGluZyA9IF9hLnRyaWFsaW5nOwogICAgICAgIGlmICghb3V0c2lkZU1lbnRpb25zLmxlbmd0aCB8fCAhdGVhbSkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgdmFyIHRleHQgPSBvdXRzaWRlTWVudGlvbnMubGVuZ3RoID4gMSA/CiAgICAgICAgICAgIG91dHNpZGVNZW50aW9ucy5sZW5ndGggKyAiIHBlb3BsZSBvdXRzaWRlIHlvdXIgdGVhbSIgOiBvdXRzaWRlTWVudGlvbnNbMF07CiAgICAgICAgdmFyIHRlYW1OYW1lID0gdGVhbS5uYW1lOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjb21tZW50LWNvbmZpcm1hdGlvbi1wb3BvdmVyIiwgb25LZXlEb3duOiB0aGlzLmhhbmRsZUhvdEtleXMsIHRhYkluZGV4OiAtMSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm92ZXJsYXkiIH0pLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1haW4iIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRleHQiIH0sCiAgICAgICAgICAgICAgICAgICAgIkJ5IG1lbnRpb25pbmcgIiwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJiIiwgbnVsbCwgdGV4dCksCiAgICAgICAgICAgICAgICAgICAgIiwgdGhleVx1MjAxOWxsIGJlIGludml0ZWQgdG8gam9pbiAiLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLCB0ZWFtTmFtZSksCiAgICAgICAgICAgICAgICAgICAgIiBvbiBQb2x5bWFpbC4iKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWN0aW9ucyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNhbmNlbC13cmFwcGVyIGJ1dHRvbi13cmFwcGVyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImNhbmNlbCIsIG9uQ2xpY2s6IG9uQ2FuY2VsIH0sICJDYW5jZWwiKSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJsYWJlbCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLCAiRXNjIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIHRvIGNhbmNlbCIpKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNvbmZpcm0td3JhcHBlciBidXR0b24td3JhcHBlciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJjb25maXJtIiwgb25DbGljazogb25Db25maXJtIH0sICJTZW5kIiksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibGFiZWwiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJiIiwgbnVsbCwgIlJldHVybiBcdTJCOTAiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgdG8gc2VuZCIpKSksCiAgICAgICAgICAgICAgICAhdHJpYWxpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzbWFsbCIgfSwgIllvdVx1MjAxOWxsIGJlIGNoYXJnZWQgYSBwcm9yYXRlZCBhbW91bnQgZm9yIGVhY2ggbmV3IG1lbWJlciB3aG8gam9pbnMuIikpKSk7CiAgICB9OwogICAgcmV0dXJuIENvbW1lbnRDb25maXJtYXRpb25Qb3BvdmVyOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQ29tbWVudENvbmZpcm1hdGlvblBvcG92ZXI7Cg=="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/CommentConfirmationPopover/CommentConfirmationPopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Composer/components/CommentEditor/CommentConfirmationPopover/CommentConfirmationPopover.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAQ,OAAO,EAAE,MAAM,YAAY,CAAC;AAC3C,OAAO,mCAAmC,CAAC;AAa3C;IAAyC,8CAAuC;IAAhF;QAAA,qEA+DC;QA9DC,mBAAa,GAAG,UAAC,CAAsC;YAC/C,IAAA,gBAAoC,EAAlC,sBAAQ,EAAE,wBAAwB,CAAC;YAC3C,IAAI,OAAO,GAAG,KAAK,CAAC;YAEpB,QAAQ,CAAC,CAAC,OAAO,EAAE;gBACjB,KAAK,OAAO,CAAC,GAAG;oBACd,QAAQ,EAAE,CAAC;oBACX,OAAO,GAAG,IAAI,CAAC;oBACf,MAAM;gBACR,KAAK,OAAO,CAAC,KAAK;oBAChB,SAAS,EAAE,CAAC;oBACZ,OAAO,GAAG,IAAI,CAAC;oBACf,MAAM;gBACR;oBACE,MAAM;aACT;YAED,IAAI,OAAO,EAAE;gBACX,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;aACrB;QACH,CAAC,CAAA;;IAyCH,CAAC;IAvCC,2CAAM,GAAN;QACQ,IAAA,eAAqE,EAAnE,oCAAe,EAAE,wBAAS,EAAE,sBAAQ,EAAE,cAAI,EAAE,sBAAuB,CAAC;QAE5E,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE;YACpC,OAAO,IAAI,CAAC;SACb;QAED,IAAM,IAAI,GAAG,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACpC,eAAe,CAAC,MAAM,8BAA2B,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;QAE3B,OAAO,CACL,6BACE,SAAS,EAAC,8BAA8B,EACxC,SAAS,EAAE,IAAI,CAAC,aAAa,EAC7B,QAAQ,EAAE,CAAC,CAAC;YAEZ,6BAAK,SAAS,EAAC,SAAS,GAAG;YAC3B,6BAAK,SAAS,EAAC,MAAM;gBACnB,6BAAK,SAAS,EAAC,MAAM;;oBACL,+BAAI,IAAI,CAAK;;oBAA6B,+BAAI,QAAQ,CAAK;oCACrE;gBACN,6BAAK,SAAS,EAAC,SAAS;oBACtB,6BAAK,SAAS,EAAC,+BAA+B;wBAC5C,gCAAQ,SAAS,EAAC,QAAQ,EAAC,OAAO,EAAE,QAAQ,aAAiB;wBAC7D,6BAAK,SAAS,EAAC,OAAO;4BAAC,qCAAU;yCAAgB,CAC7C;oBACN,6BAAK,SAAS,EAAC,gCAAgC;wBAC7C,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,SAAS,WAAe;wBAC7D,6BAAK,SAAS,EAAC,OAAO;4BAAC,+CAAe;uCAAc,CAChD,CACF;gBACL,CAAC,QAAQ,IAAI,6BAAK,SAAS,EAAC,OAAO,8EAE9B,CACF,CACF,CACP,CAAC;IACJ,CAAC;IACH,iCAAC;AAAD,CAAC,AA/DD,CAAyC,KAAK,CAAC,aAAa,GA+D3D;AAED,eAAe,0BAA0B,CAAC","sourcesContent":["import React from 'react';\nimport { Team, KeyCode } from '@src/types';\nimport './CommentConfirmationPopover.scss';\n\nexport interface Props {\n  outsideMentions: string[];\n  onConfirm: () => void;\n  onCancel: () => void;\n}\n\nexport interface StateProps {\n  team?: Team;\n  trialing: boolean;\n}\n\nclass CommentConfirmationPopover extends React.PureComponent<Props & StateProps> {\n  handleHotKeys = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    const { onCancel, onConfirm } = this.props;\n    let handled = false;\n\n    switch (e.keyCode) {\n      case KeyCode.Esc:\n        onCancel();\n        handled = true;\n        break;\n      case KeyCode.Enter:\n        onConfirm();\n        handled = true;\n        break;\n      default:\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  render() {\n    const { outsideMentions, onConfirm, onCancel, team, trialing } = this.props;\n\n    if (!outsideMentions.length || !team) {\n      return null;\n    }\n\n    const text = outsideMentions.length > 1 ?\n      `${outsideMentions.length} people outside your team` : outsideMentions[0];\n    const teamName = team.name;\n\n    return (\n      <div\n        className=\"comment-confirmation-popover\"\n        onKeyDown={this.handleHotKeys}\n        tabIndex={-1}\n      >\n        <div className=\"overlay\" />\n        <div className=\"main\">\n          <div className=\"text\">\n            By mentioning <b>{text}</b>, they’ll be invited to join <b>{teamName}</b> on Polymail.\n          </div>\n          <div className=\"actions\">\n            <div className=\"cancel-wrapper button-wrapper\">\n              <button className=\"cancel\" onClick={onCancel}>Cancel</button>\n              <div className=\"label\"><b>Esc</b> to cancel</div>\n            </div>\n            <div className=\"confirm-wrapper button-wrapper\">\n              <button className=\"confirm\" onClick={onConfirm}>Send</button>\n              <div className=\"label\"><b>Return ⮐</b> to send</div>\n            </div>\n          </div>\n          {!trialing && <div className=\"small\">\n            You’ll be charged a prorated amount for each new member who joins.\n          </div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CommentConfirmationPopover;\n"]}]}