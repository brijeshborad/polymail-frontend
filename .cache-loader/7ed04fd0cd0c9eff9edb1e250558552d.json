{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/MessageTemplates/routes/MessageTemplateChooser/MessageTemplateChooser.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/MessageTemplates/routes/MessageTemplateChooser/MessageTemplateChooser.tsx","mtime":1675280254084},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7CmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgc2VsZWN0UGhvdG9VcmwgfSBmcm9tICdAc3JjL2R1Y2tzL3RlYW1NZW1iZXJzJzsKaW1wb3J0IHsgZXh0cmFjdFRleHQgfSBmcm9tICdAc3JjL2xpYi9odG1sJzsKaW1wb3J0IExvY2sgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL0xvY2suc3ZnJzsKaW1wb3J0IFBsdXMgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL1BsdXMuc3ZnJzsKaW1wb3J0ICcuL01lc3NhZ2VUZW1wbGF0ZUNob29zZXIuc2Nzcyc7CnZhciBNZXNzYWdlVGVtcGxhdGVDaG9vc2VyID0gZnVuY3Rpb24gKHByb3BzKSB7CiAgICB2YXIgZmVhdHVyZXMgPSBwcm9wcy5mZWF0dXJlczsKICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ21lc3NhZ2UtdGVtcGxhdGUtY2hvb3NlcicsIHsKICAgICAgICAgICAgJ3Nob3VsZC11cGdyYWRlJzogIWZlYXR1cmVzLm1lc3NhZ2VUZW1wbGF0ZXMsCiAgICAgICAgfSkgfSwKICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHsgY2xhc3NOYW1lOiAibmV3IiwgdG86ICIvdGVtcGxhdGVzL25ldyIgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJjb250YWluZXIiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBsdXMsIHsgY2xhc3NOYW1lOiAiaWNvbiIgfSksCiAgICAgICAgICAgICAgICAiQ3JlYXRlIE5ldyBUZW1wbGF0ZSIpKSwKICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRhYmxlIiB9LCBwcm9wcy50ZW1wbGF0ZXMKICAgICAgICAgICAgLnNvcnQoZnVuY3Rpb24gKHByZXYsIG5leHQpIHsgcmV0dXJuIHByZXYudXBkYXRlZC5nZXRUaW1lKCkgPCBuZXh0LnVwZGF0ZWQuZ2V0VGltZSgpID8gMSA6IC0xOyB9KQogICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0ZW1wbGF0ZSwgaW5kZXgpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHsgY2xhc3NOYW1lOiAidGVtcGxhdGUiLCB0bzogIi90ZW1wbGF0ZXMvIiArIHRlbXBsYXRlLmlkLCBrZXk6IGluZGV4IH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdjb250YWluZXInLCB7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHRlbXBsYXRlICYmICEhcHJvcHMuc2VsZWN0ZWRUZW1wbGF0ZSAmJgogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5pZCA9PT0gcHJvcHMuc2VsZWN0ZWRUZW1wbGF0ZSwKICAgICAgICAgICAgICAgIH0pIH0sCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSAmJiBwcm9wcy5tZSAmJiBwcm9wcy50ZWFtTWVtYmVycyAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImltZyIsIHsgY2xhc3NOYW1lOiAicHJvZmlsZS1waWMiLCBzcmM6IHNlbGVjdFBob3RvVXJsKHByb3BzLnRlYW1NZW1iZXJzLCBwcm9wcy5tZSwgdGVtcGxhdGUudXNlcikgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNvbnRlbnQtY29sdW1uIiB9LAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg0IiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgdGVtcGxhdGUubmFtZSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCB7IGNsYXNzTmFtZTogInN1YnRpdGxlIiB9LCBleHRyYWN0VGV4dCh0ZW1wbGF0ZS5ib2R5LCAxMDApKSksCiAgICAgICAgICAgICAgICAhdGVtcGxhdGUudGVhbSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KExvY2ssIHsgY2xhc3NOYW1lOiAibG9jayIgfSkpKSk7IH0pKSkpOwp9OwpleHBvcnQgZGVmYXVsdCBNZXNzYWdlVGVtcGxhdGVDaG9vc2VyOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/MessageTemplates/routes/MessageTemplateChooser/MessageTemplateChooser.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/MessageTemplates/routes/MessageTemplateChooser/MessageTemplateChooser.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,UAAU,MAAM,YAAY,CAAC;AACpC,OAAO,EAAE,IAAI,EAAE,MAAM,kBAAkB,CAAC;AAIxC,OAAO,EAAE,cAAc,EAAE,MAAM,wBAAwB,CAAC;AAExD,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAC5C,OAAO,IAAI,MAAM,gCAAgC,CAAC;AAClD,OAAO,IAAI,MAAM,gCAAgC,CAAC;AAElD,OAAO,+BAA+B,CAAC;AAUvC,IAAM,sBAAsB,GAAG,UAAC,KAAY;IAClC,IAAA,yBAAQ,CAAW;IAE3B,OAAO,CACL,6BACE,SAAS,EAAE,UAAU,CAAC,0BAA0B,EAAE;YAChD,gBAAgB,EAAE,CAAC,QAAQ,CAAC,gBAAgB;SAC7C,CAAC;QAEF,oBAAC,IAAI,IAAC,SAAS,EAAC,KAAK,EAAC,EAAE,EAAC,gBAAgB;YACvC,6BAAK,SAAS,EAAC,WAAW;gBACxB,oBAAC,IAAI,IAAC,SAAS,EAAC,MAAM,GAAE;sCAEpB,CACD;QACP,6BAAK,SAAS,EAAC,OAAO,IACnB,KAAK,CAAC,SAAS;aACb,IAAI,CAAC,UAAC,IAAI,EAAE,IAAI,IAAK,OAAA,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAxD,CAAwD,CAAC;aAC9E,GAAG,CAAC,UAAC,QAAQ,EAAE,KAAK,IAAK,OAAA,CACxB,oBAAC,IAAI,IAAC,SAAS,EAAC,UAAU,EAAC,EAAE,EAAE,gBAAc,QAAQ,CAAC,EAAI,EAAE,GAAG,EAAE,KAAK;YACpE,6BACE,SAAS,EAAE,UAAU,CAAC,WAAW,EAAE;oBACjC,QAAQ,EAAE,QAAQ,IAAI,CAAC,CAAC,KAAK,CAAC,gBAAgB;wBAC9C,QAAQ,CAAC,EAAE,KAAK,KAAK,CAAC,gBAAgB;iBACvC,CAAC;gBAED,QAAQ,IAAI,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,WAAW;oBACxC,6BACE,SAAS,EAAC,aAAa,EACvB,GAAG,EAAE,cAAc,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,CAAC,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,GAC/D;gBAEJ,6BAAK,SAAS,EAAC,gBAAgB;oBAC7B,4BAAI,SAAS,EAAC,OAAO,IAAE,QAAQ,CAAC,IAAI,CAAM;oBAC1C,4BAAI,SAAS,EAAC,UAAU,IAAE,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAM,CAC3D;gBACL,CAAC,QAAQ,CAAC,IAAI,IAAI,oBAAC,IAAI,IAAC,SAAS,EAAC,MAAM,GAAG,CACxC,CACD,CACR,EArByB,CAqBzB,CAAC,CAEA,CACF,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,sBAAsB,CAAC","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nimport { Template, Me, Features, TeamMembers } from '@src/types';\n\nimport { selectPhotoUrl } from '@src/ducks/teamMembers';\n\nimport { extractText } from '@src/lib/html';\nimport Lock from '@src/components/Icons/Lock.svg';\nimport Plus from '@src/components/Icons/Plus.svg';\n\nimport './MessageTemplateChooser.scss';\n\nexport interface Props {\n  templates: Template[];\n  teamMembers: TeamMembers;\n  me?: Me;\n  features: Features;\n  selectedTemplate?: string;\n}\n\nconst MessageTemplateChooser = (props: Props) => {\n  const { features } = props;\n\n  return (\n    <div\n      className={classnames('message-template-chooser', {\n        'should-upgrade': !features.messageTemplates,\n      })}\n    >\n      <Link className=\"new\" to=\"/templates/new\">\n        <div className=\"container\">\n          <Plus className=\"icon\"/>\n          Create New Template\n        </div>\n      </Link>\n      <div className=\"table\">\n        {props.templates\n          .sort((prev, next) => prev.updated.getTime() < next.updated.getTime() ? 1 : -1)\n          .map((template, index) => (\n            <Link className=\"template\" to={`/templates/${template.id}`} key={index}>\n              <div\n                className={classnames('container', {\n                  selected: template && !!props.selectedTemplate &&\n                  template.id === props.selectedTemplate,\n                })}\n              >\n                {template && props.me && props.teamMembers &&\n                  <img\n                    className=\"profile-pic\"\n                    src={selectPhotoUrl(props.teamMembers, props.me, template.user)}\n                  />\n                }\n                <div className=\"content-column\">\n                  <h4 className=\"title\">{template.name}</h4>\n                  <h5 className=\"subtitle\">{extractText(template.body, 100)}</h5>\n                </div>\n                {!template.team && <Lock className=\"lock\" />}\n              </div>\n            </Link>\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default MessageTemplateChooser;\n"]}]}