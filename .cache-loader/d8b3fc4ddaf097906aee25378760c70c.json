{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Slack/Slack.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Slack/Slack.tsx","mtime":1675280254104},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBicm93c2VySGlzdG9yeSBmcm9tICdAc3JjL2xpYi9icm93c2VySGlzdG9yeSc7CmltcG9ydCBOYXZpZ2F0aW9uSGVhZGVyIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL2NvbXBvbmVudHMvTmF2aWdhdGlvbkhlYWRlcic7CmltcG9ydCBTbGFja0xvZ28gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL1NsYWNrLnN2Zyc7CmltcG9ydCBzYWxlc2ZvcmNlU2NyZWVuc2hvdCBmcm9tICcuL2Fzc2V0cy9zbGFjay1zY3JlZW5zaG90QDN4LnBuZyc7CmltcG9ydCAnLi9TbGFjay5zY3NzJzsKaW1wb3J0IHsgSW50ZWdyYXRpb25TdGF0dXMgfSBmcm9tICdAc3JjL3R5cGVzJzsKdmFyIFNsYWNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKFNsYWNrLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gU2xhY2soKSB7CiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlT25CYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBicm93c2VySGlzdG9yeS5yZXBsYWNlKCcvc2V0dGluZ3MvaW50ZWdyYXRpb25zJyk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVJbnN0YWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgbG9naW5TbGFjayA9IF9hLmxvZ2luU2xhY2ssIHRlYW0gPSBfYS50ZWFtOwogICAgICAgICAgICBpZiAodGVhbSkgewogICAgICAgICAgICAgICAgbG9naW5TbGFjayh0ZWFtLmlkKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlVW5pbnN0YWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5wcm9wcy5sb2dvdXRTbGFjaygpOwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgU2xhY2sucHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykgewogICAgICAgIGlmIChuZXh0UHJvcHMucmVmcmVzaEludGVncmF0aW9ucyAmJiAhdGhpcy5wcm9wcy5yZWZyZXNoSW50ZWdyYXRpb25zKSB7CiAgICAgICAgICAgIG5leHRQcm9wcy5saXN0SW50ZWdyYXRpb25zKCk7CiAgICAgICAgfQogICAgfTsKICAgIFNsYWNrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHNsYWNrSW50ZWdyYXRpb24gPSB0aGlzLnByb3BzLnNsYWNrSW50ZWdyYXRpb247CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInNldHRpbmdzLXBhbmVsIHNsYWNrLWludGVncmF0aW9uIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25IZWFkZXIsIHsgdGl0bGU6ICJJbnRlZ3JhdGlvbnMiLCBvbkJhY2s6IHRoaXMuaGFuZGxlT25CYWNrLCBjb250ZXh0QnV0dG9uOiBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJjb250ZXh0IiB9LCAiU2xhY2siKSB9KSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJoZWFkZXIiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImxvZ28iIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTbGFja0xvZ28sIHsgd2lkdGg6ICI4NXB4IiwgaGVpZ2h0OiAiODVweCIgfSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDEiLCBudWxsLCAiU2xhY2siKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInAiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCAiU2hhcmUgY29udmVyc2F0aW9ucyBmcm9tIFBvbHltYWlsIGRpcmVjdGx5IHRvIFNsYWNrIiksCiAgICAgICAgICAgICAgICAhc2xhY2tJbnRlZ3JhdGlvbiAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiaW5zdGFsbCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSW5zdGFsbCB9LCAiSW5zdGFsbCIpLAogICAgICAgICAgICAgICAgc2xhY2tJbnRlZ3JhdGlvbiAmJiBzbGFja0ludGVncmF0aW9uLnN0YXR1cyAhPT0gSW50ZWdyYXRpb25TdGF0dXMuT2sgJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImluc3RhbGwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUluc3RhbGwgfSwgIlJlYXV0aG9yaXplIiksCiAgICAgICAgICAgICAgICBzbGFja0ludGVncmF0aW9uICYmIHNsYWNrSW50ZWdyYXRpb24uc3RhdHVzID09PSBJbnRlZ3JhdGlvblN0YXR1cy5PayAmJgogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZW5hYmxlZCIgfSwgIkVOQUJMRUQiKSwKICAgICAgICAgICAgICAgIHNsYWNrSW50ZWdyYXRpb24gJiYgc2xhY2tJbnRlZ3JhdGlvbi5zdGF0dXMgPT09IEludGVncmF0aW9uU3RhdHVzLk9rICYmCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJ1bmluc3RhbGwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVVuaW5zdGFsbCB9LCAiVW5pbnN0YWxsIikpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImludGVncmF0aW9uLWRldGFpbHMiIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJwIiwgeyBjbGFzc05hbWU6ICJkZXRhaWxzIiB9LCAiV2l0aCB0aGUgU2xhY2sgSW50ZWdyYXRpb24sIHlvdSBjYW46IiksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJ1bCIsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGkiLCBudWxsLCAiU2hhcmUgZW1haWwgY29udmVyc2F0aW9ucyBpbnRvIFNsYWNrIGNoYW5uZWxzIG9yIERNcy4iKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJsaSIsIG51bGwsICJBbGxvdyB0ZWFtbWF0ZXMgaW4gU2xhY2sgdG8gdmlldyB5b3VyIHNoYXJlZCBjb252ZXJzYXRpb25zLiIpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgbnVsbCwgIkRpc2N1c3MgYW5kIGdldCB0ZWFtIGlucHV0IG9uIGVtYWlsIGNvbnZlcnNhdGlvbnMgaW4gU2xhY2suIikpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzY3JlZW5zaG90LWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7IHNyYzogc2FsZXNmb3JjZVNjcmVlbnNob3QsIGNsYXNzTmFtZTogInNjcmVlbnNob3QiIH0pKSkpKTsKICAgIH07CiAgICByZXR1cm4gU2xhY2s7Cn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpOwpleHBvcnQgZGVmYXVsdCBTbGFjazsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Slack/Slack.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Integrations/routes/Slack/Slack.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,cAAc,MAAM,yBAAyB,CAAC;AACrD,OAAO,gBAAgB,MAAM,kDAAkD,CAAC;AAChF,OAAO,SAAS,MAAM,iCAAiC,CAAC;AACxD,OAAO,oBAAoB,MAAM,kCAAkC,CAAC;AAEpE,OAAO,cAAc,CAAC;AACtB,OAAO,EAAqB,iBAAiB,EAAE,MAAM,YAAY,CAAC;AAclE;IAAoB,yBAA+C;IAAnE;QAAA,qEA4DC;QA3DC,kBAAY,GAAG;YACb,cAAc,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;QACnD,CAAC,CAAA;QAQD,mBAAa,GAAG;YACR,IAAA,gBAAiC,EAA/B,0BAAU,EAAE,cAAmB,CAAC;YAExC,IAAI,IAAI,EAAE;gBACR,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACrB;QACH,CAAC,CAAA;QAED,qBAAe,GAAG;YAChB,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QAC3B,CAAC,CAAA;;IAuCH,CAAC;IAvDC,gDAAgC,GAAhC,UAAiC,SAAqC;QACpE,IAAI,SAAS,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE;YACpE,SAAS,CAAC,gBAAgB,EAAE,CAAC;SAC9B;IACH,CAAC;IAcD,sBAAM,GAAN;QACU,IAAA,8CAAgB,CAAgB;QAExC,OAAO,CACL,6BAAK,SAAS,EAAC,kCAAkC;YAC/C,oBAAC,gBAAgB,IACf,KAAK,EAAC,cAAc,EACpB,MAAM,EAAE,IAAI,CAAC,YAAY,EACzB,aAAa,EAAE,8BAAM,SAAS,EAAC,SAAS,YAAa,GACrD;YACF,6BAAK,SAAS,EAAC,QAAQ;gBACrB,6BAAK,SAAS,EAAC,MAAM;oBAAC,oBAAC,SAAS,IAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,GAAG,CAAM;gBACpE,wCAAc;gBACd,2BAAG,SAAS,EAAC,aAAa,0DAAwD;gBACjF,CAAC,gBAAgB;oBAChB,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,cAAkB;gBAC1E,gBAAgB,IAAI,gBAAgB,CAAC,MAAM,KAAK,iBAAiB,CAAC,EAAE;oBACnE,gCAAQ,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,kBAAsB;gBAC9E,gBAAgB,IAAI,gBAAgB,CAAC,MAAM,KAAK,iBAAiB,CAAC,EAAE;oBACnE,6BAAK,SAAS,EAAC,SAAS,cAAc;gBACvC,gBAAgB,IAAI,gBAAgB,CAAC,MAAM,KAAK,iBAAiB,CAAC,EAAE;oBACnE,gCAAQ,SAAS,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,eAAe,gBAAoB,CAC7E;YACN,6BAAK,SAAS,EAAC,qBAAqB;gBAClC,2BAAG,SAAS,EAAC,SAAS,2CAAyC;gBAC/D;oBACE,wFAA8D;oBAC9D,8FAAoE;oBACpE,8FAAoE,CACjE;gBACL,6BAAK,SAAS,EAAC,sBAAsB;oBACnC,6BAAK,GAAG,EAAE,oBAAoB,EAAE,SAAS,EAAC,YAAY,GAAG,CACrD,CACF,CACF,CACP,CAAC;IACJ,CAAC;IACH,YAAC;AAAD,CAAC,AA5DD,CAAoB,KAAK,CAAC,aAAa,GA4DtC;AAED,eAAe,KAAK,CAAC","sourcesContent":["import React from 'react';\nimport browserHistory from '@src/lib/browserHistory';\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport SlackLogo from '@src/components/Icons/Slack.svg';\nimport salesforceScreenshot from './assets/slack-screenshot@3x.png';\n\nimport './Slack.scss';\nimport { Team, Integration, IntegrationStatus } from '@src/types';\n\nexport interface StateProps {\n  slackIntegration?: Integration;\n  team: Team;\n  refreshIntegrations: boolean;\n}\n\nexport interface DispatchProps {\n  loginSlack: (team: string) => void;\n  logoutSlack: () => void;\n  listIntegrations: () => void;\n}\n\nclass Slack extends React.PureComponent<StateProps & DispatchProps> {\n  handleOnBack = () => {\n    browserHistory.replace('/settings/integrations');\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: StateProps & DispatchProps) {\n    if (nextProps.refreshIntegrations && !this.props.refreshIntegrations) {\n      nextProps.listIntegrations();\n    }\n  }\n\n  handleInstall = () => {\n    const { loginSlack, team } = this.props;\n\n    if (team) {\n      loginSlack(team.id);\n    }\n  }\n\n  handleUninstall = () => {\n    this.props.logoutSlack();\n  }\n\n  render() {\n    const { slackIntegration } = this.props;\n\n    return (\n      <div className=\"settings-panel slack-integration\">\n        <NavigationHeader\n          title=\"Integrations\"\n          onBack={this.handleOnBack}\n          contextButton={<span className=\"context\">Slack</span>}\n        />\n        <div className=\"header\">\n          <div className=\"logo\"><SlackLogo width=\"85px\" height=\"85px\" /></div>\n          <h1>Slack</h1>\n          <p className=\"description\">Share conversations from Polymail directly to Slack</p>\n          {!slackIntegration &&\n            <button className=\"install\" onClick={this.handleInstall}>Install</button>}\n          {slackIntegration && slackIntegration.status !== IntegrationStatus.Ok &&\n            <button className=\"install\" onClick={this.handleInstall}>Reauthorize</button>}\n          {slackIntegration && slackIntegration.status === IntegrationStatus.Ok &&\n            <div className=\"enabled\">ENABLED</div>}\n          {slackIntegration && slackIntegration.status === IntegrationStatus.Ok &&\n            <button className=\"uninstall\" onClick={this.handleUninstall}>Uninstall</button>}\n        </div>\n        <div className=\"integration-details\">\n          <p className=\"details\">With the Slack Integration, you can:</p>\n          <ul>\n            <li>Share email conversations into Slack channels or DMs.</li>\n            <li>Allow teammates in Slack to view your shared conversations.</li>\n            <li>Discuss and get team input on email conversations in Slack.</li>\n          </ul>\n          <div className=\"screenshot-container\">\n            <img src={salesforceScreenshot} className=\"screenshot\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Slack;\n"]}]}