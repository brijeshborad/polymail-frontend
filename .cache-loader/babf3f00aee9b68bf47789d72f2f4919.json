{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/UpgradePlan/UpgradePlan.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/UpgradePlan/UpgradePlan.tsx","mtime":1675280254098},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBOYXZpZ2F0aW9uSGVhZGVyIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL2NvbXBvbmVudHMvTmF2aWdhdGlvbkhlYWRlcic7CmltcG9ydCBCaWxsaW5nUGxhbkhlYWRlciBmcm9tICdAc3JjL3JvdXRlcy9TZXR0aW5ncy9yb3V0ZXMvQmlsbGluZy9jb21wb25lbnRzL0JpbGxpbmdQbGFuSGVhZGVyJzsKaW1wb3J0IEJpbGxpbmdDeWNsZVRvZ2dsZSBmcm9tICdAc3JjL3JvdXRlcy9TZXR0aW5ncy9yb3V0ZXMvQmlsbGluZy9jb21wb25lbnRzL0JpbGxpbmdDeWNsZVRvZ2dsZSc7CmltcG9ydCBQYXltZW50Rm9ybSBmcm9tICdAc3JjL3JvdXRlcy9TZXR0aW5ncy9yb3V0ZXMvQmlsbGluZy9jb21wb25lbnRzL1BheW1lbnRGb3JtJzsKaW1wb3J0IHsgZm9ybWF0Q3VycmVuY3lDZW50cyB9IGZyb20gJ0BzcmMvbGliL3V0aWxzJzsKaW1wb3J0IGJyb3dzZXJIaXN0b3J5IGZyb20gJ0BzcmMvbGliL2Jyb3dzZXJIaXN0b3J5JzsKaW1wb3J0IHsgTWVTdGF0dXNOZXcgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IHsgQmlsbGluZ0N5Y2xlLCBCSUxMSU5HX1BMQU5TLCBDb3Vwb25UeXBlLCB9IGZyb20gJ0BzcmMvdHlwZXMvYmlsbGluZyc7CmltcG9ydCB7IGluZmVyVXBncmFkZVR5cGUsIEJpbGxpbmdVcGdyYWRlVHlwZSwgdHJpYWxEYXlzTGVmdCB9IGZyb20gJ0BzcmMvbGliL21vZGVscy9iaWxsaW5nJzsKaW1wb3J0IExvYWRpbmdFcnJvclN0YXRlIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzL3JvdXRlcy9CaWxsaW5nL2NvbXBvbmVudHMvTG9hZGluZ0Vycm9yU3RhdGUnOwppbXBvcnQgTG9hZGVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Mb2FkZXIvTG9hZGVyJzsKLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aAppbXBvcnQgQmlsbGluZ1N0YXR1c0Jhbm5lciBmcm9tICdAc3JjL3JvdXRlcy9TZXR0aW5ncy9yb3V0ZXMvQmlsbGluZy9jb21wb25lbnRzL0JpbGxpbmdTdGF0dXNCYW5uZXInOwppbXBvcnQgJy4uL1BsYW5EZXRhaWwvUGxhbkRldGFpbC5zY3NzJzsKaW1wb3J0IHsgQW1wbGl0dWRlRXZlbnRzLCBsb2dBbXBsaXR1ZGVFdmVudCB9IGZyb20gJ0BzcmMvbGliL2FtcGxpdHVkZS1hbmFseXRpY3MnOwppbXBvcnQgeyBpc0Rpc2FibGVkU3RhdGUgfSBmcm9tICdAc3JjL2xpYi9iYW5uZXInOwp2YXIgVXBncmFkZVBsYW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoVXBncmFkZVBsYW4sIF9zdXBlcik7CiAgICBmdW5jdGlvbiBVcGdyYWRlUGxhbihwcm9wcykgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZU1vbnRobHlDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc0FubnVhbDogZmFsc2UgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVBbm51YWxDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc0FubnVhbDogdHJ1ZSB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uICh0b2tlbikgewogICAgICAgICAgICB2YXIgY3ljbGUgPSBfdGhpcy5zdGF0ZS5pc0FubnVhbCA/IEJpbGxpbmdDeWNsZS5Bbm51YWwgOiBCaWxsaW5nQ3ljbGUuTW9udGhseTsKICAgICAgICAgICAgbG9nQW1wbGl0dWRlRXZlbnQoQW1wbGl0dWRlRXZlbnRzLlN1YnNjcmliZSk7CiAgICAgICAgICAgIF90aGlzLnByb3BzLmNyZWF0ZUJpbGxpbmcoewogICAgICAgICAgICAgICAgYmlsbGluZ0N5Y2xlOiBjeWNsZSwKICAgICAgICAgICAgICAgIHRpZXI6IF90aGlzLnByb3BzLnNlbGVjdGVkVGllciwKICAgICAgICAgICAgICAgIGNvdXBvbjogIV90aGlzLnByb3BzLnN1YnNjcmlwdGlvbiAmJiAhX3RoaXMucHJvcHMuYWN0aXZlU3Vic2NyaXB0aW9uICYmCiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMudXBncmFkZUNvdXBvbiAhPT0gJycgJiYKICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy51cGdyYWRlQ291cG9uLnRvVXBwZXJDYXNlKCkgfHwgdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgc2VhdHM6IF90aGlzLnN0YXRlLnNlYXRzLAogICAgICAgICAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVVwZ3JhZGUgPSBmdW5jdGlvbiAoY29zdCkgewogICAgICAgICAgICB2YXIgY3ljbGUgPSBfdGhpcy5zdGF0ZS5pc0FubnVhbCA/IEJpbGxpbmdDeWNsZS5Bbm51YWwgOiBCaWxsaW5nQ3ljbGUuTW9udGhseTsKICAgICAgICAgICAgbG9nQW1wbGl0dWRlRXZlbnQoQW1wbGl0dWRlRXZlbnRzLlVwZ3JhZGVQbGFuKTsKICAgICAgICAgICAgX3RoaXMucHJvcHMudXBkYXRlQmlsbGluZyh7CiAgICAgICAgICAgICAgICBiaWxsaW5nQ3ljbGU6IGN5Y2xlLAogICAgICAgICAgICAgICAgc2VhdHM6IF90aGlzLnN0YXRlLnNlYXRzLAogICAgICAgICAgICAgICAgdGllcjogX3RoaXMucHJvcHMuc2VsZWN0ZWRUaWVyLAogICAgICAgICAgICAgICAgY29zdDogY29zdCwKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVTZWF0c0NoYW5nZSA9IGZ1bmN0aW9uIChzZWF0cykgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlYXRzOiBzZWF0cyB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvdXBvbkNoYW5nZSA9IGZ1bmN0aW9uIChjb3Vwb24pIHsKICAgICAgICAgICAgdmFyIGJpbGxpbmdDeWNsZSA9IF90aGlzLnN0YXRlLmlzQW5udWFsID8gQmlsbGluZ0N5Y2xlLkFubnVhbCA6IEJpbGxpbmdDeWNsZS5Nb250aGx5OwogICAgICAgICAgICBsb2dBbXBsaXR1ZGVFdmVudChBbXBsaXR1ZGVFdmVudHMuU3Vic2NyaWJlKTsKICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0VXBncmFkZUNvdXBvbih7CiAgICAgICAgICAgICAgICBjb3Vwb246IGNvdXBvbiwKICAgICAgICAgICAgICAgIGJpbGxpbmdDeWNsZTogYmlsbGluZ0N5Y2xlLAogICAgICAgICAgICAgICAgdGllcjogX3RoaXMucHJvcHMuc2VsZWN0ZWRUaWVyLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNvdXBvblJlbW92ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucHJvcHMudW5zZXRVcGdyYWRlQ291cG9uKCk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVCYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBicm93c2VySGlzdG9yeS5nb0JhY2soKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNob3dDb3Vwb25GaWVsZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93Q291cG9uRmllbGQ6IHRydWUgfSk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgc2VhdHM6IHByb3BzLnNlYXRzLAogICAgICAgICAgICBpc0FubnVhbDogcHJvcHMuc2VsZWN0ZWRDeWNsZSA9PT0gQmlsbGluZ0N5Y2xlLkFubnVhbCwKICAgICAgICAgICAgc2hvd0NvdXBvbkZpZWxkOiAhcHJvcHMuYWN0aXZlU3Vic2NyaXB0aW9uICYmICFwcm9wcy5zdWJzY3JpcHRpb24KICAgICAgICAgICAgICAgICYmIHByb3BzLnVwZ3JhZGVDb3Vwb24gIT09ICcnIHx8IGZhbHNlLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgVXBncmFkZVBsYW4ucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHVuc2V0IGNvdXBvbiB3aGVuIHZpZXdpbmcgY29tcG9uZW50CiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmFjdGl2ZVN1YnNjcmlwdGlvbiAmJiAhdGhpcy5wcm9wcy5zdWJzY3JpcHRpb24gJiYKICAgICAgICAgICAgdGhpcy5wcm9wcy51cGdyYWRlQ291cG9uICE9PSAnJykgewogICAgICAgICAgICB0aGlzLnByb3BzLnVuc2V0VXBncmFkZUNvdXBvbigpOwogICAgICAgIH0KICAgIH07CiAgICBVcGdyYWRlUGxhbi5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gdW5zZXQgY291cG9uIHdoZW4gbGVhdmluZyBjb21wb25lbnQKICAgICAgICBpZiAoIXRoaXMucHJvcHMuYWN0aXZlU3Vic2NyaXB0aW9uICYmICF0aGlzLnByb3BzLnN1YnNjcmlwdGlvbiAmJgogICAgICAgICAgICB0aGlzLnByb3BzLnVwZ3JhZGVDb3Vwb24gIT09ICcnKSB7CiAgICAgICAgICAgIHRoaXMucHJvcHMudW5zZXRVcGdyYWRlQ291cG9uKCk7CiAgICAgICAgfQogICAgfTsKICAgIFVwZ3JhZGVQbGFuLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICAvLyBoYW5kbGUgbmV3IGVycm9ycwogICAgICAgIGlmIChuZXh0UHJvcHMuZXJyb3IgIT09IHRoaXMucHJvcHMuZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBuZXh0UHJvcHMuZXJyb3IgfSk7CiAgICAgICAgfQogICAgfTsKICAgIFVwZ3JhZGVQbGFuLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBzdWJzY3JpcHRpb24gPSBfYS5zdWJzY3JpcHRpb24sIHNlbGVjdGVkVGllciA9IF9hLnNlbGVjdGVkVGllciwgbG9hZGluZyA9IF9hLmxvYWRpbmcsIGxvYWRpbmdFcnJvciA9IF9hLmxvYWRpbmdFcnJvciwgaXNBZG1pbiA9IF9hLmlzQWRtaW4sIHBsYW5FeHBpcmVzID0gX2EucGxhbkV4cGlyZXMsIHVwZGF0aW5nID0gX2EudXBkYXRpbmcsIGJhbGFuY2UgPSBfYS5iYWxhbmNlLCBhY3RpdmVTdWJzY3JpcHRpb24gPSBfYS5hY3RpdmVTdWJzY3JpcHRpb24sIHRyaWFsRXhwaXJlcyA9IF9hLnRyaWFsRXhwaXJlcywgdHJpYWxQbGFuID0gX2EudHJpYWxQbGFuLCBzdGF0dXNOZXcgPSBfYS5zdGF0dXNOZXc7CiAgICAgICAgdmFyIHNlbGVjdGVkUGxhbiA9IEJJTExJTkdfUExBTlMuZmlsdGVyKGZ1bmN0aW9uIChwbGFuKSB7IHJldHVybiBwbGFuLnRpZXIgPT09IHNlbGVjdGVkVGllcjsgfSlbMF07CiAgICAgICAgdmFyIGhhc0NhbmNlbGxlZFBsYW5BbmRUcmlhbEFjdGl2ZSA9ICEhKHN1YnNjcmlwdGlvbiA9PT0gbnVsbCB8fCBzdWJzY3JpcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1YnNjcmlwdGlvbi5wbGFuRXhwaXJlcykgJiYgISF0cmlhbEV4cGlyZXM7CiAgICAgICAgdmFyIHVwZ3JhZGVUeXBlID0gaW5mZXJVcGdyYWRlVHlwZShzZWxlY3RlZFRpZXIsIGFjdGl2ZVN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLnRpZXIgfHwgdW5kZWZpbmVkKTsKICAgICAgICB2YXIgdXBkYXRpbmdTZWF0cyA9IHVwZ3JhZGVUeXBlID09PSBCaWxsaW5nVXBncmFkZVR5cGUuQ3VycmVudDsKICAgICAgICB2YXIgdXBncmFkZUJ1dHRvbiA9IHVwZGF0aW5nU2VhdHMKICAgICAgICAgICAgPyAnU2F2ZScKICAgICAgICAgICAgOiAnTG9va3MgR29vZCc7CiAgICAgICAgdmFyIGhhc1BheW1lbnRGYWlsZWQgPSBzdGF0dXNOZXcgPT09IE1lU3RhdHVzTmV3LlVucGFpZDsKICAgICAgICB2YXIgaGFzVHJpYWxFeHBpcmVkID0gc3RhdHVzTmV3ID09PSBNZVN0YXR1c05ldy5UcmlhbEV4cGlyZWQKICAgICAgICAgICAgLy8gcGxhbiB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdHJpYWwgZm9yIGNhbmNlbGxlZCBhY2NvdW50cwogICAgICAgICAgICB8fCB0cmlhbERheXNMZWZ0KHBsYW5FeHBpcmVzIHx8IHRyaWFsRXhwaXJlcykgPD0gMDsKICAgICAgICB2YXIgbW9udGhseUNvc3QgPSB0aGlzLnN0YXRlLmlzQW5udWFsID8gc2VsZWN0ZWRQbGFuLmFubnVhbENvc3QgOiBzZWxlY3RlZFBsYW4ubW9udGhseUNvc3Q7CiAgICAgICAgdmFyIGtlZXBEaXNjb3VudCA9IGZhbHNlOwogICAgICAgIGlmIChzdWJzY3JpcHRpb24gJiYgdXBkYXRpbmdTZWF0cykgewogICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0FubnVhbCAmJiBzdWJzY3JpcHRpb24uYmlsbGluZ0N5Y2xlID09PSBCaWxsaW5nQ3ljbGUuQW5udWFsKSB7CiAgICAgICAgICAgICAgICBtb250aGx5Q29zdCA9IHN1YnNjcmlwdGlvbi5jb3N0IC8gMTI7CiAgICAgICAgICAgICAgICBrZWVwRGlzY291bnQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLnN0YXRlLmlzQW5udWFsICYmIHN1YnNjcmlwdGlvbi5iaWxsaW5nQ3ljbGUgPT09IEJpbGxpbmdDeWNsZS5Nb250aGx5KSB7CiAgICAgICAgICAgICAgICBtb250aGx5Q29zdCA9IHN1YnNjcmlwdGlvbi5jb3N0OwogICAgICAgICAgICAgICAga2VlcERpc2NvdW50ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2YXIgY3ljbGUgPSB0aGlzLnN0YXRlLmlzQW5udWFsID8gQmlsbGluZ0N5Y2xlLkFubnVhbCA6IEJpbGxpbmdDeWNsZS5Nb250aGx5OwogICAgICAgIHZhciBjb3N0UGVyVXNlciA9IG1vbnRobHlDb3N0ICogKGN5Y2xlID09PSBCaWxsaW5nQ3ljbGUuQW5udWFsID8gMTIgOiAxKTsKICAgICAgICB2YXIgY29zdCA9IGNvc3RQZXJVc2VyICogdGhpcy5zdGF0ZS5zZWF0czsKICAgICAgICB2YXIgZGlzY291bnRlZENvc3QgPSB0aGlzLnByb3BzLnVwZ3JhZGVDb3Vwb25QZXJjZW50CiAgICAgICAgICAgID8gY29zdCAqICgxIC0gKHRoaXMucHJvcHMudXBncmFkZUNvdXBvblBlcmNlbnQgLyAxMDApKQogICAgICAgICAgICA6IGNvc3Q7CiAgICAgICAgaWYgKGxvYWRpbmcgfHwgbG9hZGluZ0Vycm9yIHx8ICFpc0FkbWluKSB7CiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nRXJyb3JTdGF0ZSwgeyBsb2FkaW5nOiBsb2FkaW5nLCBsb2FkaW5nRXJyb3I6IGxvYWRpbmdFcnJvciwgcmVxdWlyZUFkbWluOiAhaXNBZG1pbiB9KSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzZXR0aW5ncy1wYW5lbCBwcmVmZXJlbmNlcy10ZWFtIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25IZWFkZXIsIHsgdGl0bGU6ICJQbGFucyAmIEJpbGxpbmciLCBvbkJhY2s6IHRoaXMuaGFuZGxlQmFjaywgY29udGV4dEJ1dHRvbjogdXBkYXRpbmdTZWF0cyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJVcGRhdGUgU2VhdHMiKSB8fCB1bmRlZmluZWQgfSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAicGxhbi1kZXRhaWwiIH0sCiAgICAgICAgICAgICAgICAoIWhhc1BheW1lbnRGYWlsZWQgJiYgIWhhc1RyaWFsRXhwaXJlZCkgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmlsbGluZ1N0YXR1c0Jhbm5lciwgeyBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiwgdHJpYWxQbGFuOiB0cmlhbFBsYW4sIHRyaWFsRXhwaXJlczogdHJpYWxFeHBpcmVzLCBpc0FkbWluOiBpc0FkbWluLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkU3RhdGUoc3RhdHVzTmV3KSwgc2VsZWN0ZWRUaWVyOiBzZWxlY3RlZFRpZXIgfSkpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCaWxsaW5nUGxhbkhlYWRlciwgeyB0aWVyOiB0aGlzLnByb3BzLnNlbGVjdGVkVGllciwgY3ljbGU6IHRoaXMuc3RhdGUuaXNBbm51YWwgPyBCaWxsaW5nQ3ljbGUuQW5udWFsIDogQmlsbGluZ0N5Y2xlLk1vbnRobHksIG1vbnRobHlDb3N0OiBtb250aGx5Q29zdCwgc2VhdHM6IHRoaXMuc3RhdGUuc2VhdHMsIHByb21vQ29kZTogKHN1YnNjcmlwdGlvbiAmJiBrZWVwRGlzY291bnQgJiYgc3Vic2NyaXB0aW9uLmNvdXBvbikgfHwKICAgICAgICAgICAgICAgICAgICAgICAgKCghc3Vic2NyaXB0aW9uICYmICFhY3RpdmVTdWJzY3JpcHRpb24gfHwgaGFzQ2FuY2VsbGVkUGxhbkFuZFRyaWFsQWN0aXZlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy5wcm9wcy51cGdyYWRlQ291cG9uKSB8fCAnJywgcHJvbW9Db2RlUGVyY2VudDogKHN1YnNjcmlwdGlvbiAmJiBrZWVwRGlzY291bnQgJiYgc3Vic2NyaXB0aW9uLmNvdXBvblBlcmNlbnQpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICgoIXN1YnNjcmlwdGlvbiAmJiAhYWN0aXZlU3Vic2NyaXB0aW9uIHx8IGhhc0NhbmNlbGxlZFBsYW5BbmRUcmlhbEFjdGl2ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHRoaXMucHJvcHMudXBncmFkZUNvdXBvblBlcmNlbnQpCiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHVuZGVmaW5lZCwgc2VhdHNFZGl0YWJsZTogdHJ1ZSwgaW5pdGlhbFBhcmFtc0NvdXBvbjogdGhpcy5wcm9wcy5wYXJhbXNDb3Vwb24KICAgICAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy5wcm9wcy5wYXJhbXNDb3Vwb25bQ291cG9uVHlwZS5Qcm9tb10sIGNvdXBvbkVkaXRhYmxlOiAoIXN1YnNjcmlwdGlvbiAmJiAhYWN0aXZlU3Vic2NyaXB0aW9uIHx8IGhhc0NhbmNlbGxlZFBsYW5BbmRUcmlhbEFjdGl2ZSkKICAgICAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy5zdGF0ZS5zaG93Q291cG9uRmllbGQsIG9uU2VhdHNDaGFuZ2U6IHRoaXMuaGFuZGxlU2VhdHNDaGFuZ2UsIG9uQ291cG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNvdXBvbkNoYW5nZSwgb25Db3Vwb25SZW1vdmU6IHRoaXMuaGFuZGxlQ291cG9uUmVtb3ZlLCBpc0xvYWRpbmdDb3Vwb246IHRoaXMucHJvcHMuaXNMb2FkaW5nQ291cG9uLCBpc01vYmlsZTogdGhpcy5wcm9wcy5pc01vYmlsZSB8fCBmYWxzZSB9KSwKICAgICAgICAgICAgICAgICF1cGRhdGluZ1NlYXRzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmlsbGluZy1jeWNsZS1wcm9tbyIgfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJpbGxpbmdDeWNsZVRvZ2dsZSwgeyBpc0FubnVhbDogdGhpcy5zdGF0ZS5pc0FubnVhbCwgb25Nb250aGx5Q2xpY2s6IHRoaXMuaGFuZGxlTW9udGhseUNsaWNrLCBvbkFubnVhbENsaWNrOiB0aGlzLmhhbmRsZUFubnVhbENsaWNrLCBtb250aGx5Q29zdDogc2VsZWN0ZWRQbGFuLm1vbnRobHlDb3N0LCBhbm51YWxDb3N0OiBzZWxlY3RlZFBsYW4uYW5udWFsQ29zdCB9KSwKICAgICAgICAgICAgICAgICAgICAoIXN1YnNjcmlwdGlvbiAmJiAhYWN0aXZlU3Vic2NyaXB0aW9uKSAmJgogICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zaG93Q291cG9uRmllbGQgJiYgIXRoaXMucHJvcHMudXBncmFkZUNvdXBvbgogICAgICAgICAgICAgICAgICAgICAgICAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd0NvdXBvbkZpZWxkIH0sICJlbnRlciBwcm9tbyBjb2RlIikpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ1cGdyYWRlLXNlY3Rpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uICYmIGJhbGFuY2UgPCAwICYmCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWNjb3VudC1jcmVkaXQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiWW91IGhhdmUgIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdEN1cnJlbmN5Q2VudHMoLTEgKiBiYWxhbmNlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgaW4gYWNjb3VudCBjcmVkaXQiKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRlYW0tZGlzY2xvc3VyZSIgfSwgIkFsbCB0ZWFtbWF0ZXMgYWRkZWQgbGF0ZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGNoYXJnZWQgdG8geW91ciBhY2NvdW50IGFuZCBiZSBwcm8tcmF0ZWQuIiksCiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uICYmCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWN0aW9uLWJ1dHRvbnMiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGRpc2FibGVkOiB1cGRhdGluZywgY2xhc3NOYW1lOiAidXBncmFkZS1idXR0b24iLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IGpzeC1uby1sYW1iZGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oYW5kbGVVcGdyYWRlKGRpc2NvdW50ZWRDb3N0KTsgfSB9LCB1cGRhdGluZyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGVyLCBudWxsKSA6IHVwZ3JhZGVCdXR0b24pKSwKICAgICAgICAgICAgICAgICAgICAhc3Vic2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic3RyaXBlLXNlY3Rpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGF5bWVudEZvcm0sIHsgb25TdWJtaXQ6IHRoaXMuaGFuZGxlU3VibWl0LCBidXR0b25OYW1lOiAiTG9va3MgR29vZCIsIGxvYWRpbmc6IHVwZGF0aW5nLCBlcnJvcjogdGhpcy5zdGF0ZS5lcnJvciB9KSkpKSkpOwogICAgfTsKICAgIHJldHVybiBVcGdyYWRlUGxhbjsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IFVwZ3JhZGVQbGFuOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/UpgradePlan/UpgradePlan.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/routes/Settings/routes/Billing/UpgradePlan/UpgradePlan.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport NavigationHeader from '@src/routes/Settings/components/NavigationHeader';\nimport BillingPlanHeader from '@src/routes/Settings/routes/Billing/components/BillingPlanHeader';\nimport BillingCycleToggle from '@src/routes/Settings/routes/Billing/components/BillingCycleToggle';\nimport PaymentForm from '@src/routes/Settings/routes/Billing/components/PaymentForm';\n\nimport { formatCurrencyCents } from '@src/lib/utils';\nimport browserHistory from '@src/lib/browserHistory';\n\nimport { BillingCreateBody } from '@src/api/billing';\n\nimport { MeStatusNew, Partial, TeamPlan } from '@src/types';\n\nimport {\n  BillingTier,\n  BillingSubscription,\n  BillingCycle,\n  BILLING_PLANS,\n  BillingCouponKey,\n  Coupon,\n  CouponType,\n} from '@src/types/billing';\n\nimport { inferUpgradeType, BillingUpgradeType, trialDaysLeft } from '@src/lib/models/billing';\nimport LoadingErrorState from '@src/routes/Settings/routes/Billing/components/LoadingErrorState';\nimport Loader from '@src/components/Loader/Loader';\n// tslint:disable-next-line:max-line-length\nimport BillingStatusBanner from '@src/routes/Settings/routes/Billing/components/BillingStatusBanner';\n\nimport '../PlanDetail/PlanDetail.scss';\nimport { RouteComponentProps } from 'react-router';\nimport { AmplitudeEvents, logAmplitudeEvent } from '@src/lib/amplitude-analytics';\nimport { isDisabledState } from '@src/lib/banner';\n\nexport interface Props {\n  loading: boolean;\n  loadingError: boolean;\n  isAdmin: boolean;\n  updating: boolean;\n  error?: Error;\n\n  balance: number;\n  seats: number;\n  activeSubscription: boolean;\n  trialExpires?: Date;\n  planExpires?: Date;\n  trialPlan?: TeamPlan;\n  subscription?: BillingSubscription;\n  selectedTier: BillingTier;\n  selectedCycle: BillingCycle;\n  paramsCoupon?: Coupon;\n  upgradeCoupon: string;\n  upgradeCouponPercent?: number;\n  isLoadingCoupon: boolean;\n  isMobile?: boolean;\n  statusNew?: MeStatusNew;\n}\n\nexport interface DispatchProps {\n  createBilling(body: BillingCreateBody): void;\n  updateBilling(body: Partial<BillingSubscription>): void;\n  setUpgradeCoupon(coupon: BillingCouponKey): void;\n  unsetUpgradeCoupon(): void;\n}\n\nexport interface State {\n  isAnnual: boolean;\n  seats: number;\n  error?: Error;\n\n  showCouponField: boolean;\n}\n\nclass UpgradePlan extends React.PureComponent<\n  Props & DispatchProps & RouteComponentProps<any>, State\n> {\n  constructor(props: Props & DispatchProps & RouteComponentProps<any>) {\n    super(props);\n    this.state = {\n      seats: props.seats,\n      isAnnual: props.selectedCycle === BillingCycle.Annual,\n      showCouponField: !props.activeSubscription && !props.subscription\n        && props.upgradeCoupon !== '' || false,\n    };\n  }\n\n  componentDidMount() {\n    // unset coupon when viewing component\n    if (!this.props.activeSubscription && !this.props.subscription &&\n       this.props.upgradeCoupon !== '') {\n      this.props.unsetUpgradeCoupon();\n    }\n  }\n\n  componentWillUnmount() {\n    // unset coupon when leaving component\n    if (!this.props.activeSubscription && !this.props.subscription &&\n      this.props.upgradeCoupon !== '') {\n      this.props.unsetUpgradeCoupon();\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props & DispatchProps) {\n    // handle new errors\n    if (nextProps.error !== this.props.error) {\n      this.setState({ error: nextProps.error });\n    }\n  }\n\n  handleMonthlyClick = () => {\n    this.setState({ isAnnual: false });\n  }\n\n  handleAnnualClick = () => {\n    this.setState({ isAnnual: true });\n  }\n\n  handleSubmit = (token: string) => {\n    const cycle = this.state.isAnnual ? BillingCycle.Annual : BillingCycle.Monthly;\n\n    logAmplitudeEvent(AmplitudeEvents.Subscribe);\n    this.props.createBilling({\n      billingCycle: cycle,\n      tier: this.props.selectedTier,\n      coupon: !this.props.subscription && !this.props.activeSubscription &&\n        this.props.upgradeCoupon !== '' &&\n        this.props.upgradeCoupon.toUpperCase() || undefined,\n      seats: this.state.seats,\n      token,\n    });\n  }\n\n  handleUpgrade = (cost?: number) => {\n    const cycle = this.state.isAnnual ? BillingCycle.Annual : BillingCycle.Monthly;\n\n    logAmplitudeEvent(AmplitudeEvents.UpgradePlan);\n    this.props.updateBilling({\n      billingCycle: cycle,\n      seats: this.state.seats,\n      tier: this.props.selectedTier,\n      cost,\n    });\n  }\n\n  handleSeatsChange = (seats: number) => {\n    this.setState({ seats });\n  }\n\n  handleCouponChange = (coupon: string) => {\n    const billingCycle = this.state.isAnnual ? BillingCycle.Annual : BillingCycle.Monthly;\n\n    logAmplitudeEvent(AmplitudeEvents.Subscribe);\n    this.props.setUpgradeCoupon({\n      coupon,\n      billingCycle,\n      tier: this.props.selectedTier,\n    });\n  }\n\n  handleCouponRemove = () => {\n    this.props.unsetUpgradeCoupon();\n  }\n\n  handleBack = () => {\n    browserHistory.goBack();\n  }\n\n  handleShowCouponField = () => {\n    this.setState({ showCouponField: true });\n  }\n\n  render() {\n    const {\n      subscription, selectedTier, loading, loadingError, isAdmin, planExpires,\n      updating, balance, activeSubscription, trialExpires, trialPlan, statusNew,\n    } = this.props;\n    const selectedPlan = BILLING_PLANS.filter(plan => plan.tier === selectedTier)[0];\n    const hasCancelledPlanAndTrialActive = !!subscription?.planExpires && !!trialExpires;\n    const upgradeType = inferUpgradeType(\n      selectedTier, activeSubscription && subscription && subscription.tier || undefined,\n    );\n    const updatingSeats = upgradeType === BillingUpgradeType.Current;\n\n    const upgradeButton = updatingSeats\n      ? 'Save'\n      : 'Looks Good';\n    const hasPaymentFailed = statusNew === MeStatusNew.Unpaid;\n    const hasTrialExpired =\n      statusNew === MeStatusNew.TrialExpired\n      // plan takes precedence over trial for cancelled accounts\n      || trialDaysLeft(planExpires || trialExpires) <= 0;\n\n    let monthlyCost =  this.state.isAnnual ? selectedPlan.annualCost : selectedPlan.monthlyCost;\n    let keepDiscount = false;\n    if (subscription && updatingSeats) {\n      if (this.state.isAnnual && subscription.billingCycle === BillingCycle.Annual) {\n        monthlyCost = subscription.cost / 12;\n        keepDiscount = true;\n      } else if (!this.state.isAnnual && subscription.billingCycle === BillingCycle.Monthly) {\n        monthlyCost = subscription.cost;\n        keepDiscount = true;\n      }\n    }\n\n    const cycle = this.state.isAnnual ? BillingCycle.Annual : BillingCycle.Monthly;\n    const costPerUser = monthlyCost * (cycle === BillingCycle.Annual ? 12 : 1);\n    const cost = costPerUser * this.state.seats;\n    const discountedCost = this.props.upgradeCouponPercent\n      ? cost * (1 - (this.props.upgradeCouponPercent / 100))\n      : cost;\n\n    if (loading || loadingError || !isAdmin) {\n      return (\n        <LoadingErrorState\n          loading={loading}\n          loadingError={loadingError}\n          requireAdmin={!isAdmin}\n        />\n      );\n    }\n\n    return (\n      <div className=\"settings-panel preferences-team\">\n        <NavigationHeader\n          title=\"Plans & Billing\"\n          onBack={this.handleBack}\n          contextButton={updatingSeats && <h5>Update Seats</h5> || undefined}\n        />\n        <div className=\"plan-detail\">\n          {(!hasPaymentFailed && !hasTrialExpired) && (\n            <BillingStatusBanner\n              subscription={subscription}\n              trialPlan={trialPlan}\n              trialExpires={trialExpires}\n              isAdmin={isAdmin}\n              isDisabled={isDisabledState(statusNew)}\n              selectedTier={selectedTier}\n            />\n          )}\n          <BillingPlanHeader\n            tier={this.props.selectedTier}\n            cycle={this.state.isAnnual ? BillingCycle.Annual : BillingCycle.Monthly}\n            monthlyCost={monthlyCost}\n            seats={this.state.seats}\n            promoCode={(subscription && keepDiscount && subscription.coupon) ||\n              ((!subscription && !activeSubscription || hasCancelledPlanAndTrialActive)\n              && this.props.upgradeCoupon) || ''}\n            promoCodePercent={(subscription && keepDiscount && subscription.couponPercent) ||\n              ((!subscription && !activeSubscription || hasCancelledPlanAndTrialActive)\n              && this.props.upgradeCouponPercent)\n                || undefined}\n            seatsEditable\n            initialParamsCoupon={\n              this.props.paramsCoupon\n              && this.props.paramsCoupon[CouponType.Promo]\n            }\n            couponEditable={\n              (!subscription && !activeSubscription || hasCancelledPlanAndTrialActive)\n              && this.state.showCouponField}\n            onSeatsChange={this.handleSeatsChange}\n            onCouponChange={this.handleCouponChange}\n            onCouponRemove={this.handleCouponRemove}\n            isLoadingCoupon={this.props.isLoadingCoupon}\n            isMobile={this.props.isMobile || false}\n          />\n          {!updatingSeats && <div className=\"billing-cycle-promo\">\n            <BillingCycleToggle\n                isAnnual={this.state.isAnnual}\n                onMonthlyClick={this.handleMonthlyClick}\n                onAnnualClick={this.handleAnnualClick}\n                monthlyCost={selectedPlan.monthlyCost}\n                annualCost={selectedPlan.annualCost}\n            />\n            {/* todo (fer): enable coupon enter once patch endpoint accepts it */}\n            {(!subscription && !activeSubscription) &&\n              !this.state.showCouponField && !this.props.upgradeCoupon\n              && <button onClick={this.handleShowCouponField}>\n                enter promo code\n            </button>}\n          </div>}\n          <div className=\"upgrade-section\">\n            {subscription && balance < 0 &&\n              <div className=\"account-credit\">\n                You have {formatCurrencyCents(-1 * balance)} in account credit\n              </div>\n            }\n            <div className=\"team-disclosure\">\n              All teammates added later will automatically be charged\n              to your account and be pro-rated.\n            </div>\n            {subscription &&\n              <div className=\"action-buttons\">\n                <button\n                  disabled={updating}\n                  className=\"upgrade-button\"\n                  // tslint:disable-next-line: jsx-no-lambda\n                  onClick={() => this.handleUpgrade(discountedCost)}\n                >\n                  {updating ? <Loader /> : upgradeButton}\n                </button>\n              </div>\n            }\n            {!subscription && <div className=\"stripe-section\">\n              <PaymentForm\n                onSubmit={this.handleSubmit}\n                buttonName=\"Looks Good\"\n                loading={updating}\n                error={this.state.error}\n              />\n            </div>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UpgradePlan;\n"]}]}