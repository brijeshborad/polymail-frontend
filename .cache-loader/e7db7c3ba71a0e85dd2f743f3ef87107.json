{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/components/ReplyActions/ReplyActions.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/components/ReplyActions/ReplyActions.tsx","mtime":1675280254039},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHJlbW92ZSB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgUmVwbHlBY3Rpb25JdGVtIGZyb20gJy4vUmVwbHlBY3Rpb25JdGVtJzsKaW1wb3J0IE1lc3NhZ2VPcHRpb25zUG9wb3ZlciBmcm9tICcuL01lc3NhZ2VPcHRpb25zUG9wb3Zlcic7CmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tICdAc3JjL2xpYi9kcmFmdCc7CmltcG9ydCAnLi9SZXBseUFjdGlvbnMuc2Nzcyc7CmltcG9ydCBUaHJlZURvdHMgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL1RocmVlRG90cy5zdmcnOwppbXBvcnQgRm9yd2FyZCBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvRm9yd2FyZC5zdmcnOwppbXBvcnQgUmVwbHkgZnJvbSAnQHNyYy9jb21wb25lbnRzL0ljb25zL1JlcGx5LnN2Zyc7CmltcG9ydCBSZXBseUFsbCBmcm9tICdAc3JjL2NvbXBvbmVudHMvSWNvbnMvUmVwbHlBbGwuc3ZnJzsKaW1wb3J0IFNoYXJlIGZyb20gJ0BzcmMvY29tcG9uZW50cy9JY29ucy9TaGFyZS5zdmcnOwp2YXIgTWVzc2FnZU9wdGlvbnM7CihmdW5jdGlvbiAoTWVzc2FnZU9wdGlvbnMpIHsKICAgIE1lc3NhZ2VPcHRpb25zWyJNYXJrVW5yZWFkIl0gPSAiTWFyayB1bnJlYWQiOwogICAgTWVzc2FnZU9wdGlvbnNbIlNwbGl0TWVzc2FnZSJdID0gIlNwbGl0IG1lc3NhZ2UgZnJvbSB0aHJlYWQiOwogICAgTWVzc2FnZU9wdGlvbnNbIlNob3dPcmlnaW5hbCJdID0gIlNob3cgb3JpZ2luYWwiOwogICAgTWVzc2FnZU9wdGlvbnNbIkRvd25sb2FkT3JpZ2luYWwiXSA9ICJEb3dubG9hZCBPcmlnaW5hbCI7CiAgICBNZXNzYWdlT3B0aW9uc1siUHJpbnRNZXNzYWdlIl0gPSAiUHJpbnQgbWVzc2FnZSI7CiAgICBNZXNzYWdlT3B0aW9uc1siUG9wT3V0Il0gPSAiUG9wIG91dCBpbiBuZXcgd2luZG93IjsKfSkoTWVzc2FnZU9wdGlvbnMgfHwgKE1lc3NhZ2VPcHRpb25zID0ge30pKTsKdmFyIFJlcGx5QWN0aW9ucyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhSZXBseUFjdGlvbnMsIF9zdXBlcik7CiAgICBmdW5jdGlvbiBSZXBseUFjdGlvbnMocHJvcHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLmhhbmRsZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICAgICAgc3dpdGNoIChhY3Rpb24pIHsKICAgICAgICAgICAgICAgIGNhc2UgJ3NoYXJlJzoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25TaGFyZUFjdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNoYXJlQWN0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnbW9yZSc6CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaG93UG9wb3ZlcjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXIuc2hvdygpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBDb25maWd1cmF0aW9uLlJlcGx5OgogICAgICAgICAgICAgICAgY2FzZSBDb25maWd1cmF0aW9uLlJlcGx5QWxsOgogICAgICAgICAgICAgICAgY2FzZSBDb25maWd1cmF0aW9uLkZvcndhcmQ6CiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uUmVwbHlBY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25SZXBseUFjdGlvbihhY3Rpb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd1BvcG92ZXI6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlT3B0aW9uU2VsZWN0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgdmFyIG1lc3NhZ2VMaW5rID0gX3RoaXMucHJvcHMubWVzc2FnZUxpbms7CiAgICAgICAgICAgIHZhciBvcHRpb24gPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldCAmJiBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5vcHRpb247CiAgICAgICAgICAgIHN3aXRjaCAob3B0aW9uKSB7CiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VPcHRpb25zLlNob3dPcmlnaW5hbDoKICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZU9wdGlvbnMuRG93bmxvYWRPcmlnaW5hbDoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25TaG93T3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25TaG93T3JpZ2luYWwoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VPcHRpb25zLlBvcE91dDoKICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihtZXNzYWdlTGluaywgJ19ibGFuaycsICdoZWlnaHQ9NTAwLHdpZHRoPTgwMCcpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBoaWRlIHBvcG92ZXIKICAgICAgICAgICAgX3RoaXMucG9wb3Zlci5oaWRlKCk7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2hvd1BvcG92ZXI6IGZhbHNlIH0pOwogICAgICAgIH07CiAgICAgICAgLy8gRGlmZmVyZW50aWF0ZWQgY29weSBmb3Igc2hvdyBhbmQgZG93bmxvYWQgb3JpZ2luYWwKICAgICAgICBfdGhpcy5tZXNzYWdlT3B0aW9ucyA9IFtdOwogICAgICAgIGlmICh3aW5kb3cuUE1FbGVjdHJvbkJyaWRnZSAmJiB3aW5kb3cuUE1FbGVjdHJvbkJyaWRnZS5kb3dubG9hZEF0dGFjaG1lbnQpIHsKICAgICAgICAgICAgX3RoaXMubWVzc2FnZU9wdGlvbnMucHVzaChNZXNzYWdlT3B0aW9ucy5Eb3dubG9hZE9yaWdpbmFsKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VPcHRpb25zLnB1c2goTWVzc2FnZU9wdGlvbnMuU2hvd09yaWdpbmFsKTsKICAgICAgICB9CiAgICAgICAgLy8gVE9ETyhTSElOKTogQmV0YSAtIFJlLWVuYWJsZSB3aGVuIGZ1bmN0aW9uYWxpdHkgaXMgYXZhaWxhYmxlCiAgICAgICAgX3RoaXMubWVzc2FnZU9wdGlvbnMucHVzaChNZXNzYWdlT3B0aW9ucy5Qb3BPdXQpOwogICAgICAgIC8vIC8vIFRPRE8oU0hJTik6IEJldGEgLSBSZS1lbmFibGUgd2hlbiBmdW5jdGlvbmFsaXR5IGlzIGF2YWlsYWJsZQogICAgICAgIC8vIHRoaXMubWVzc2FnZU9wdGlvbnMgPSBbCiAgICAgICAgLy8gICAvLyBNZXNzYWdlT3B0aW9ucy5NYXJrVW5yZWFkLAogICAgICAgIC8vICAgLy8gTWVzc2FnZU9wdGlvbnMuU3BsaXRNZXNzYWdlLAogICAgICAgIC8vICAgTWVzc2FnZU9wdGlvbnMuU2hvd09yaWdpbmFsLAogICAgICAgIC8vICAgLy8gTWVzc2FnZU9wdGlvbnMuUHJpbnRNZXNzYWdlLAogICAgICAgIC8vICAgTWVzc2FnZU9wdGlvbnMuUG9wT3V0LAogICAgICAgIC8vIF07CiAgICAgICAgLy8gVE9ETyhTSElOKTogUmUtZW5hYmxlIHdoZW4gZnVuY3Rpb25hbGl0eSBpcyBhdmFpbGFibGUKICAgICAgICBfdGhpcy5hY3Rpb25zID0gWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBhY3Rpb246ICdyZXBseScsCiAgICAgICAgICAgICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlcGx5LCBudWxsKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYWN0aW9uOiAncmVwbHlBbGwnLAogICAgICAgICAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChSZXBseUFsbCwgbnVsbCksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFjdGlvbjogJ2ZvcndhcmQnLAogICAgICAgICAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChGb3J3YXJkLCBudWxsKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYWN0aW9uOiAnc2hhcmUnLAogICAgICAgICAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChTaGFyZSwgbnVsbCksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFjdGlvbjogJ21vcmUnLAogICAgICAgICAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChUaHJlZURvdHMsIG51bGwpLAogICAgICAgICAgICB9LAogICAgICAgIF07CiAgICAgICAgaWYgKCFwcm9wcy5zaG93UmVwbHlBbGwpIHsKICAgICAgICAgICAgcmVtb3ZlKF90aGlzLmFjdGlvbnMsIGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuIGFjdGlvbi5hY3Rpb24gPT09ICdyZXBseUFsbCc7IH0pOwogICAgICAgIH0KICAgICAgICBfdGhpcy5zdGF0ZSA9IHsgc2hvd1BvcG92ZXI6IGZhbHNlIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgUmVwbHlBY3Rpb25zLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHsKICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93UmVwbHlBbGwgIT09IG5leHRQcm9wcy5zaG93UmVwbHlBbGwgJiYgbmV4dFByb3BzLnNob3dSZXBseUFsbCkgewogICAgICAgICAgICB0aGlzLmFjdGlvbnMuc3BsaWNlKDEsIDAsIHsKICAgICAgICAgICAgICAgIGFjdGlvbjogJ3JlcGx5QWxsJywKICAgICAgICAgICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVwbHlBbGwsIG51bGwpLAogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5wcm9wcy5zaG93UmVwbHlBbGwgIT09IG5leHRQcm9wcy5zaG93UmVwbHlBbGwgJiYgIW5leHRQcm9wcy5zaG93UmVwbHlBbGwpIHsKICAgICAgICAgICAgcmVtb3ZlKHRoaXMuYWN0aW9ucywgZnVuY3Rpb24gKGFjdGlvbikgeyByZXR1cm4gYWN0aW9uLmFjdGlvbiA9PT0gJ3JlcGx5QWxsJzsgfSk7CiAgICAgICAgfQogICAgfTsKICAgIFJlcGx5QWN0aW9ucy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIHNob3dQb3BvdmVyID0gdGhpcy5zdGF0ZS5zaG93UG9wb3ZlcjsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdyZXBseS1hY3Rpb25zJywgewogICAgICAgICAgICAgICAgc2hvd1BvcG92ZXI6IHNob3dQb3BvdmVyLAogICAgICAgICAgICB9KSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImFjdGlvbnMiIH0sCiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMubWFwKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZXBseUFjdGlvbkl0ZW0sIHsgb25DbGljazogX3RoaXMuaGFuZGxlQWN0aW9uLCBpY29uOiBhY3Rpb24uaWNvbiwgYWN0aW9uOiBhY3Rpb24uYWN0aW9uLCBrZXk6IGFjdGlvbi5hY3Rpb24gfSk7CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVzc2FnZU9wdGlvbnNQb3BvdmVyLCB7IG9wdGlvbnM6IHRoaXMubWVzc2FnZU9wdGlvbnMsIG9uT3B0aW9uU2VsZWN0OiB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdCwgcmVmOiB0aGlzLmhhbmRsZVJlZiwgb25IaWRlOiB0aGlzLmhhbmRsZUhpZGUgfSkpKSk7CiAgICB9OwogICAgcmV0dXJuIFJlcGx5QWN0aW9uczsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IFJlcGx5QWN0aW9uczsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/components/ReplyActions/ReplyActions.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/ThreadDetail/components/Cell/components/ReplyActions/ReplyActions.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { remove } from 'lodash';\nimport classnames from 'classnames';\nimport ReplyActionItem from './ReplyActionItem';\nimport MessageOptionsPopover from './MessageOptionsPopover';\nimport { Configuration } from '@src/lib/draft';\n\nimport './ReplyActions.scss';\n\nimport ThreeDots from '@src/components/Icons/ThreeDots.svg';\nimport Forward from '@src/components/Icons/Forward.svg';\nimport Reply from '@src/components/Icons/Reply.svg';\nimport ReplyAll from '@src/components/Icons/ReplyAll.svg';\nimport Share from '@src/components/Icons/Share.svg';\n\ninterface State {\n  showPopover: boolean;\n}\n\ninterface Props {\n  onShareAction?: () => void;\n  onReplyAction?: (configuration: Configuration) => void;\n  onShowOriginal?: () => void;\n  showReplyAll: boolean;\n  messageLink: string;\n}\n\nconst enum MessageOptions {\n  MarkUnread = 'Mark unread',\n  SplitMessage = 'Split message from thread',\n  ShowOriginal = 'Show original',\n  DownloadOriginal = 'Download Original',\n  PrintMessage = 'Print message',\n  PopOut = 'Pop out in new window',\n}\n\nclass ReplyActions extends React.PureComponent<Props, State> {\n  private popover: MessageOptionsPopover;\n  private messageOptions: string[];\n  private actions: Array<{ action: string, icon: any }>;\n\n  constructor(props: Props) {\n    super();\n\n    // Differentiated copy for show and download original\n    this.messageOptions = [];\n    if (window.PMElectronBridge && window.PMElectronBridge.downloadAttachment) {\n      this.messageOptions.push(MessageOptions.DownloadOriginal);\n    } else {\n      this.messageOptions.push(MessageOptions.ShowOriginal);\n    }\n\n    // TODO(SHIN): Beta - Re-enable when functionality is available\n    this.messageOptions.push(MessageOptions.PopOut);\n\n    // // TODO(SHIN): Beta - Re-enable when functionality is available\n    // this.messageOptions = [\n    //   // MessageOptions.MarkUnread,\n    //   // MessageOptions.SplitMessage,\n    //   MessageOptions.ShowOriginal,\n    //   // MessageOptions.PrintMessage,\n    //   MessageOptions.PopOut,\n    // ];\n\n    // TODO(SHIN): Re-enable when functionality is available\n    this.actions = [\n      {\n        action: 'reply',\n        icon: <Reply />,\n      },\n      {\n        action: 'replyAll',\n        icon: <ReplyAll />,\n      },\n      {\n        action: 'forward',\n        icon: <Forward />,\n      },\n      {\n        action: 'share',\n        icon: <Share />,\n      },\n      {\n        action: 'more',\n        icon: <ThreeDots />,\n      },\n    ];\n\n    if (!props.showReplyAll) {\n      remove(this.actions, action => action.action === 'replyAll');\n    }\n\n    this.state = { showPopover: false };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    if (this.props.showReplyAll !== nextProps.showReplyAll && nextProps.showReplyAll) {\n      this.actions.splice(1, 0, {\n        action: 'replyAll',\n        icon: <ReplyAll />,\n      });\n    } else if (this.props.showReplyAll !== nextProps.showReplyAll && !nextProps.showReplyAll) {\n      remove(this.actions, action => action.action === 'replyAll');\n    }\n  }\n\n  handleAction = (action: string) => {\n    switch (action) {\n      case 'share':\n        if (this.props.onShareAction) {\n          this.props.onShareAction();\n        }\n        break;\n      case 'more':\n        this.setState({ showPopover: true }, () => {\n          this.popover.show();\n        });\n        break;\n      case Configuration.Reply:\n      case Configuration.ReplyAll:\n      case Configuration.Forward:\n        if (this.props.onReplyAction) {\n          this.props.onReplyAction(action as Configuration);\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  handleHide = () => {\n    this.setState({ showPopover: false });\n  }\n\n  handleRef = (ref: MessageOptionsPopover) => {\n    this.popover = ref;\n  }\n\n  handleOptionSelect = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    const { messageLink } = this.props;\n    const option = e.currentTarget.dataset && e.currentTarget.dataset.option;\n\n    switch (option) {\n      case MessageOptions.ShowOriginal:\n      case MessageOptions.DownloadOriginal:\n        if (this.props.onShowOriginal) {\n          this.props.onShowOriginal();\n        }\n        break;\n      case MessageOptions.PopOut:\n        window.open(messageLink, '_blank', 'height=500,width=800');\n        break;\n      default:\n        break;\n    }\n\n    // hide popover\n    this.popover.hide();\n    this.setState({ showPopover: false });\n  }\n\n  render() {\n    const { showPopover } = this.state;\n\n    return (\n      <div\n        className={classnames('reply-actions', {\n          showPopover,\n        })}\n      >\n        <div className=\"actions\">\n          {this.actions.map(action =>\n            <ReplyActionItem\n              onClick={this.handleAction}\n              icon={action.icon}\n              action={action.action}\n              key={action.action}\n            />,\n          )}\n          <MessageOptionsPopover\n            options={this.messageOptions}\n            onOptionSelect={this.handleOptionSelect}\n            ref={this.handleRef}\n            onHide={this.handleHide}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReplyActions;\n"]}]}