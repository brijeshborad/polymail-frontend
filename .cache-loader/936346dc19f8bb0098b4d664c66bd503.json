{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/App.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/App.tsx","mtime":1675280253978},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkgewogICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHsKICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKQogICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgfTsKICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9OwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBSZWRpcmVjdCB9IGZyb20gJ3JlYWN0LXJvdXRlcic7CmltcG9ydCB7IFJvdXRlLCBTd2l0Y2ggfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgQ29ubmVjdGVkUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLXJlZHV4JzsKaW1wb3J0IGJyb3dzZXJIaXN0b3J5IGZyb20gJ0BzcmMvbGliL2Jyb3dzZXJIaXN0b3J5JzsKaW1wb3J0IHsgUmVzb3VyY2VTdGF0dXMgfSBmcm9tICdAc3JjL3R5cGVzJzsKaW1wb3J0IHsgQ291cG9uVHlwZSB9IGZyb20gJ0BzcmMvdHlwZXMvYmlsbGluZyc7CmltcG9ydCBMb2dpbiBmcm9tICdAc3JjL3JvdXRlcy9Mb2dpbic7CmltcG9ydCBUaHJlYWRzIGZyb20gJ0BzcmMvcm91dGVzL1RocmVhZHMnOwppbXBvcnQgVGVhbUludml0ZXMgZnJvbSAnQHNyYy9yb3V0ZXMvVGVhbUludml0ZXMnOwppbXBvcnQgQ2FtcGFpZ25zIGZyb20gJ0BzcmMvcm91dGVzL0NhbXBhaWducyc7CmltcG9ydCBDb250YWN0cyBmcm9tICdAc3JjL3JvdXRlcy9Db250YWN0cyc7CmltcG9ydCBBbmFseXRpY3MgZnJvbSAnQHNyYy9yb3V0ZXMvQW5hbHl0aWNzJzsKaW1wb3J0IFNldHRpbmdzIGZyb20gJ0BzcmMvcm91dGVzL1NldHRpbmdzJzsKaW1wb3J0IEZ1bGxQYWdlTG9hZGVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Mb2FkZXIvRnVsbFBhZ2VMb2FkZXInOwppbXBvcnQgU2VxdWVuY2VzIGZyb20gJ0BzcmMvcm91dGVzL1NlcXVlbmNlcyc7CmltcG9ydCBDYWxlbmRhclNjaGVkdWxpbmcgZnJvbSAnQHNyYy9yb3V0ZXMvQ2FsZW5kYXJTY2hlZHVsaW5nJzsKLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aAppbXBvcnQgQ2FsZW5kYXJTY2hlZHVsaW5nRGV0YWlsIGZyb20gJ0BzcmMvcm91dGVzL0NhbGVuZGFyU2NoZWR1bGluZy9jb21wb25lbnRzL0NhbGVuZGFyU2NoZWR1bGluZ0RldGFpbCc7CmltcG9ydCBUZWFtSW52aXRlIGZyb20gJ0BzcmMvcm91dGVzL0xvZ2luL2NvbXBvbmVudHMvVGVhbUludml0ZSc7CmltcG9ydCBCYW5uZXIgZnJvbSAnQHNyYy9jb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBNZXNzYWdlIGZyb20gJ0BzcmMvcm91dGVzL01lc3NhZ2UnOwppbXBvcnQgRHJhZnQgZnJvbSAnQHNyYy9yb3V0ZXMvRHJhZnQnOwppbXBvcnQgTWVudGlvbnMgZnJvbSAnQHNyYy9yb3V0ZXMvTWVudGlvbnMnOwppbXBvcnQgUHVibGljU2hhcmVkVGhyZWFkcyBmcm9tICdAc3JjL3JvdXRlcy9QdWJsaWNTaGFyZWRUaHJlYWRzJzsKaW1wb3J0IE1lc3NhZ2VUZW1wbGF0ZXMgZnJvbSAnLi9yb3V0ZXMvTWVzc2FnZVRlbXBsYXRlcyc7CmltcG9ydCBDYWxlbmRhciBmcm9tICcuL3JvdXRlcy9DYWxlbmRhcic7CmltcG9ydCBUaGVtZVN3aXRjaGVyIGZyb20gJy4vY29tcG9uZW50cy9CYXNlL1RoZW1lU3dpdGNoZXInOwppbXBvcnQgVHJpYWxFbmRlZCBmcm9tICcuL2NvbXBvbmVudHMvT25ib2FyZGluZy9jb21wb25lbnRzL1RyaWFsRW5kZWQnOwppbXBvcnQgeyBpc0VsZWN0cm9uV2luZG93cyB9IGZyb20gJy4vbGliL2VsZWN0cm9uJzsKaW1wb3J0IFVuc3Vic2NyaWJlciBmcm9tICcuL3JvdXRlcy9VbnN1YnNjcmliZXInOwppbXBvcnQgRGVtb1ZpZGVvIGZyb20gJy4vY29tcG9uZW50cy9EZW1vVmlkZW8nOwppbXBvcnQgWm9vbU1lZXRpbmcgZnJvbSAnLi9jb21wb25lbnRzL01vZGFscy9ab29tTWVldGluZyc7CmltcG9ydCBZZWFySW5SZXZpZXcgZnJvbSAnLi9yb3V0ZXMvWWVhckluUmV2aWV3JzsKaW1wb3J0IHsgZ2V0VXJsUGFyYW1zQnlLZXlzIH0gZnJvbSAnLi9saWIvdXRpbHMnOwppbXBvcnQgeyBzZWxlY3RTaG91bGRTZWVUcmlhbEVuZGVkQmFubmVyIH0gZnJvbSAnLi9kdWNrcy9tZSc7CnZhciByZWRpcmVjdFBhdGg7Ci8vIFRPRE8oU0hJTik6IEhhbmRsZSBNYWdpYyBMaW5rIFNpZ24gaW4gdmlhIERlc2t0b3AKLy8gU3BlY2lhbGl6ZWQgVVJMIGZvciBtYWdpYyBsaW5rIGhhbmRsaW5nCnZhciBBcHAgPSBmdW5jdGlvbiAocHJvcHMpIHsKICAgIHZhciBsb2dnZWRJbiA9IHByb3BzLmxvZ2dlZEluLCBsb2FkaW5nID0gcHJvcHMubG9hZGluZywgY29ubmVjdFByb3ZpZGVyID0gcHJvcHMuY29ubmVjdFByb3ZpZGVyLCB0ZmFOZWVkZWQgPSBwcm9wcy50ZmFOZWVkZWQsIHRoZW1lID0gcHJvcHMudGhlbWUsIHRyaWFsRW5kZWQgPSBwcm9wcy50cmlhbEVuZGVkLCByZWRpcmVjdFBsYXRmb3JtID0gcHJvcHMucmVkaXJlY3RQbGF0Zm9ybSwgaXNNb2JpbGUgPSBwcm9wcy5pc01vYmlsZTsKICAgIHZhciBjdXJyZW50UGF0aCA9IGJyb3dzZXJIaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lOwogICAgaWYgKCFyZWRpcmVjdFBhdGggJiYgIWN1cnJlbnRQYXRoLnN0YXJ0c1dpdGgoJy9sb2dpbicpKSB7CiAgICAgICAgcmVkaXJlY3RQYXRoID0gY3VycmVudFBhdGg7CiAgICB9CiAgICAvLyBnZXQgY291cG9uIC1pZiBhbnktIGZyb20gdGhlIHVybCBwYXJhbXMKICAgIHZhciBwYXJhbUtleXMgPSBbQ291cG9uVHlwZS5Qcm9tb107CiAgICB2YXIgY291cG9uID0gZ2V0VXJsUGFyYW1zQnlLZXlzKHBhcmFtS2V5cyk7CiAgICBpZiAoY291cG9uICYmIGNvdXBvbltDb3Vwb25UeXBlLlByb21vXSkgewogICAgICAgIC8vIGNvdXBvbiBoYXMgdG8gYmUgY2FwcyBmb3IgdGhlIHJlcXVlc3QgdG8gd29yawogICAgICAgIGNvdXBvbltDb3Vwb25UeXBlLlByb21vXSA9IGNvdXBvbltDb3Vwb25UeXBlLlByb21vXS50b1VwcGVyQ2FzZSgpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKENvdXBvblR5cGUuQ291cG9uLCBKU09OLnN0cmluZ2lmeShjb3Vwb24pKTsKICAgIH0KICAgIC8vIElkZW50aWZ5IHJlZGlyZWN0IHBhdGggZm9yIHVuc3Vic2NyaWJlcgogICAgaWYgKGN1cnJlbnRQYXRoKSB7CiAgICAgICAgdmFyIHNlYXJjaCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYnJvd3Nlckhpc3RvcnkubG9jYXRpb24uc2VhcmNoKTsKICAgICAgICB2YXIgdW5zdWJzY3JpYmVyU2lnbnVwID0gISFzZWFyY2guZ2V0KCd1bnN1YnNjcmliZXInKTsKICAgICAgICBpZiAodW5zdWJzY3JpYmVyU2lnbnVwKSB7CiAgICAgICAgICAgIHJlZGlyZWN0UGF0aCA9ICcvdW5zdWJzY3JpYmVyJzsKICAgICAgICB9CiAgICB9CiAgICAvLyBEZWZpbmVkIHJvdXRlcyB0byBub3Qgc2hvdyBiYW5uZXIKICAgIHZhciBub0Jhbm5lclByZWZpeGVzID0gWwogICAgICAgICcvcHVibGljJywgJy9hdXRoJywgJy9yZWRpcmVjdCcsCiAgICBdOwogICAgdmFyIGhpZGVCYW5uZXIgPSBmYWxzZTsKICAgIG5vQmFubmVyUHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocCkgewogICAgICAgIGlmICgocmVkaXJlY3RQYXRoIHx8IGN1cnJlbnRQYXRoKS5zdGFydHNXaXRoKHApKSB7CiAgICAgICAgICAgIGhpZGVCYW5uZXIgPSB0cnVlOwogICAgICAgIH0KICAgIH0pOwogICAgdmFyIGdldERldmljZVN0eWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc3R5bGVzID0gewogICAgICAgICAgICBoZWlnaHQ6ICcxMDB2aCcsCiAgICAgICAgfTsKICAgICAgICBpZiAoaXNFbGVjdHJvbldpbmRvd3MpIHsKICAgICAgICAgICAgc3R5bGVzID0gewogICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIGlmIChpc01vYmlsZSkgewogICAgICAgICAgICBzdHlsZXMgPSB7CiAgICAgICAgICAgICAgICAvLyBIQUNLOiB0aGlzIHNob3VsZCBiZSAxMDAlIGJ1dCB0aGUgc2Nyb2xsIGlzIG5vdCB3b3JraW5nIHdpdGggaXQKICAgICAgICAgICAgICAgIGhlaWdodDogJzkwdmgnLAogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3R5bGVzOwogICAgfTsKICAgIGlmICh0ZmFOZWVkZWQpIHsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGVkUm91dGVyLCB7IGhpc3Rvcnk6IGJyb3dzZXJIaXN0b3J5IH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLCBudWxsLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2xvZ2luL3RmYSIsIGNvbXBvbmVudDogTG9naW4sIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2F1dGgvKiIsIGNvbXBvbmVudDogTG9naW4sIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgeyBmcm9tOiAiLyoiLCB0bzogIi9sb2dpbi90ZmEiIH0pKSkpOwogICAgfQogICAgaWYgKCFsb2dnZWRJbikgewogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb25uZWN0ZWRSb3V0ZXIsIHsgaGlzdG9yeTogYnJvd3Nlckhpc3RvcnkgfSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvdGVhbUludml0ZXMvOm5vbmNlLzpwYXlsb2FkIiwgY29tcG9uZW50OiBUZWFtSW52aXRlcywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7IGZyb206ICIvbG9naW4vY29ubmVjdFByb3ZpZGVyIiwgdG86ICIvbG9naW4iIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgeyBmcm9tOiAiL2xvZ2luL3RmYSIsIHRvOiAiL2xvZ2luIiB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9sb2dpbi90ZWFtLzpub25jZS86cGF5bG9hZCIsIGNvbXBvbmVudDogTG9naW4sIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2xvZ2luKiIsIGNvbXBvbmVudDogTG9naW4sIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2F1dGgqIiwgY29tcG9uZW50OiBMb2dpbiwgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvcHVibGljL3NoYXJlZFRocmVhZHMvOnNoYXJlZFRocmVhZC86bWVzc2FnZSIsIGNvbXBvbmVudDogUHVibGljU2hhcmVkVGhyZWFkcywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvcHVibGljL3NoYXJlZFRocmVhZHMvOnNoYXJlZFRocmVhZCIsIGNvbXBvbmVudDogUHVibGljU2hhcmVkVGhyZWFkcywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvcHVibGljKiIsIGNvbXBvbmVudDogUHVibGljU2hhcmVkVGhyZWFkcywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7IGZyb206ICIvKiIsIHRvOiAiL2xvZ2luIiB9KSkpKTsKICAgIH0KICAgIGlmIChsb2FkaW5nKSB7CiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRnVsbFBhZ2VMb2FkZXIsIG51bGwpOwogICAgfQogICAgLy8gU2hvdyBzd2l0Y2hlciBmb3IgRGFyayBNb2RlCiAgICBpZiAodGhlbWUuc3RhdHVzID09PSBSZXNvdXJjZVN0YXR1cy5SZWZyZXNoaW5nKSB7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRoZW1lU3dpdGNoZXIsIG51bGwpKTsKICAgIH0KICAgIGlmIChjb25uZWN0UHJvdmlkZXIpIHsKICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGVkUm91dGVyLCB7IGhpc3Rvcnk6IGJyb3dzZXJIaXN0b3J5IH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLCBudWxsLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL3RlYW1JbnZpdGVzLzpub25jZS86cGF5bG9hZCIsIGNvbXBvbmVudDogVGVhbUludml0ZXMsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL3NldHRpbmdzKiIsIGNvbXBvbmVudDogU2V0dGluZ3MsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2xvZ2luL3VzZXJQcm9maWxlIiwgY29tcG9uZW50OiBMb2dpbiwgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvbG9naW4vY29ubmVjdFByb3ZpZGVyKiIsIGNvbXBvbmVudDogTG9naW4sIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgeyBmcm9tOiAiLyoiLCB0bzogIi9sb2dpbi9jb25uZWN0UHJvdmlkZXIiIH0pKSkpOwogICAgfQogICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbm5lY3RlZFJvdXRlciwgeyBoaXN0b3J5OiBicm93c2VySGlzdG9yeSB9LAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgc3R5bGU6IF9fYXNzaWduKHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9LCBnZXREZXZpY2VTdHlsZXMoKSkgfSwKICAgICAgICAgICAgIWhpZGVCYW5uZXIgJiYKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFubmVyLCBudWxsKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChab29tTWVldGluZywgbnVsbCksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVtb1ZpZGVvLCBudWxsKSwKICAgICAgICAgICAgISF0cmlhbEVuZGVkICYmCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgbnVsbCwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvbWFpbCoiLCBleGFjdDogdHJ1ZSwgY29tcG9uZW50OiBUcmlhbEVuZGVkIH0pLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi8iLCBleGFjdDogdHJ1ZSwgY29tcG9uZW50OiBUcmlhbEVuZGVkIH0pKSwKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvbG9naW4vdXNlclByb2ZpbGUiLCBjb21wb25lbnQ6IExvZ2luLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9sb2dpbi9jaG9vc2VQbGFuIiwgY29tcG9uZW50OiBMb2dpbiwgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvcmVkaXJlY3QvbWFnaWMqIiwgY29tcG9uZW50OiBMb2dpbiwgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvYXV0aC9tYWdpYyoiLCBjb21wb25lbnQ6IExvZ2luLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIHJlZGlyZWN0UGxhdGZvcm0gJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHsgZnJvbTogIi8qIiwgdG86ICIvcmVkaXJlY3QvbWFnaWNMaW5rIiB9KSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7IGZyb206ICIvbG9naW4qIiwgdG86IHJlZGlyZWN0UGF0aCB8fCAnLycgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvcHVibGljL3NoYXJlZFRocmVhZHMvOnNoYXJlZFRocmVhZC86bWVzc2FnZSIsIGNvbXBvbmVudDogUHVibGljU2hhcmVkVGhyZWFkcywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvcHVibGljKiIsIGNvbXBvbmVudDogUHVibGljU2hhcmVkVGhyZWFkcywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvb25ib2FyZGluZy90ZWFtaW52aXRlIiwgY29tcG9uZW50OiBUZWFtSW52aXRlLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9zZXR0aW5ncyoiLCBjb21wb25lbnQ6IFNldHRpbmdzLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9tYWlsLzphY2NvdW50SWQ/L2xpc3RzLyoiLCBjb21wb25lbnQ6IFRocmVhZHMsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL21haWwvOmFjY291bnRJZD8vOmJveElkPy86dGhyZWFkSWQ/LzptZXNzYWdlSWQ/IiwgY29tcG9uZW50OiBUaHJlYWRzLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9tZW50aW9ucyoiLCBjb21wb25lbnQ6IE1lbnRpb25zLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9zaGFyZWRUaHJlYWRzKiIsIGNvbXBvbmVudDogTWVudGlvbnMsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL3RlYW1JbnZpdGVzLzpub25jZS86cGF5bG9hZCIsIGNvbXBvbmVudDogVGVhbUludml0ZXMsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2NhbXBhaWducyIsIGNvbXBvbmVudDogQ2FtcGFpZ25zLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9jb250YWN0cyIsIGNvbXBvbmVudDogQ29udGFjdHMsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgeyBmcm9tOiAiL2FuYWx5dGljcy91bnN1YnNjcmliZXIiLCB0bzogIi91bnN1YnNjcmliZXIiLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9hbmFseXRpY3MqIiwgY29tcG9uZW50OiBBbmFseXRpY3MsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL3RlbXBsYXRlcyoiLCBjb21wb25lbnQ6IE1lc3NhZ2VUZW1wbGF0ZXMsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2NhbGVuZGFycyoiLCBjb21wb25lbnQ6IENhbGVuZGFyLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHsgZnJvbTogIi9jYWxlbmRhciIsIHRvOiAiL2NhbGVuZGFycyIsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL2NhbGVuZGFyIiwgY29tcG9uZW50OiBDYWxlbmRhciwgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvdW5zdWJzY3JpYmVyIiwgY29tcG9uZW50OiBVbnN1YnNjcmliZXIsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL3NlcXVlbmNlcyoiLCBjb21wb25lbnQ6IFNlcXVlbmNlcywgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvc2NoZWR1bGluZyIsIGNvbXBvbmVudDogQ2FsZW5kYXJTY2hlZHVsaW5nLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9zY2hlZHVsaW5nL2RldGFpbCIsIGNvbXBvbmVudDogQ2FsZW5kYXJTY2hlZHVsaW5nRGV0YWlsLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi9wb3BvdXQvdGhyZWFkcy86dGhyZWFkSWQvbWVzc2FnZXMvOm1lc3NhZ2VJZCIsIGNvbXBvbmVudDogTWVzc2FnZSwgZXhhY3Q6IHRydWUgfSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6ICIvcG9wb3V0L2RyYWZ0cy86ZHJhZnRJZCIsIGNvbXBvbmVudDogRHJhZnQsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgaXNNb2JpbGUgJiYKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7IGZyb206ICIvIiwgdG86ICIvc2V0dGluZ3MiLCBleGFjdDogdHJ1ZSB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogIi8iLCBjb21wb25lbnQ6IFRocmVhZHMsIGV4YWN0OiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiAiL3JlY2FwLzIwMjAiLCBjb21wb25lbnQ6IFllYXJJblJldmlldywgZXhhY3Q6IHRydWUgfSkpKSkpOwp9Owp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gKHsKICAgICAgICBsb2dnZWRJbjogc3RhdGUubG9nZ2VkSW4sCiAgICAgICAgbG9hZGluZzogKHN0YXRlLmxvZ2dlZEluICYmICFzdGF0ZS5tZS5kYXRhKSB8fCAhc3RhdGUuZGJSZWFkeSwKICAgICAgICBjb25uZWN0UHJvdmlkZXI6IHN0YXRlLmFjY291bnRzLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5tZS5zdGF0dXMgPT09IFJlc291cmNlU3RhdHVzLk9rLAogICAgICAgIHRmYU5lZWRlZDogc3RhdGUudGZhTmVlZGVkLAogICAgICAgIHRoZW1lOiBzdGF0ZS50aGVtZSwKICAgICAgICByZWRpcmVjdFBsYXRmb3JtOiBzdGF0ZS5yZWRpcmVjdFBsYXRmb3JtLAogICAgICAgIHRyaWFsRW5kZWQ6IHNlbGVjdFNob3VsZFNlZVRyaWFsRW5kZWRCYW5uZXIoc3RhdGUpLAogICAgICAgIGlzTW9iaWxlOiBzdGF0ZS5pc01vYmlsZSwKICAgIH0pOwp9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoQXBwKTsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/App.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/App.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { ConnectedRouter } from 'react-router-redux';\n\nimport browserHistory from '@src/lib/browserHistory';\n\nimport { StoreState, Resource, ResourceStatus } from '@src/types';\nimport { Coupon, CouponType } from '@src/types/billing';\n\nimport Login from '@src/routes/Login';\nimport Threads from '@src/routes/Threads';\nimport TeamInvites from '@src/routes/TeamInvites';\nimport Campaigns from '@src/routes/Campaigns';\nimport Contacts from '@src/routes/Contacts';\n\nimport Analytics from '@src/routes/Analytics';\nimport Settings from '@src/routes/Settings';\nimport FullPageLoader from '@src/components/Loader/FullPageLoader';\nimport Sequences from '@src/routes/Sequences';\nimport CalendarScheduling from '@src/routes/CalendarScheduling';\n// tslint:disable-next-line:max-line-length\nimport CalendarSchedulingDetail from '@src/routes/CalendarScheduling/components/CalendarSchedulingDetail';\nimport TeamInvite from '@src/routes/Login/components/TeamInvite';\nimport Banner from '@src/components/Banner';\nimport Message from '@src/routes/Message';\nimport Draft from '@src/routes/Draft';\nimport Mentions from '@src/routes/Mentions';\nimport PublicSharedThreads from '@src/routes/PublicSharedThreads';\nimport MessageTemplates from './routes/MessageTemplates';\nimport Calendar from './routes/Calendar';\nimport ThemeSwitcher from './components/Base/ThemeSwitcher';\nimport TrialEnded from './components/Onboarding/components/TrialEnded';\nimport { isElectronWindows } from './lib/electron';\nimport Unsubscriber from './routes/Unsubscriber';\nimport DemoVideo from './components/DemoVideo';\nimport ZoomMeeting from './components/Modals/ZoomMeeting';\nimport YearInReview from './routes/YearInReview';\nimport { getUrlParamsByKeys } from './lib/utils';\nimport { selectShouldSeeTrialEndedBanner } from './ducks/me';\n\ninterface Props {\n  loggedIn: boolean;\n  loading: boolean;\n  connectProvider: boolean;\n  tfaNeeded: boolean;\n  theme: Resource<string>;\n  trialEnded: boolean;\n  redirectPlatform?: string;\n  isMobile?: boolean;\n}\n\nlet redirectPath: string | undefined;\n\n// TODO(SHIN): Handle Magic Link Sign in via Desktop\n// Specialized URL for magic link handling\nconst App: React.SFC<Props> = (props) => {\n  const {\n    loggedIn, loading, connectProvider,\n    tfaNeeded, theme, trialEnded,\n    redirectPlatform, isMobile,\n  } = props;\n  const currentPath = browserHistory.location.pathname;\n  if (!redirectPath && !currentPath.startsWith('/login')) {\n    redirectPath = currentPath;\n  }\n\n  // get coupon -if any- from the url params\n  const paramKeys = [CouponType.Promo];\n  const coupon: Coupon = getUrlParamsByKeys(paramKeys);\n  if (coupon && coupon[CouponType.Promo]) {\n    // coupon has to be caps for the request to work\n    coupon[CouponType.Promo] = coupon[CouponType.Promo].toUpperCase();\n\n    localStorage.setItem(CouponType.Coupon, JSON.stringify(coupon));\n  }\n\n  // Identify redirect path for unsubscriber\n  if (currentPath) {\n    const search = new URLSearchParams(browserHistory.location.search);\n    const unsubscriberSignup = !!search.get('unsubscriber');\n    if (unsubscriberSignup) {\n      redirectPath = '/unsubscriber';\n    }\n  }\n\n  // Defined routes to not show banner\n  const noBannerPrefixes = [\n    '/public', '/auth', '/redirect',\n  ];\n  let hideBanner = false;\n  noBannerPrefixes.forEach((p) => {\n    if ((redirectPath || currentPath).startsWith(p)) {\n      hideBanner = true;\n    }\n  });\n\n  const getDeviceStyles = ()  => {\n    let styles = {\n      height: '100vh',\n    };\n\n    if (isElectronWindows) {\n      styles = {\n        height: '100%',\n      };\n    }\n    if (isMobile) {\n      styles = {\n        // HACK: this should be 100% but the scroll is not working with it\n        height: '90vh',\n      };\n    }\n    return styles;\n  };\n\n  if (tfaNeeded) {\n    return (\n        <ConnectedRouter history={browserHistory}>\n          <Switch>\n            <Route path=\"/login/tfa\" component={Login} exact />\n            <Route path=\"/auth/*\" component={Login} exact />\n            <Redirect from=\"/*\" to=\"/login/tfa\" />\n          </Switch>\n        </ConnectedRouter>\n    );\n  }\n\n  if (!loggedIn) {\n    return (\n      <ConnectedRouter history={browserHistory}>\n        <Switch>\n          <Route path=\"/teamInvites/:nonce/:payload\" component={TeamInvites} exact />\n          <Redirect from=\"/login/connectProvider\" to=\"/login\" />\n          <Redirect from=\"/login/tfa\" to=\"/login\" />\n          <Route path=\"/login/team/:nonce/:payload\" component={Login} exact />\n          <Route path=\"/login*\" component={Login} exact />\n          <Route path=\"/auth*\" component={Login} exact />\n          <Route\n            path=\"/public/sharedThreads/:sharedThread/:message\"\n            component={PublicSharedThreads}\n            exact\n          />\n          <Route\n            path=\"/public/sharedThreads/:sharedThread\"\n            component={PublicSharedThreads}\n            exact\n          />\n          <Route path=\"/public*\" component={PublicSharedThreads} exact />\n          <Redirect from=\"/*\" to=\"/login\" />\n        </Switch>\n      </ConnectedRouter>\n    );\n  }\n\n  if (loading) {\n    return <FullPageLoader />;\n  }\n\n  // Show switcher for Dark Mode\n  if (theme.status === ResourceStatus.Refreshing) {\n    return (<ThemeSwitcher />);\n  }\n\n  if (connectProvider) {\n    return (\n      <ConnectedRouter history={browserHistory}>\n        <Switch>\n          <Route path=\"/teamInvites/:nonce/:payload\" component={TeamInvites} exact />\n          <Route path=\"/settings*\" component={Settings} exact />\n          <Route path=\"/login/userProfile\" component={Login} exact />\n          <Route path=\"/login/connectProvider*\" component={Login} exact />\n          <Redirect from=\"/*\" to=\"/login/connectProvider\" />\n        </Switch>\n      </ConnectedRouter>\n    );\n  }\n\n  return (\n    <ConnectedRouter history={browserHistory}>\n      <div style={{ display: 'flex', flexDirection: 'column', ...getDeviceStyles() }}>\n        {!hideBanner &&\n          <Banner />\n        }\n        <ZoomMeeting />\n        <DemoVideo />\n        {!!trialEnded &&\n          <Switch>\n            <Route path=\"/mail*\" exact component={TrialEnded} />\n            <Route path=\"/\" exact component={TrialEnded} />\n          </Switch>\n        }\n        <Switch>\n          <Route path=\"/login/userProfile\" component={Login} exact />\n          <Route path=\"/login/choosePlan\" component={Login} exact />\n          <Route path=\"/redirect/magic*\" component={Login} exact />\n          <Route path=\"/auth/magic*\" component={Login} exact />\n          {redirectPlatform && (\n            <Redirect from=\"/*\" to=\"/redirect/magicLink\" />\n          )}\n          <Redirect from=\"/login*\" to={redirectPath || '/'} />\n          <Route\n            path=\"/public/sharedThreads/:sharedThread/:message\"\n            component={PublicSharedThreads}\n            exact\n          />\n          <Route\n            path=\"/public*\"\n            component={PublicSharedThreads}\n            exact\n          />\n          <Route path=\"/onboarding/teaminvite\" component={TeamInvite} exact />\n          <Route path=\"/settings*\" component={Settings} exact />\n          <Route path=\"/mail/:accountId?/lists/*\" component={Threads} exact />\n          <Route\n            path=\"/mail/:accountId?/:boxId?/:threadId?/:messageId?\"\n            component={Threads}\n            exact\n          />\n          <Route\n            path=\"/mentions*\"\n            component={Mentions}\n            exact\n          />\n          <Route\n            path=\"/sharedThreads*\"\n            component={Mentions}\n            exact\n          />\n          <Route path=\"/teamInvites/:nonce/:payload\" component={TeamInvites} exact />\n          <Route path=\"/campaigns\" component={Campaigns} exact />\n          <Route path=\"/contacts\" component={Contacts} exact />\n          <Redirect from=\"/analytics/unsubscriber\" to=\"/unsubscriber\" exact />\n          <Route path=\"/analytics*\" component={Analytics} exact />\n          <Route path=\"/templates*\" component={MessageTemplates} exact />\n          <Route path=\"/calendars*\" component={Calendar} exact />\n          <Redirect from=\"/calendar\" to=\"/calendars\" exact />\n          <Route path=\"/calendar\" component={Calendar} exact />\n          <Route path=\"/unsubscriber\" component={Unsubscriber} exact />\n          <Route path=\"/sequences*\" component={Sequences} exact />\n          <Route path=\"/scheduling\" component={CalendarScheduling} exact />\n          <Route path=\"/scheduling/detail\" component={CalendarSchedulingDetail} exact />\n          <Route path=\"/popout/threads/:threadId/messages/:messageId\" component={Message} exact />\n          <Route path=\"/popout/drafts/:draftId\" component={Draft} exact />\n          {isMobile &&\n            <Redirect from=\"/\" to=\"/settings\" exact />\n          }\n          <Route path=\"/\" component={Threads} exact />\n          <Route path=\"/recap/2020\" component={YearInReview} exact />\n        </Switch>\n      </div>\n    </ConnectedRouter>\n  );\n};\n\nconst mapStateToProps = (state: StoreState): Props => {\n  return({\n    loggedIn: state.loggedIn,\n    loading: (state.loggedIn && !state.me.data) || !state.dbReady,\n    connectProvider: state.accounts.length === 0 && state.me.status === ResourceStatus.Ok,\n    tfaNeeded: state.tfaNeeded,\n    theme: state.theme,\n    redirectPlatform: state.redirectPlatform,\n    trialEnded: selectShouldSeeTrialEndedBanner(state),\n    isMobile: state.isMobile,\n  });\n};\n\nexport default connect<Props>(mapStateToProps)(App);\n"]}]}