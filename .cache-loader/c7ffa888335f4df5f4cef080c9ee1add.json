{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/BlockConfirm/BlockConfirm.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/BlockConfirm/BlockConfirm.tsx","mtime":1675280253985},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOwppbXBvcnQgUG9wb3ZlciBmcm9tICdAc3JjL2NvbXBvbmVudHMvUG9wb3Zlci9Qb3BvdmVyJzsKaW1wb3J0IHsgS2V5Q29kZSB9IGZyb20gJ0BzcmMvdHlwZXMnOwppbXBvcnQgJy4vQmxvY2tDb25maXJtLnNjc3MnOwp2YXIgQmxvY2tDb25maXJtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewogICAgX19leHRlbmRzKEJsb2NrQ29uZmlybSwgX3N1cGVyKTsKICAgIGZ1bmN0aW9uIEJsb2NrQ29uZmlybSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKICAgICAgICBfdGhpcy5oYW5kbGVQb3BvdmVyUmVmID0gZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBfdGhpcy5wb3BvdmVyID0gcmVmOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgb25DYW5jZWwgPSBfdGhpcy5wcm9wcy5vbkNhbmNlbDsKICAgICAgICAgICAgaWYgKG9uQ2FuY2VsKSB7CiAgICAgICAgICAgICAgICBvbkNhbmNlbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYW5kbGVDb25maXJtID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgb25Db25maXJtID0gX3RoaXMucHJvcHMub25Db25maXJtOwogICAgICAgICAgICBpZiAob25Db25maXJtKSB7CiAgICAgICAgICAgICAgICBvbkNvbmZpcm0oKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlVW5zdWJzY3JpYmVDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG9uVW5zdWJzY3JpYmVDbGljayA9IF90aGlzLnByb3BzLm9uVW5zdWJzY3JpYmVDbGljazsKICAgICAgICAgICAgaWYgKG9uVW5zdWJzY3JpYmVDbGljaykgewogICAgICAgICAgICAgICAgb25VbnN1YnNjcmliZUNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBLZXlDb2RlLkVudGVyKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVDb25maXJtKCk7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXM7CiAgICB9CiAgICBCbG9ja0NvbmZpcm0ucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjb21wb25lbnQgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTsKICAgICAgICBpZiAodGhpcy5wb3BvdmVyKSB7CiAgICAgICAgICAgIHRoaXMucG9wb3Zlci5zaG93KCk7CiAgICAgICAgfQogICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgewogICAgICAgICAgICBjb21wb25lbnQuZm9jdXMoKTsKICAgICAgICB9CiAgICB9OwogICAgQmxvY2tDb25maXJtLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgdGl0bGUgPSBfYS50aXRsZSwgbWVzc2FnZSA9IF9hLm1lc3NhZ2UsIGNhbmNlbENvcHkgPSBfYS5jYW5jZWxDb3B5LCBjb25maXJtQ29weSA9IF9hLmNvbmZpcm1Db3B5LCBvbkNhbmNlbCA9IF9hLm9uQ2FuY2VsLCBoYXNVbnN1YnNjcmliZSA9IF9hLmhhc1Vuc3Vic2NyaWJlOwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQb3BvdmVyLCB7IHJlZjogdGhpcy5oYW5kbGVQb3BvdmVyUmVmLCBjbGFzc05hbWU6ICJibG9jay1jb25maXJtLXBvcG92ZXIiLCBvbkhpZGU6IHRoaXMuaGFuZGxlQ2FuY2VsLCBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93biwgb3ZlcmxheTogdHJ1ZSwgcGVyc2lzdGVudDogdHJ1ZSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNvbmZpcm0iIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInRpdGxlIiB9LCB0aXRsZSksCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImJvZHkiIH0sCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJtZXNzYWdlIiB9LCBtZXNzYWdlKSwKICAgICAgICAgICAgICAgICAgICBoYXNVbnN1YnNjcmliZSAmJgogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogInVuc3Vic2NyaWJlLXNlY3Rpb24iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImNvcHkiIH0sICJPciwgZm9sbG93IHRoaXMgbGluayB0byIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZVVuc3Vic2NyaWJlQ2xpY2ssIGNsYXNzTmFtZTogInVuc3Vic2NyaWJlLWFjdGlvbiIgfSwgIlVuc3Vic2NyaWJlIikpLAogICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWN0aW9uLWJ1dHRvbnMiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiY2FuY2VsLWJ1dHRvbiIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2FuY2VsIH0sIGNhbmNlbENvcHkgfHwgJ0NhbmNlbCcpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7IGNsYXNzTmFtZTogImNvbmZpcm0tYnV0dG9uIiwgb25DbGljazogdGhpcy5oYW5kbGVDb25maXJtIH0sIGNvbmZpcm1Db3B5IHx8ICdPSycpKSkpKSk7CiAgICB9OwogICAgcmV0dXJuIEJsb2NrQ29uZmlybTsKfShSZWFjdC5Db21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgQmxvY2tDb25maXJtOwo="},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/BlockConfirm/BlockConfirm.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/BlockConfirm/BlockConfirm.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,QAAQ,MAAM,WAAW,CAAC;AAEjC,OAAO,OAAO,MAAM,iCAAiC,CAAC;AACtD,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AACrC,OAAO,qBAAqB,CAAC;AAO7B;IAA2B,gCAA0B;IAArD;QAAA,qEAyGC;QAtGC,sBAAgB,GAAG,UAAC,GAAY;YAC9B,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACrB,CAAC,CAAA;QAaD,kBAAY,GAAG;YACL,IAAA,+BAAQ,CAAgB;YAChC,IAAI,QAAQ,EAAE;gBACZ,QAAQ,EAAE,CAAC;aACZ;QACH,CAAC,CAAA;QAED,mBAAa,GAAG;YACN,IAAA,iCAAS,CAAgB;YACjC,IAAI,SAAS,EAAE;gBACb,SAAS,EAAE,CAAC;aACb;QACH,CAAC,CAAA;QAED,4BAAsB,GAAG;YACf,IAAA,mDAAkB,CAAgB;YAC1C,IAAI,kBAAkB,EAAE;gBACtB,kBAAkB,EAAE,CAAC;aACtB;QACH,CAAC,CAAA;QAED,mBAAa,GAAG,UAAC,CAAmC;YAClD,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,KAAK,EAAE;gBAC/B,KAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;aACrB;QACH,CAAC,CAAA;;IA4DH,CAAC;IAlGC,wCAAiB,GAAjB;QACE,IAAM,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SACrB;QAED,IAAI,SAAS,YAAY,WAAW,EAAE;YACpC,SAAS,CAAC,KAAK,EAAE,CAAC;SACnB;IACH,CAAC;IA+BD,6BAAM,GAAN;QACQ,IAAA,eAOQ,EANZ,gBAAK,EACL,oBAAO,EACP,0BAAU,EACV,4BAAW,EACX,sBAAQ,EACR,kCACY,CAAC;QACf,OAAO,CACL,oBAAC,OAAO,IACN,GAAG,EAAE,IAAI,CAAC,gBAAgB,EAC1B,SAAS,EAAC,uBAAuB,EACjC,MAAM,EAAE,IAAI,CAAC,YAAY,EACzB,SAAS,EAAE,IAAI,CAAC,aAAa,EAC7B,OAAO,QACP,UAAU;YAEV,6BAAK,SAAS,EAAC,SAAS;gBACtB,6BAAK,SAAS,EAAC,OAAO,IACnB,KAAK,CACF;gBACN,6BAAK,SAAS,EAAC,MAAM;oBACnB,6BAAK,SAAS,EAAC,SAAS,IACrB,OAAO,CACJ;oBACL,cAAc;wBACb,6BAAK,SAAS,EAAC,qBAAqB;4BAClC,6BAAK,SAAS,EAAC,MAAM,8BAEf;4BACN,gCACE,OAAO,EAAE,IAAI,CAAC,sBAAsB,EACpC,SAAS,EAAC,oBAAoB,kBAGvB,CACL;oBAER,6BAAK,SAAS,EAAC,gBAAgB;wBAC5B,QAAQ,IAAI,gCACX,SAAS,EAAC,eAAe,EACzB,OAAO,EAAE,IAAI,CAAC,YAAY,IAEzB,UAAU,IAAI,QAAQ,CAChB;wBACT,gCACE,SAAS,EAAC,gBAAgB,EAC1B,OAAO,EAAE,IAAI,CAAC,aAAa,IAE1B,WAAW,IAAI,IAAI,CACb,CACL,CACF,CACF,CACE,CACX,CAAC;IACJ,CAAC;IACH,mBAAC;AAAD,CAAC,AAzGD,CAA2B,KAAK,CAAC,SAAS,GAyGzC;AAED,eAAe,YAAY,CAAC","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Props as ConfirmProps } from '../Confirm';\nimport Popover from '@src/components/Popover/Popover';\nimport { KeyCode } from '@src/types';\nimport './BlockConfirm.scss';\n\nexport interface Props extends ConfirmProps {\n  hasUnsubscribe?: boolean;\n  onUnsubscribeClick?: () => void;\n}\n\nclass BlockConfirm extends React.Component<Props, {}> {\n  popover: Popover;\n\n  handlePopoverRef = (ref: Popover) => {\n    this.popover = ref;\n  }\n\n  componentDidMount() {\n    const component = ReactDOM.findDOMNode(this);\n    if (this.popover) {\n      this.popover.show();\n    }\n\n    if (component instanceof HTMLElement) {\n      component.focus();\n    }\n  }\n\n  handleCancel = () => {\n    const { onCancel } = this.props;\n    if (onCancel) {\n      onCancel();\n    }\n  }\n\n  handleConfirm = () => {\n    const { onConfirm } = this.props;\n    if (onConfirm) {\n      onConfirm();\n    }\n  }\n\n  handleUnsubscribeClick = () => {\n    const { onUnsubscribeClick } = this.props;\n    if (onUnsubscribeClick) {\n      onUnsubscribeClick();\n    }\n  }\n\n  handleKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n    if (e.keyCode === KeyCode.Enter) {\n      this.handleConfirm();\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  render() {\n    const {\n      title,\n      message,\n      cancelCopy,\n      confirmCopy,\n      onCancel,\n      hasUnsubscribe,\n    } = this.props;\n    return (\n      <Popover\n        ref={this.handlePopoverRef}\n        className=\"block-confirm-popover\"\n        onHide={this.handleCancel}\n        onKeyDown={this.handleKeyDown}\n        overlay\n        persistent\n      >\n        <div className=\"confirm\">\n          <div className=\"title\">\n            {title}\n          </div>\n          <div className=\"body\">\n            <div className=\"message\">\n              {message}\n            </div>\n            {hasUnsubscribe &&\n              <div className=\"unsubscribe-section\">\n                <div className=\"copy\">\n                  Or, follow this link to\n                </div>\n                <button\n                  onClick={this.handleUnsubscribeClick}\n                  className=\"unsubscribe-action\"\n                >\n                  Unsubscribe\n                </button>\n              </div>\n            }\n            <div className=\"action-buttons\">\n              {onCancel && <button\n                className=\"cancel-button\"\n                onClick={this.handleCancel}\n              >\n                {cancelCopy || 'Cancel'}\n              </button>}\n              <button\n                className=\"confirm-button\"\n                onClick={this.handleConfirm}\n              >\n                {confirmCopy || 'OK'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </Popover>\n    );\n  }\n}\n\nexport default BlockConfirm;\n"]}]}