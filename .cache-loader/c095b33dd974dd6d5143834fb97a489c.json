{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/UpgradePrompt/UpgradePrompt.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/UpgradePrompt/UpgradePrompt.tsx","mtime":1675280253989},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgaGlzdG9yeSBmcm9tICdAc3JjL2xpYi9icm93c2VySGlzdG9yeSc7CmltcG9ydCAnLi9VcGdyYWRlUHJvbXB0LnNjc3MnOwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCBPdmVybGF5IGZyb20gJy4uL092ZXJsYXknOwp2YXIgVXBncmFkZVByb21wdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhVcGdyYWRlUHJvbXB0LCBfc3VwZXIpOwogICAgZnVuY3Rpb24gVXBncmFkZVByb21wdCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgICAgIF90aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLmRlYm91bmNlZEhpZGUuY2FuY2VsKCk7CiAgICAgICAgICAgIF90aGlzLmRlYm91bmNlZFNob3coKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZVNob3cgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghX3RoaXMuaGFzUmVuZGVyZWQpIHsKICAgICAgICAgICAgICAgIF90aGlzLmhhc1JlbmRlcmVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLmRlYm91bmNlZFNob3cuY2FuY2VsKCk7CiAgICAgICAgICAgIF90aGlzLmRlYm91bmNlZEhpZGUoKTsKICAgICAgICB9OwogICAgICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBoaXN0b3J5LnB1c2goJy9zZXR0aW5ncy9iaWxsaW5nJyk7CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5oYXNSZW5kZXJlZCA9IGZhbHNlOwogICAgICAgIF90aGlzLmRlYm91bmNlZFNob3cgPSBkZWJvdW5jZShfdGhpcy5oYW5kbGVTaG93LCA1MDApOwogICAgICAgIF90aGlzLmRlYm91bmNlZEhpZGUgPSBkZWJvdW5jZShfdGhpcy5oYW5kbGVIaWRlLCAxMDApOwogICAgICAgIF90aGlzLnN0YXRlID0geyBzaG93OiBmYWxzZSB9OwogICAgICAgIHJldHVybiBfdGhpczsKICAgIH0KICAgIFVwZ3JhZGVQcm9tcHQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuZGVib3VuY2VkSGlkZS5jYW5jZWwoKTsKICAgICAgICB0aGlzLmRlYm91bmNlZFNob3cuY2FuY2VsKCk7CiAgICB9OwogICAgVXBncmFkZVByb21wdC5wcm90b3R5cGUucmVuZGVyTGlnaHRib3ggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLCB0aXRsZSA9IF9hLnRpdGxlLCBkZXNjcmlwdGlvbiA9IF9hLmRlc2NyaXB0aW9uOwogICAgICAgIHZhciBzaG93ID0gdGhpcy5zdGF0ZS5zaG93OwogICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChPdmVybGF5LCBudWxsLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogY2xhc3NuYW1lcygidXBncmFkZS1wcm9tcHQiLCBjbGFzc05hbWUsICdsaWdodGJveCcsIHsKICAgICAgICAgICAgICAgICAgICBzaG93OiBzaG93LAogICAgICAgICAgICAgICAgICAgICdub3QtcmVuZGVyZWQnOiAhdGhpcy5oYXNSZW5kZXJlZCwKICAgICAgICAgICAgICAgIH0pIH0sCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJoMyIsIHsgY2xhc3NOYW1lOiAidGl0bGUiIH0sIHRpdGxlKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiZGVzY3JpcHRpb24iIH0sIGRlc2NyaXB0aW9uKSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYnV0dG9uIiwgb25DbGljazogdGhpcy5oYW5kbGVDbGljayB9LCB0aGlzLnByb3BzLmJ1dHRvbkNvcHkgfHwgJ0xlYXJuIE1vcmUnKSkpKTsKICAgIH07CiAgICBVcGdyYWRlUHJvbXB0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLCB0aXRsZSA9IF9hLnRpdGxlLCBkZXNjcmlwdGlvbiA9IF9hLmRlc2NyaXB0aW9uLCBsaWdodGJveCA9IF9hLmxpZ2h0Ym94OwogICAgICAgIHZhciBzaG93ID0gdGhpcy5zdGF0ZS5zaG93OwogICAgICAgIGlmIChsaWdodGJveCAmJiB0aGlzLnN0YXRlLnNob3cpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyTGlnaHRib3goKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogY2xhc3NuYW1lcygidXBncmFkZS1wcm9tcHQiLCBjbGFzc05hbWUsIHsKICAgICAgICAgICAgICAgIHNob3c6IHNob3csCiAgICAgICAgICAgICAgICAnbm90LXJlbmRlcmVkJzogIXRoaXMuaGFzUmVuZGVyZWQsCiAgICAgICAgICAgIH0pIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImgzIiwgeyBjbGFzc05hbWU6ICJ0aXRsZSIgfSwgdGl0bGUpLAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImRlc2NyaXB0aW9uIiB9LCBkZXNjcmlwdGlvbiksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiYnV0dG9uIiwgb25DbGljazogdGhpcy5oYW5kbGVDbGljayB9LCB0aGlzLnByb3BzLmJ1dHRvbkNvcHkgfHwgJ0xlYXJuIE1vcmUnKSkpOwogICAgfTsKICAgIHJldHVybiBVcGdyYWRlUHJvbXB0Owp9KFJlYWN0LlB1cmVDb21wb25lbnQpKTsKZXhwb3J0IGRlZmF1bHQgVXBncmFkZVByb21wdDsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/UpgradePrompt/UpgradePrompt.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/Base/UpgradePrompt/UpgradePrompt.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport history from '@src/lib/browserHistory';\n\nimport './UpgradePrompt.scss';\nimport { debounce } from 'lodash';\nimport Overlay from '../Overlay';\n\ninterface Props {\n  className?: string;\n  title: string;\n  description: string;\n  lightbox?: boolean;\n  buttonCopy?: string;\n}\n\ninterface State {\n  show: boolean;\n}\n\nclass UpgradePrompt extends React.PureComponent<Props, State> {\n  private hasRendered: boolean;\n  private debouncedShow: any;\n  private debouncedHide: any;\n\n  constructor() {\n    super();\n\n    this.hasRendered = false;\n    this.debouncedShow = debounce(this.handleShow, 500);\n    this.debouncedHide = debounce(this.handleHide, 100);\n    this.state = { show: false };\n  }\n\n  componentWillUnmount() {\n    this.debouncedHide.cancel();\n    this.debouncedShow.cancel();\n  }\n\n  show = () => {\n    this.debouncedHide.cancel();\n    this.debouncedShow();\n  }\n\n  handleShow = () => {\n    if (!this.hasRendered) {\n      this.hasRendered = true;\n    }\n\n    this.setState({\n      show: true,\n    });\n  }\n\n  handleHide = () => {\n    this.setState({\n      show: false,\n    });\n  }\n\n  hide = () => {\n    this.debouncedShow.cancel();\n    this.debouncedHide();\n  }\n\n  handleClick = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    history.push('/settings/billing');\n  }\n\n  renderLightbox() {\n    const { className, title, description } = this.props;\n    const { show } = this.state;\n\n    return (\n      <Overlay>\n        <div\n        className={classnames(`upgrade-prompt`, className, 'lightbox', {\n          show,\n          'not-rendered': !this.hasRendered,\n        })}\n      >\n        <h3 className=\"title\">{title}</h3>\n        <div className=\"description\">{description}</div>\n        <div className=\"button\" onClick={this.handleClick}>\n          {this.props.buttonCopy || 'Learn More'}\n        </div>\n      </div>\n      </Overlay>\n    );\n  }\n\n  render() {\n    const { className, title, description, lightbox } = this.props;\n    const { show } = this.state;\n\n    if (lightbox && this.state.show) {\n      return this.renderLightbox();\n    }\n\n    return (\n      <div\n        className={classnames(`upgrade-prompt`, className, {\n          show,\n          'not-rendered': !this.hasRendered,\n        })}\n      >\n        <h3 className=\"title\">{title}</h3>\n        <div className=\"description\">{description}</div>\n        <button className=\"button\" onClick={this.handleClick}>\n          {this.props.buttonCopy || 'Learn More'}\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default UpgradePrompt;\n"]}]}