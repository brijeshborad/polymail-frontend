{"remainingRequest":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js??ref--6-1!/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/LogActivityPopover/LogActivityPopover.tsx","dependencies":[{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/LogActivityPopover/LogActivityPopover.tsx","mtime":1675280254033},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1675365393858},{"path":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/node_modules/ts-loader/index.js","mtime":1675365391714}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewogICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewogICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAogICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwogICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQogICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICAgIH07Cn0pKCk7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBQb3BvdmVyIGZyb20gJ0BzcmMvY29tcG9uZW50cy9Qb3BvdmVyL1BvcG92ZXInOwppbXBvcnQgVGV4dElucHV0IGZyb20gJ0BzcmMvY29tcG9uZW50cy9Gb3JtL1RleHRJbnB1dCc7CmltcG9ydCAnLi9Mb2dBY3Rpdml0eVBvcG92ZXIuc2Nzcyc7CnZhciBMb2dBY3Rpdml0eVBvcG92ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CiAgICBfX2V4dGVuZHMoTG9nQWN0aXZpdHlQb3BvdmVyLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gTG9nQWN0aXZpdHlQb3BvdmVyKCkgewogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICAgICAgX3RoaXMuaGFuZGxlUG9wb3ZlclJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICAgICAgX3RoaXMucG9wb3ZlclJlZiA9IHJlZjsKICAgICAgICAgICAgX3RoaXMudXBkYXRlUG9wdXBTdGF0ZSgpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlU3VibWl0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkxvZ0FjdGl2aXR5KF90aGlzLnN0YXRlLnN1YmplY3QsIF90aGlzLnN0YXRlLmNvbW1lbnQpOwogICAgICAgIH07CiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUuY3VycmVudFRhcmdldC5uYW1lID09PSAnc3ViamVjdCcpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc3ViamVjdDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGUuY3VycmVudFRhcmdldC5uYW1lID09PSAnY29tbWVudCcpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgY29tbWVudDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgc3ViamVjdDogJycsCiAgICAgICAgICAgIGNvbW1lbnQ6ICcnLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgfQogICAgTG9nQWN0aXZpdHlQb3BvdmVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLnVwZGF0ZVBvcHVwU3RhdGUoKTsKICAgIH07CiAgICBMb2dBY3Rpdml0eVBvcG92ZXIucHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykgewogICAgICAgIC8vIHJlc2V0IGRhdGEgd2hlbiBwb3B1cCBpcyByZXVzZWQKICAgICAgICBpZiAobmV4dFByb3BzLnNob3cgIT09IHRoaXMucHJvcHMuc2hvdyAmJiBuZXh0UHJvcHMuc2hvdykgewogICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3ViamVjdDogJycsIGNvbW1lbnQ6ICcnIH0pOwogICAgICAgIH0KICAgIH07CiAgICBMb2dBY3Rpdml0eVBvcG92ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHsKICAgICAgICBpZiAocHJldlByb3BzLnNob3cgIT09IHRoaXMucHJvcHMuc2hvdykgewogICAgICAgICAgICB0aGlzLnVwZGF0ZVBvcHVwU3RhdGUoKTsKICAgICAgICB9CiAgICB9OwogICAgTG9nQWN0aXZpdHlQb3BvdmVyLnByb3RvdHlwZS51cGRhdGVQb3B1cFN0YXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLnBvcG92ZXJSZWYpIHsKICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2hvdykgewogICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyUmVmLnNob3coKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMucG9wb3ZlclJlZi5oaWRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgTG9nQWN0aXZpdHlQb3BvdmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFBvcG92ZXIsIHsgY2xhc3NOYW1lOiAibG9nLWFjdGl2aXR5LXBvcG92ZXIiLCByZWY6IHRoaXMuaGFuZGxlUG9wb3ZlclJlZiwgb25IaWRlOiB0aGlzLnByb3BzLm9uSGlkZSwgb3ZlcmxheTogdHJ1ZSB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgeyBvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXQgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImg0IiwgbnVsbCwgIkxvZyBBY3Rpdml0eSIpLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHsgbmFtZTogInN1YmplY3QiLCBkZXNjcmlwdGlvbjogIlN1YmplY3QiLCB2YWx1ZTogdGhpcy5zdGF0ZS5zdWJqZWN0LCB0eXBlOiAidGV4dCIsIHBsYWNlaG9sZGVyOiAiU3ViamVjdCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSwgYXV0b2ZvY3VzOiB0cnVlIH0pLAogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHsgbmFtZTogImNvbW1lbnQiLCBkZXNjcmlwdGlvbjogIkNvbW1lbnQiLCB2YWx1ZTogdGhpcy5zdGF0ZS5jb21tZW50LCB0eXBlOiAidGV4dCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSwgcGxhY2Vob2xkZXI6ICJDb21tZW50IiB9KSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIG51bGwsICJTYXZlIikpKSk7CiAgICB9OwogICAgcmV0dXJuIExvZ0FjdGl2aXR5UG9wb3ZlcjsKfShSZWFjdC5QdXJlQ29tcG9uZW50KSk7CmV4cG9ydCBkZWZhdWx0IExvZ0FjdGl2aXR5UG9wb3ZlcjsK"},{"version":3,"file":"/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/LogActivityPopover/LogActivityPopover.tsx","sourceRoot":"","sources":["/Users/andrewsamboy/Desktop/Git/polymail/webapp/src/components/RightSidebar/components/Salesforce/components/LogActivityPopover/LogActivityPopover.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport Popover from '@src/components/Popover/Popover';\nimport TextInput from '@src/components/Form/TextInput';\n\nimport './LogActivityPopover.scss';\n\nexport interface Props {\n  show: boolean;\n  onHide(): void;\n  onLogActivity(subject: string, comment: string): void;\n}\n\nexport interface State {\n  subject: string;\n  comment: string;\n}\n\nclass LogActivityPopover extends React.PureComponent<Props, State> {\n  popoverRef?: Popover;\n\n  constructor() {\n    super();\n    this.state = {\n      subject: '',\n      comment: '',\n    };\n  }\n\n  componentDidMount() {\n    this.updatePopupState();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    // reset data when popup is reused\n    if (nextProps.show !== this.props.show && nextProps.show) {\n      this.setState({ subject: '', comment: '' });\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.show !== this.props.show) {\n      this.updatePopupState();\n    }\n  }\n\n  handlePopoverRef = (ref: any) => {\n    this.popoverRef = ref;\n    this.updatePopupState();\n  }\n\n  updatePopupState() {\n    if (this.popoverRef) {\n      if (this.props.show) {\n        this.popoverRef.show();\n      } else {\n        this.popoverRef.hide();\n      }\n    }\n  }\n\n  handleSubmit = (e: React.FormEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onLogActivity(this.state.subject, this.state.comment);\n  }\n\n  handleChange = (e: React.FormEvent<HTMLInputElement>) => {\n    if (e.currentTarget.name === 'subject') {\n      this.setState({ subject: e.currentTarget.value });\n    } else if (e.currentTarget.name === 'comment') {\n      this.setState({ comment: e.currentTarget.value });\n    }\n  }\n\n  render() {\n    return (\n      <Popover\n        className=\"log-activity-popover\"\n        ref={this.handlePopoverRef}\n        onHide={this.props.onHide}\n        overlay\n      >\n        <form onSubmit={this.handleSubmit}>\n          <h4>Log Activity</h4>\n          <TextInput\n            name=\"subject\"\n            description=\"Subject\"\n            value={this.state.subject}\n            type=\"text\"\n            placeholder=\"Subject\"\n            onChange={this.handleChange}\n            autofocus\n          />\n          <TextInput\n            name=\"comment\"\n            description=\"Comment\"\n            value={this.state.comment}\n            type=\"text\"\n            onChange={this.handleChange}\n            placeholder=\"Comment\"\n          />\n          <button>Save</button>\n        </form>\n      </Popover>\n    );\n  }\n}\n\nexport default LogActivityPopover;\n"]}]}